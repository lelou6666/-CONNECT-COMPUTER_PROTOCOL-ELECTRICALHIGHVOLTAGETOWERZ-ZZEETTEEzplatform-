Power Systems Frequency Dynamic Monitoring System Design
and Applications
By
Zhian Zhong
Dissertation submitted to the faculty of the
Virginia Polytechnic Institute and State University
in partial fulfillment of the requirements for the degree of
Doctor of Philosophy
In
Electrical and Computer Engineering
APPROVED by:
Dr. Yilu Liu (Chair)
Dr. Virgilio Centeno (Co-Chair)
Dr. Richard W. Conners
Dr. Tao Lin
Dr. Yao Liang
Jul. 2005
Blacksburg, Virginia
Keywords: Frequency Monitoring Network (FNET), GPS, Frequency Disturbance
Recorder (FDR), Phasor Measurement Unit (PMU), Wide Area Measurement System,
Under Frequency Load Shedding
Copyright © 2005, Zhian Zhong
Power Systems Frequency Dynamic Monitoring System Design and Application
Zhian Zhong
ABSTRACT
Recent large-scale blackouts revealed that power systems around the world are far from
the stability and reliability requirement as they suppose to be. The post-event analysis
clarifies that one major reason of the interconnection blackout is lack of wide area
information. Frequency dynamics is one of the most important parameters of an electrical
power system. In order to understand power system dynamics effectively, accurately
measured wide-area frequency is needed. The idea of building an Internet based real-time
GPS synchronized wide area Frequency Monitoring Network (FNET) was proposed to
provide the imperative dynamic information for the large-scale power grids and the
implementation of FNET has made the synchronized observations of the entire US power
network possible for the first time. The FNET system consists of Frequency Disturbance
Recorders (FDR), which work as the sensor devices to measure the real-time frequency at
110V single-phase power outlets, and an Information Management System (IMS) to work
as a central server to process the frequency data. The device comparison between FDR
and commercial PMU (Phasor Measurement Unit) demonstrate the advantage of FNET.
The web visualization tools make the frequency data available for the authorized users to
browse through Internet.
The research work addresses some preliminary observations and analyses with the fieldmeasured
frequency information from FNET. The original algorithms based on the
frequency response characteristic are designed to process event detection, localization
and unbalanced power estimation during frequency disturbances. The analysis of
historical cases illustrate that these algorithms can be employed in real-time level to
provide early alarm of abnormal frequency change to the system operator. The further
application is to develop an adaptive under frequency load shedding scheme with the
processed information feed in to prevent further frequency decline in power systems after
disturbances causing dangerous imbalance between the load and generation.
iii
ACKNOWLEDGEMENTS
I would like to express my sincere appreciation and gratitude to my advisor Dr. Yilu
Liu for her invaluable guidance, consistent encouragements and patience. My experience
at Virginia Tech is especially rewarding and helpful in my future career because of her
supports not only in the research work but also in many other aspects.
A special thank goes to Dr. Richard W. Conners for his guidance for development of
frequency measurement device. I would like to thank Dr. Virgilio Centeno, for not only
help me on the academic but also give me so much valuable information and advice on
my future career development; Dr. Tao Lin, for his guidance to develop the mathematical
model, and Dr. Yao Liang for their valuable comments and suggestions on my research
work and serving on my dissertation committee. The research work would not have been
possible without their guidance and assistance.
I would like to thank the Universities and companies who help host the FDR units at
the time of this dissertation: EPRI PEAC (NY), University of Missouri-Rolla, ARI of
Virginia Tech, Seattle University, ABB US CRC (Raleigh), Mississippi State University,
EPRI Solutions (Palo Alto), University of Florida, Calvin College, Houston (George
Xiao), Clarkson University, and Arizona State University.
I would like to thank Mike Ingram, Sandra Bell, Lisa Beard of Tennessee Valley
Authority, and David Lubkeman, Le Tang of ABB for their vision and guidance in the
FNET project. I would like to thank Deirdre Alphenaar of Genscape, Inc. for exchange
the event information.
I would also like to express my gratitude and appreciation to all the advisors, friends
and students in Power Lab. They are Dr. A.G. Phadke, Dr. Jaime De La Ree, Dr. Li
Zhang, Chunchun Xu, Steven Tsai, Ling Chen, B.J. Billian, Jian Zuo, Vivian Liang,
Marcos Donolo, Mark Baldwin, Keith McKenzie, Dawei Fan, Matt Gardner, Will Kook,
Also thanks to Glenda Caldwell for her administrative support.
Special thanks are to my parents, my wife Huijuan and all my friends for their support
during the study at Virginia Tech.
iv
To My Parents and My Wife Huijuan
Table of Contents
v
Table of Contents
ABSTRACT ........................................................................................................................ ii
ACKNOWLEDGEMENTS............................................................................................... iii
Table of Contents................................................................................................................ v
List of Figures .................................................................................................................. viii
List of Tables .................................................................................................................... xii
List of Acronym and Symbols ......................................................................................... xiii
Chapter 1 Introduction..................................................................................................... 1
1.1 Blackouts and Power System Disturbance Analysis ..................................... 1
1.2 Wide Area Measurement System and Phasor Measurement Unit ................. 3
1.3 Power System Frequency Response Research............................................... 4
1.4 Frequency Monitoring Network (FNET)....................................................... 5
1.5 Under Frequency Load Shedding (UFLS)..................................................... 7
1.6 Organization of the Dissertation .................................................................... 9
Chapter 2 Frequency Monitoring Network Architecture and Implementation ............. 10
2.1 The Idea of the Frequency Monitoring Network ......................................... 10
2.2 Architecture of Frequency Monitoring Network ......................................... 11
2.3 Frequency Disturbance Recorder Architecture............................................ 13
2.4 Information Management System................................................................ 15
2.4.1 Data Processing Server Program ................................................................. 17
2.4.2 Data Communication ................................................................................... 19
2.4.3 Database Operation Service......................................................................... 21
2.4.4 Web Service Interface.................................................................................. 22
2.5 Frequency Monitoring Network Implementation ........................................ 24
2.5.1 Frequency Disturbance Recorder Placement ............................................... 24
2.5.2 FNET Server Hardware and software configuration ................................... 27
2.5.3 Assessment of Server Handling Ability of units.......................................... 28
2.6 Summary ......................................................................................................29
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU........ 31
3.1 Comparison of Frequency from PMU and FDR.......................................... 31
3.1.1 Short Period Frequency Comparison ........................................................... 31
3.1.2 Long Period Comparison Result.................................................................. 36
3.1.3 Comparison of Dynamic Response of FDR and PMU ................................ 37
3.1.4 Frequency Disturbance Recorder Accuracy Verification ............................ 38
3.1.5 Test of Accuracy with the Fixed Input Signal ............................................. 40
3.2 Multi Re-sampling (MR) Algorithm............................................................ 42
3.3 Summary ......................................................................................................42
Chapter 4 Frequency Pattern Analysis of the US Power Grids..................................... 43
4.1 Introduction..................................................................................................43
4.2 Local Frequency Characteristics.................................................................. 43
4.2.1 Steady Status Frequency Comparison in Three Interconnections ............... 45
4.2.2 Frequency Comparison between EUS, WECC and ERCOT....................... 47
Table of Contents
vi
4.3 Analysis of Frequency Shift: from Substation to Local Distribution System .
......................................................................................................................48
4.3.1 Software Simulation of Frequency Shift Effect........................................... 48
4.3.2 Field-measurement Data Comparison.......................................................... 51
4.4 Statistical Analysis of Frequency Operation Pattern ................................... 51
4.4.1 Average, Standard Deviation of the Raw Frequency Data .......................... 52
4.4.2 Frequency Integral Analysis in EUS Interconnection ................................. 53
4.4.3 Long-term Frequency Analysis.................................................................... 57
4.5 Regional Frequency Oscillation Analysis.................................................... 64
4.6 Summary ......................................................................................................67
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET..... 69
5.1 Introduction..................................................................................................69
5.2 Trigger Design to Detect Disturbance in Power Grid.................................. 71
5.2.1 Principle of the Trigger Idea ........................................................................ 71
5.2.2 Offline Trigger Algorithm Design ............................................................... 73
5.2.3 Online Trigger Prototype ............................................................................. 78
5.2.4 Confirmer of Event ...................................................................................... 79
5.3 Disturbance Event Localization Algorithm ................................................. 81
5.3.1 Geographical Modeling of Localization Issue............................................. 82
5.3.2 TDOA Algorithm Design ............................................................................ 84
5.3.3 Location Sample Cases Analysis ................................................................. 86
5.3.4 Network Model of Power Grid and the Definition of Electrical Distance .. 88
5.4 Generation Estimation in Generator Tripping Event ................................... 89
5.4.1 Definition of Starting and Ending Time in a Frequency Drop Event .......... 91
5.4.2 Definition of the Frequency Shift during Disturbance ................................ 91
5.4.3 Training Algorithm for the Coefficient of Empirical Equation ................... 92
5.4.4 Validation of Coefficient with Event in WECC .......................................... 93
5.5 Generator Tripped Fault Events Analysis.................................................... 95
5.5.1 Fault Event of Generator Tripped on Aug.4, 2004 ...................................... 95
5.5.2 Fault Event of Generator Tripped on Aug.6, 2004 ...................................... 99
5.5.3 Fault Event of Generator Tripped on Sep.19, 2004 ................................... 103
5.5.4 Fault Event of Generator Tripped on Nov.23, 2004 .................................. 107
5.5.5 Summary of Fault Event Cases in EUS ..................................................... 110
5.5.6 PSS/E Simulation of EUS Cases ............................................................... 111
5.6 Summary ....................................................................................................116
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information ......... 117
6.1 Introduction................................................................................................117
6.2 Design the Adaptive UFLS Scheme Based on FNET ............................... 119
6.2.1 Amount of Unbalanced Power................................................................... 120
6.2.2 Location of Disturbance............................................................................. 121
6.2.3 Distribution of the Power between Possible Load Bus.............................. 123
6.2.4 Optimal Shedding Time Selection ............................................................. 125
6.3 Scenario Analysis of New England 39-bus System................................... 125
6.3.1 Simulation System Structure...................................................................... 126
6.3.2 Analysis of the Bus33 Generator Trip Case .............................................. 129
6.3.3 Analysis of the Bus33 Generator Trip Case .............................................. 132
Table of Contents
vii
6.3.4 Summary of One Generator Trip Cases..................................................... 135
6.3.5 Analysis of Two Generators Trip Case...................................................... 136
6.4 Scenario Analysis of UFLS in EUS System.............................................. 139
6.5 Summary ....................................................................................................142
Chapter 7 Conclusion and Future Research ................................................................ 143
7.1 Conclusions................................................................................................143
7.2 Contributions..............................................................................................145
7.3 Future work................................................................................................145
References .................................................................................................................... 147
Appendix A FNET Server Program Manual .................................................................. 152
A.1 Main Program Structure....................................................................................... 152
A.2 User Interface Description ................................................................................... 153
A.3 User Interface Operation...................................................................................... 155
A.3.1 Add new FDR to the Server.......................................................................... 155
A.3.2 Observe another FDR in the Server .............................................................. 156
A.3.3 Delete a FDR in the Server ........................................................................... 156
A.3.4 Stop and Exit the Server................................................................................ 156
A.4 Communication through the Socket..................................................................... 156
A.5 Database Design................................................................................................... 157
A.6 Class Details Definition ....................................................................................... 159
A.6.1 CFNETReceiverDlg Class ............................................................................ 159
A.6.2 CFNETReceiverApp Class ........................................................................... 160
A.6.3 CMySocket Class.......................................................................................... 160
A.6.4 COScopeCtrl Class ....................................................................................... 161
A.6.5 CPMUDlg Class............................................................................................ 162
A.6.6 CFNETRecord Class..................................................................................... 162
A.6.7 ListItem Struct............................................................................................... 162
Appendix B PHP Code of FNET Web Server ................................................................ 164
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot ....... 177
Appendix D Disturbance Location Code in Matlab ....................................................... 193
VITA ....................................................................................................................196
List of Figures
viii
List of Figures
Figure 2.1 Frequency Monitoring Network Architecture ................................................ 12
Figure 2.2 Frequency Disturbance Recorder Structure.................................................... 14
Figure 2.3 Outlook of Frequency Disturbance Recorder (FDR) ..................................... 14
Figure 2.4 Multi-tier Information Management System Structure .................................. 16
Figure 2.5 Information Management Server Program Interface...................................... 19
Figure 2.6 Streamer table of real-time frequency ............................................................ 23
Figure 2.7 Observation window of real-time frequency.................................................. 23
Figure 2.8 Frequency dynamic data visualization map ................................................... 24
Figure 2.9 NERC regions and sub-regions map [54]........................................................ 25
Figure 2.10 Frequency Disturbance Recorders Location in Continental US Area.......... 27
Figure 3.1 Limiter Filtered Data from PMU A................................................................. 32
Figure 3.2 Limiter Filtered Data from PMU B ................................................................. 32
Figure 3.3 Limiter Filtered Data from PMU C ................................................................. 33
Figure 3.4 Unfiltered (Raw) data of FDR......................................................................... 33
Figure 3.5 Unfiltered data of FDR (using the current algorithm, 8-point average).......... 33
Figure 3.6 Limiter Filtered Data from PMU A................................................................. 34
Figure 3.7 Limiter Filtered Data from PMU B ................................................................. 34
Figure 3.8 Limiter Filtered Data from PMU C ................................................................. 35
Figure 3.9 Limiter Filtered Data from PMU D................................................................. 35
Figure 3.10 Unfiltered data of FDR.................................................................................. 35
Figure 3.11 Limiter Filtered Data of PMU A (long term) ................................................ 36
Figure 3.12 Limiter Filtered Data of PMU C (long term) ................................................ 36
Figure 3.13 Limiter Filtered Data of FDR unit (long term).............................................. 37
Figure 3.14 Dynamic frequency response of PMU A....................................................... 37
Figure 3.15 Dynamic frequency response of PMU C....................................................... 38
Figure 3.16 Dynamic frequency response of FDR unit .................................................... 38
Figure 3.17 Frequency Records Comparison of two FDR Units..................................... 39
Figure 3.18 Frequency Difference between two FDR Units ........................................... 39
Figure 3.19 Measured frequency data of PMU A with accurate 60 Hz signal ................. 40
Figure 3.20 Measured frequency data of PMU B with accurate 60 Hz signal ................. 40
Figure 3.21 Measured frequency data of PMU C with accurate 60 Hz signal ................. 41
Figure 3.22 Measured raw frequency data of FDR unit with accurate 60 Hz signal........ 41
Figure 3.23 Measured average-frequency data of FDR unit with accurate 60 Hz signal. 41
Figure 3.24 Accuracy comparison of current and next generation algorithms................ 42
Figure 4.1 Raw Frequency data from ARI unit ................................................................ 44
Figure 4.2 10-point Average Frequency plot in EUS ....................................................... 45
Figure 4.3 10-point Average Frequency plot in WECC ................................................... 46
Figure 4.4 10-point Average Frequency plot in ERCOT.................................................. 47
Figure 4.5 Simulation system model, the selected buses are in red ellipse ...................... 49
Figure 4.6 Frequency Response along Transmission Line ............................................... 50
Figure 4.7 Detailed frequency response of the first swing ............................................... 50
Figure 4.8 Integral of Frequency Deviation of NY unit ................................................... 53
Figure 4.9 Raw Frequency Data of NY unit ..................................................................... 54
List of Figures
ix
Figure 4.10 Integral of Frequency Deviation of UMR unit .............................................. 54
Figure 4.11 Raw Frequency Data of UMR unit................................................................ 55
Figure 4.12 Integral of Frequency Deviation of ARI unit ................................................ 55
Figure 4.13 Raw Frequency Data of ARI unit.................................................................. 56
Figure 4.14 Integral of Frequency Deviation of VT unit.................................................. 56
Figure 4.15 Raw Frequency Data of VT unit ................................................................... 57
Figure 4.16 Integral of Frequency deviation and raw data on Feb.17, 2004 .................... 58
Figure 4.17 Integral of Frequency deviation and raw data on Feb.18, 2004 .................... 58
Figure 4.18 Integral of Frequency deviation and raw data on Feb.20, 2004 .................... 59
Figure 4.19 Integral of Frequency deviation and raw data on Feb.21, 2004 .................... 59
Figure 4.20 Integral of Frequency deviation and raw data on Feb.22, 2004 .................... 60
Figure 4.21 Integral of Frequency deviation and raw data on Aug. 1, 2004 .................... 61
Figure 4.22 Integral of Frequency deviation and raw data on Aug. 2, 2004 .................... 61
Figure 4.23 Integral of Frequency deviation and raw data on Aug. 3, 2004 .................... 62
Figure 4.24 Integral of Frequency deviation and raw data on Aug. 4, 2004 .................... 62
Figure 4.25 Integral of Frequency deviation and raw data on Aug. 8, 2004 .................... 63
Figure 4.26 Integral of Frequency deviation and raw data on Aug. 9, 2004 .................... 63
Figure 4.27 Frequency Oscillation of Calvin Unit on Apr. 19, 2005 ............................... 65
Figure 4.28 Spectrum Analysis of Frequency Oscillation of Calvin Unit on Apr. 19, 2005
................................................................................................................................... 66
Figure 4.29 Spectrum Analysis of Frequency Oscillation in EUS on Apr. 14, 2005 ....... 67
Figure 5.1 Flow chart of disturbance detect and analysis................................................. 70
Figure 5.2 Illustration of the Trigger Design .................................................................... 72
Figure 5.3 Frequency Event Detection Algorithm Sample Case on May 5, 2004............ 74
Figure 5.4 Detailed Observation of the Sample Case on May 5, 2004............................. 74
Figure 5.5 Detected Event in ERCOT on Jan.12, 2005 .................................................... 75
Figure 5.6 Detected Event in EUS with ARI unit on Apr. 4, 2005 .................................. 76
Figure 5.7 Detected Local Event in EUS with TLN unit on Apr. 18, 2005 ..................... 77
Figure 5.8 Frequency Plot of all Units in TLN Detected Event on Apr. 4, 2005 ............. 78
Figure 5.9 Local Frequency Fluctuation near MISS Area on Apr. 19, 2005.................... 79
Figure 5.10 Frequency Recovery after Disturbance in MISS event ................................ 80
Figure 5.11 Location Sample Case at Davis Besse........................................................... 86
Figure 5.12 Detailed Illustration of Estimated Location and Real Location .................... 87
Figure 5.13 Location Sample Case at Davis Besse........................................................... 87
Figure 5.14 Detailed Illustration of Estimated Location and Real Location .................... 88
Figure 5.15 Frequency of FDR at CA and Seattle in the Jun.14, 2004 generator trip event
in WECC................................................................................................................... 94
Figure 5.16 Raw frequency data of Aug. 4, 2004 event during the event period (3minutes)
................................................................................................................................... 96
Figure 5.17 Detailed raw frequency data of Aug. 4, 2004 event (20seconds)................. 97
Figure 5.18 10-point average frequency of Aug. 4, 2004 event (10seconds)................... 97
Figure 5.19 Average of raw frequency data from 6 FDR Units of Aug. 4, 2004 event ... 98
Figure 5.20 Triangulation of tripped generator location of Aug. 4, 2004 event (eyeball) 99
Figure 5.21 Raw frequency data of Aug. 6, 2004 event (15minutes)............................. 100
Figure 5.22 Detailed raw frequency data of Aug. 6, 2004 event (20seconds)................ 100
Figure 5.23 10-point average frequency of Aug. 6, 2004 event (10seconds)................. 101
List of Figures
x
Figure 5.24 Average of frequency from 4 FDR units of Aug. 6, 2004 event ................ 101
Figure 5.25 Triangulation of tripped generator location of Aug. 6, 2004 event............. 103
Figure 5.26 Raw frequency data of Sep. 19, 2004 event (3minutes).............................. 104
Figure 5.27 Detailed raw frequency data of Sep. 19, 2004 event (20seconds)............... 104
Figure 5.28 10-point average frequency of Sep. 19, 2004 event (10seconds)................ 105
Figure 5.29 Average of frequency from FDR units of Sep. 19, 2004 event.................. 105
Figure 5.30 Triangulation of tripped generator location of Sep. 19, 2004 event............ 106
Figure 5.31 Raw frequency data of Nov. 23, 2004 event (3minutes)............................ 107
Figure 5.32 Detailed raw frequency data of Nov. 23, 2004 event (20seconds)............. 108
Figure 5.33 10-point average frequency of Nov. 23, 2004 event (10seconds).............. 108
Figure 5.34 Average of frequency from 6 FDR units of Nov. 23, 2004 event ............... 109
Figure 5.35 Triangulation of tripped generator location of Nov. 23, 2004 event........... 110
Figure 5.36 Frequency Response on Aug. 4 Event in PSS/E simulation ...................... 112
Figure 5.37 Frequency Response on Sep. 19 Event in PSS/E simulation ..................... 113
Figure 5.38 PSS/E result estimated event location of Aug. 4 event .............................. 115
Figure 5.39 PSS/E result estimated event location of Sep. 19 event ............................ 115
Figure 6.1 Frequency response of generator without governor action ........................... 122
Figure 6.2 New England 39-bus power system .............................................................. 126
Figure 6.3 New England 39-bus power system in 3-area ............................................... 127
Figure 6.4 Frequency response of Gen 30, 31, 33, 35, 38, 39 ........................................ 129
Figure 6.5 Frequency response of Gen 30, 31, 33, 35, 38, 39 ........................................ 130
Figure 6.6 Adaptive UFLS scheme, frequency response of Gen 30, 31, 33, 35, 38, 39. 131
Figure 6.7 Frequency response of Gen 30, 31, 33, 35, 38, 39; Drop Gen38 .................. 132
Figure 6.8 T_UFLS scheme, frequency response of Gen 30, 31, 33, 35, 38, 39............ 133
Figure 6.9 Adaptive UFLS scheme, frequency response of Gen 30, 31, 33, 35, 38, 39. 134
Figure 6.10 Drop33&35, without UFLS scheme, the frequency response..................... 137
Figure 6.11 Adaptive UFLS scheme, frequency response of G30, 31, 33, 35, 38, 39 ... 138
Figure 6.12 EUS transmission system of 345 kV and higher voltage levels.................. 140
Figure 6.13 the frequency response without load shedding scheme............................... 141
Figure 6.14 Frequency response with adaptive UFLS scheme...................................... 142
Figure A.1 Software Structure of Server Program.......................................................... 152
Figure A.2 Multi-unit Server Program Interface ............................................................ 153
Figure A.3 TreeView of the GUI.................................................................................... 153
Figure A.4 Status window of GUI .................................................................................. 154
Figure A.5 Plot Window of GUI..................................................................................... 154
Figure A.6 Message Window of GUI............................................................................. 154
Figure A.7 Add New Unit Dialog................................................................................... 155
Figure A.8 Flow Chart of Communication Structure ..................................................... 157
Figure C.1 Spectrum Analysis of Frequency Oscillation on Apr. 2, 2005 ..................... 182
Figure C.2 Spectrum Analysis of Frequency Oscillation on Apr. 3, 2005 ..................... 183
Figure C.3 Spectrum Analysis of Frequency Oscillation on Apr. 4, 2005 ..................... 184
Figure C.4 Spectrum Analysis of Frequency Oscillation on Apr. 5, 2005 ..................... 185
Figure C.5 Spectrum Analysis of Frequency Oscillation on Apr. 6, 2005 ..................... 186
Figure C.6 Spectrum Analysis of Frequency Oscillation on Apr. 8, 2005 ..................... 187
Figure C.7 Spectrum Analysis of Frequency Oscillation on Apr. 9, 2005 ..................... 188
List of Figures
xi
Figure C.8 Spectrum Analysis of Frequency Oscillation on Apr. 10, 2005 ................... 189
Figure C.9 Spectrum Analysis of Frequency Oscillation on Apr. 11, 2005 ................... 190
Figure C.10 Spectrum Analysis of Frequency Oscillation on Apr. 12, 2005 ................. 191
Figure C.11 Spectrum Analysis of Frequency Oscillation on Apr. 13, 2005 ................. 192
List of Tables
xii
List of Tables
Table 2.1 FDR Unit Location and Relative Council........................................................ 26
Table 2.2 CPU Usage in Handling Limit Test.................................................................. 29
Table 4.1 Statistical Frequency Result of ARI Unit ......................................................... 64
Table 5.1 Generation Tripped Events in WECC .............................................................. 92
Table 5.2 Four Generator Tripped Events to be Analyzed in EUS .................................. 95
Table 5.3 Location Comparison Between The Estimated Location and Real Location. 110
Table 5.4 Generation Comparison Between Estimated Amount and Real Tripped Amount
................................................................................................................................. 111
Table 5.5 Bus node Information of generator in events in PSS/E data........................... 111
Table 5.6 Bus node Information of FDRs in PSS/E data................................................ 111
Table 5.7 Frequency response Comparison Between Real Record and PSS/E Simulation
in Aug.4 event........................................................................................................ 113
Table 5.8 Bottom Freq Value of First Swing in Simulation Result in Aug. 4 event ...... 113
Table 5.9 Frequency response Comparison Between Real Record and PSS/E Simulation
in Sep. 19 event....................................................................................................... 114
Table 5.10 Bottom Freq Value of First Swing in Simulation Result in Sep. 19 event... 114
Table 6.1 Generator Active and Reactive Power Generation ......................................... 127
Table 6.2 Load Information in Simulation ..................................................................... 127
Table 6.3 Three Areas Power Flow Information ............................................................ 128
Table 6.4 Power Flow of the four tie lines...................................................................... 128
Table 6.5 Shedding Load Information in Case of Drop33.............................................. 131
Table 6.6 Generator Information at Steady Status after Disturbance ............................. 131
Table 6.7 Shedding Load Information in Case of Drop38.............................................. 134
Table 6.8 Generator Information at Steady Status after Disturbance ............................. 134
Table 6.9 Comparison of two UFLS Schemes................................................................ 135
Table 6.10 Frequency information at each bus at 0.2 second......................................... 137
Table 6.11 Shedding Load Information in Case of Drop33&35 .................................... 138
Table 6.12 Generator Information at Steady Status after Disturbance ........................... 138
List of Acronym and Symbols
xiii
List of Acronym and Symbols
ACE: Area Control Error
ADC: Analog to digital convector
AGC: Automatic Generation Control
API: Application Program Interface
ECAR: East Central Area Reliability Coordination Agreement
EMS: Energy Management System
EPRI: Electric Power Research Institute
ERCOT: Electric Reliability Council of Texas
EST: Eastern Standard Time
EUS: Eastern US Interconnection
FACTS: Flexible AC Transmission System
FDR: Frequency Disturbance Recorder
FFT: Fast Fourier Transforms
FNET: Frequency Monitoring Network
FRCC: Florida Reliability Coordinating Council
GPS: Global Position System
GUI: Graphical User Interface
HTML: Hypertext Markup Language
IMS: Information Management System
IP: Internet Protocol
ISO: Independent System Operator
ISO: International Standard Organization
IT: Information Technology
LAN: Local Area Network
MAAC: Mid-Atlantic Area Council
MAIN: Mid-America Interconnected Network
MRO: Midwest Reliability Organization
NERC: North American Electrical Reliability Council
NPCC: Northeast Power Coordinating Council
ODBC: Open Database Connectivity
PMU: Phasor Measurement Unit
PSS/E: Power System Simulator for Engineering
SQL: Structured Query Language
SCADA: Supervisory Control and Data Acquisition
SERC: Southeastern Electric Reliability Council
SPP: Southwest Power Pool
STD: Standard Deviation
TCP: Transport Control Protocol
TDOA: Time Difference of Arrival
UDP: User Datagram Protocol
UFLS: Under Frequency Load Shedding
WAMS: Wide Area Measurement System
WECC: Western Electricity Coordinating Council
Chapter 1 Introduction
1
Chapter 1 Introduction
The electric power generation, transmission, and distribution systems are extremely
important to our modern society. It is a very critical issue for power system engineers to
keep the power grid stable and reliable. Large power systems are interconnected to
enforce reliability. Electric power system receives many benefits by operating with such
interconnection. Individual system reliability could be enforced because of improved
frequency response to contingencies such as loss of load or generation. Frequency
changes for a given loss of load or generation are smaller for a large, interconnected
system than the corresponding frequency changes for the isolated control areas.
The electric power system is a complex interconnected system. The loads and the
network topology of the power system change randomly in real time, and the generation
must change instantaneously in order to satisfy the demand. Any slight mismatch will
give rise to instantaneous frequency fluctuation in different areas of the network.
Electromechanical oscillations occur when the system responds to large disturbances
such as those triggered by faults and component failures. Using traditional off-line
simulation studies is impossible to model the complexity, especially the constant
changing operation conditions of large power systems.
1.1 Blackouts and Power System Disturbance Analysis
Power systems are supposed to operate in a way that will not cause large area power lose
and can stand when some generators lost in the grid. However, so many large-scale
blackouts happened in recent years show that power system could become vulnerable [1]
in the face of possible system abnormalities such as control, protection or communication
system failures, disturbances and human operation errors. A big issue of blackout is
information is lack during the event period. A lack in awareness of the power system
status caused the recent 2003 summer blackout in the US [2][3]. The blackout started
Chapter 1 Introduction
2
with some uncritical generator outages in northern Ohio, leaving the system with n-1
contingency reserves. An initial key incident, the loss of the Stuart-Atlanta 345kV
transmission line due to a flashover, also did not look serious in terms of system stability.
Together with operator error, however, it led to a situation where the state estimator
program at one of the EMS control centers could not assess the system condition. Being a
prerequisite for contingency analysis, these programs could not be run either. They would
normally calculate the affects of simulated failures on the system and alert operators to
critical conditions. In addition, computer failures at another EMS control center deprived
the operators of the alarm functions. Unaware of the function loss and consequentially
relying on outdated information for one hour, operators could not see that the power
system was in the initial stages of degradation.
The blackout in Italy was also caused by a lack of power system information [3][4].
September 28, 2003 was a Sunday and the blackout sequence started at 3 am. Making use
of cost advantages, Italy was importing about 24 per cent of its then relatively low total
demand via France, Switzerland, Austria and Slovenia. The Swiss transmission grid was
heavily loaded near its n-1 limit. A flashover caused one of the main 380kV lines across
the Alps to trip. An attempt to re-close the line failed, as the phase angle difference was
too high due to the high power flows. This and insufficient load shedding in Italy caused
overloading of the other main 380kV line, which eventually sagged and also tripped due
to a flashover. From this point onwards, a cascade failure was inevitable. The other lines
to Italy were overloaded, it lost synchronization with the rest of Europe, the remaining
lines tripped and Italy was isolated. There was a large generation deficit within the
islanded Italian system and despite further load shedding the system collapsed completely
two minutes after isolation.
One alternative to prevent such kind of blackout is to run power systems with more
reserves, while this method is expensive and hardly acceptable in today’s deregulated
markets with competition and pressure on costs. Another alternative is to improve the
real-time wide area information that is available to operators. Wide area monitoring is a
viable alternative as it not only increases system security, but also allows the power
Chapter 1 Introduction
3
system to run at its pre-defined security margin, thus saving costs. These blackouts
demonstrate that wide area, comprehensive and real time information exchange is
becoming a critical factor for the reliability and stability of the future power system.
1.2 Wide Area Measurement System and Phasor
Measurement Unit
Real time data can be highly valuable information source for automatic control to
maintain system stability; it can also be used as a guide to immediate operating decisions
in support of system recovery and for extensive analysis [5][6]. The real time data
applications [7] range from very rapid control function to the very slow functions such as
expansion planning. With high-speed real time measurement, proper protection and
control actions could be taken to ensure the reliability of power system when event
occurs.
Information and measurement systems are evolving rapidly within the electric power
industry. With new classes of instruments becoming available, new operating and
regulatory environments, and new computing and communications capabilities, the time
is right for industry stakeholders to make better use of measurements and information to
improve system performance.
The phasor measurement unit (PMU) [8] is a device capable of measuring the
synchronized voltage and current phasor in a power system. Synchronicity among phasor
measurement units is achieved by same-time sampling of voltage and current waveforms
using a common synchronizing signal from the global positioning satellite (GPS). The
ability to calculate synchronized phasors makes the PMU one of the most important
measuring devices in the future of power system monitoring and control.
Phasor measurement algorithms were developed in the late 1980’s to calculate phase
angle from voltage measurements. The world’s first prototype PMU was developed at
Virginia Tech [8]. The PMU was soon used widely for a variety of applications such as
Chapter 1 Introduction
4
monitoring of the bulk transmission systems as well as state estimation and stability
studies [9][10]. Most notably, projects including those by EPRI [9] and DOE wide area
measurement system (WAMS) [10], and recently the Eastern Interconnection Phasor
Project (EIPP) [11] were launched using phasor measurement techniques for power
system measurement and monitoring.
Wide area measurement system (WAMS) is to place sensors/recorders across a wide area
to record power system’s states, e.g. voltage, current, phasor angle, frequency, power, etc.
To obtain meaningful measurements, the device/sensor has to be accurate enough to
extract the desired information from measured signal(s). In most cases, only the time
information is needed for WAMS and position data is required only once during
initialization, since we are most concerned about having synchronized-time measurement
among different devices. Several event recordings from WAMS were reported in [12-22].
Nowadays, there are lots of commercial PMU from different manufactories, such as ABB,
Arbiter, Macrodyne, and SEL, available for the different applications all around the
world.
1.3 Power System Frequency Response Research
System frequency is normally the same at all points of the power network at steady state.
Networks at all voltage levels share a characteristic: from generation all the way through
transmission, distribution, and consumption nodes. However, when a significant
disturbance occurs, the frequency varies in time and space, and in many ways, it exhibits
the characteristics of electromechanical wave propagation phenomena. Although static
power frequencies are currently being measured all over the system for various
applications, they have limited dynamic accuracy and are lack of common time, and such
information is not suitable for large-scale observations [23].
Frequency Response is the characteristic displayed by load and generation within control
areas, and therefore an interconnection, in response to a significant change in loadChapter
1 Introduction
5
resource balance [24]. Because the loss of a large generator is much more likely than a
sudden loss of load, frequency response is typically discussed in the context of a loss of a
large generator. The energy used (by loads) must be equal to the energy provided (by
generators) to maintain a steady frequency. Frequency is essentially the same throughout
an Interconnection and is easy to measure. Abnormal frequencies can damage power
system equipment, especially steam turbines.
It is well known that all generators have some type of governor. There are a couple added
features to a governor. When a generator synchronizes to the Interconnection, it couples
itself to hundreds of other machines rotating at the same electrical speed. Because all
generators have this “droop” feature added to their governor, they will all respond in
proportion to their size whenever there is a disturbance or load-resource mismatch [24].
In the interconnected power systems [25][26], each sub system maintains a balance
between generation and load under normal conditions. Automatic Generation Control
(AGC) [26] provides the fine-tuning for system frequency. Each control area responds to
a frequency deviation according to the natural response of its turbine governors and its
load. This balance will be lost if the generation trip occurs or load is increased. When a
control area has lost generation or load, the rest of the Interconnection provides
immediate support for the frequency through governor action. If control areas set their
AGC Bias close to their natural Frequency Response, only the contingent control area
will see a change in its Area Control Error (ACE). When some areas are unable to
maintain generation/demand balance, other areas will provide sustained assistance
according to bias characteristics.
1.4 Frequency Monitoring Network (FNET)
Frequency information can be useful in many areas of power system analysis, operation,
and control. Typically, only static frequency measurements [30][31] are widely available.
This is because most of frequency measurement devices assume a single system
Chapter 1 Introduction
6
frequency, and they use long periods of data averaging in order to achieve good
estimation accuracy. This is not a problem when the system is in its steady state.
However, the most valuable frequency data are those obtained during disturbances, when
the system frequency is time varying, and when frequencies could be very different in
different parts of the system. Accurate dynamic wide-area measured frequency is highly
desirable [32], especially as blackout events are becoming increasingly severe in power
systems around the world [2-4]. Power engineers have worked for decades to develop
measurement tools for observing a power system’s dynamics. The synchronized Phasor
Measurement Unit (PMU) was developed and later commercialized in the late 1980’s.
Since then, a number of applications have been proposed that require wide-area
measurement systems. The results of all earlier efforts clearly point to the need for much
wider measurement coverage.
PMU is used to build a wide area measurement system, while because of the costefficient
issue, permission from utility, information exchange between different
companies and so many other issues, we still do not have a national wide monitoring
system to keep an eye on power system. Due to the cost of high voltage substation
installation and other complications, PMU coverage is growing at a speed that is much
slower than expected in US. Power system deregulation [24] results in information
consolidation and open access, and pushes for more extensive internal and external utility
information exchange, integration, and dissemination. Inter-company communication and
integration of data from various control centers, power plants, and substations have
become necessary.
The idea is to use some cost-efficient monitors as frequency sensor, which connects to
the system at distribution level to avoid the issue of permission, and then send back the
local frequency value of different locations thru the Internet to the central server. The
objective is to create an extremely low cost and quickly deployable wide-area GPS
synchronized frequency measurement system with high dynamic accuracy, and that
requires a minimal installation cost. All these features are possible in FNET because the
Chapter 1 Introduction
7
power system frequency can be accurately measured and GPS synchronized at 110V
distribution voltage level of a typical office outlet [34].
When a significant disturbance occurs in a power system, the frequency varies in time
and space [35]. The FNET system is used to monitor the changing frequency in
continuous time and in different locations. Dynamic measurement accuracy is critical.
The frequency estimation algorithms developed for FNET have virtually zero algorithm
error in the 52-70Hz range. During the past three years, the first generation of the FNET
system was completed.
The FNET implementation includes: the development of highly accurate algorithms and
techniques that are immune to various noises at the distribution level; the design and
development of sensor hardware; the development of an Internet based information
management system; the development of real-time and offline post processing algorithms;
the study of advanced data aggregation methods from hundreds of other possibly
heterogeneous sensors.
1.5 Under Frequency Load Shedding (UFLS)
Power systems in running conditions could suffer from different kinds of contingencies.
Such emergency conditions could be loss of generation, under frequency, low voltage or
oscillations. Due to the system complexity and corresponding static and dynamic
problems involved, they are difficult to operate and control. Frequency instability
scenario can be initiated by a large mismatch between generation and load [36][37]. Such
a scenario can result in a cascaded loss of generation through under-or over-frequency
related operation that would eventually lead to a blackout if the total spinning reserve can
not compensate for the generation loss sufficiently[38][39][42]. Under frequency load
shedding scheme [40] is commonly implemented in isolated and large interconnected
system as an emergency measure in case of falling frequency conditions or loss of power
generation. Traditionally, the load shedding scheme was evaluated and set using
Chapter 1 Introduction
8
simulation [41] based on the assumption of constant deceleration, constant voltage,
constant load and constant generator power. The scheme was adequate for simple and
special cases. To serve as emergency frequency drop protection, load shedding scheme is
designed and activated at different frequency levels to shed pre-selected and fixed
amount of loads. However, due to the power system complexity, different system running
conditions and dynamic performance variation, the load shedding amount is difficult to
predict and may not match the generation unbalance. The frequency could continue to
drop due to under load shedding, or the frequency would jump up due to over load
shedding.
The main goal of UFLS is to gradually shed portions of the load when the frequency of
this relay reaches values lower than allowed (e.g. if f f 59.5Hz 1 < = , after time delay
1 Δt = 0.1s, shed 0.1 p.u. load of the relative bus). Time delays per step are introduced to
ride out short-time transient frequency excursions. Every power system has its own
UFLS plan, which is coordinated with the plans of neighboring power systems. There
have been many publications on utility implementation of UFLS.
The traditional load shedding relays shed load in several steps with the preset tripping
frequency and pre-designated feeders derived from assumed system conditions and load
distributions. Therefore, it will inevitably result in either over or under shed, as it cannot
adapt to the continuous changes in system conditions. Load shedding algorithms are
designed off-line from operational experiences and simulations. The traditional scheme is
a one-size-fits-all compromise of different operation scenarios. However, when system
operation status is changed, the load-shedding scheme cannot be easily modified to adapt
to new system conditions. The other drawbacks are that each local protection device is
not considering a system view and are, therefore, not able to take optimized and
coordinated actions. The results of the early efforts point to the need of fast and accurate
load shedding strategy. In recent years, technology advances in networking and
communication as well as in power system design have opened the door for fast and
accurate load shedding system design. With wide-area FNET information, especially with
Chapter 1 Introduction
9
more accurate generation trip amount and location estimation, advanced load shedding
schemes can be developed.
1.6 Organization of the Dissertation
This dissertation addresses two main issues for the power system frequency monitoring
and analysis: how to get the frequency information and how to use the frequency
information. The major objectives of the dissertation are to develop and implement the
frequency monitoring network; systematically analyze field-measured frequency
information; detect the disturbances in power grid and estimate the location of the
disturbance; develop the adaptive UFLS with analyzed frequency information as input.
In Chapter 2, the idea and the architecture of FNET system is introduced in detail, and it
describes the implementation of FDR, IMS. Chapter 3 reports a comparison of FDR and
commercial PMU. Chapter 4 addresses the static and dynamic analysis with the fieldmeasured
frequency from FNET system. Chapter 5 represents the disturbance analysis
based on the wide area frequency information. Chapter 6 pictures the adaptive UFLS
scheme with real-time frequency as input information. Chapter 7 concludes.
Chapter 2 Frequency Monitoring Network Architecture and Implementation
10
Chapter 2 Frequency Monitoring Network
Architecture and Implementation
Frequency is an important parameter in power systems, and accurate real-time measured
frequency is highly desirable in wide-area to understand the dynamics of power systems.
The concept of building an Internet based real-time GPS synchronized wide-area
Frequency Monitoring Network (FNET) has been implemented and realized. The FNET
system consists of an array of Frequency Disturbance Recorders (FDR) and an
Information Management Server (IMS). The FNET system has made observations of the
country's entire power network possible for the first time. This chapter discusses the
architecture of FNET and describes how to implement each component of FNET.
2.1 The Idea of the Frequency Monitoring Network
In order to meet the requirement of frequency measurement, the Frequency Monitoring
Network (FNET) was first proposed in the paper “Internet Based Frequency Monitoring
Network” [34], which presents the idea, designs the system architecture and describes the
main parts of the system. The motivation for FNET was to build a system, which could
monitor the power system frequency in real-time and could also analyze the frequency
data to get the system status information for system control and operation.
With the integrated GPS clock, FDR units can measure the local system frequency in
different dispersed locations synchronously. FNET provides a common time stamp,
which helps to reconstruct what happened after major events. One of the delays in
determining the causes of the 2003 blackout was the use of different timing references by
the companies involved.
The wide-area, synchronized measurement system is based on the concept that in steady
state the system frequency remains constant regardless of voltage level. However, when a
Chapter 2 Frequency Monitoring Network Architecture and Implementation
11
significant disturbance occurs in the power system, the frequency varies in time and
space. The FNET system can be used to monitor the changing frequency in continuous
time and in different locations. With the effort of the research team on this project, the
FNET system started operation in summer of 2004, and FDR units have been installed in
15 locations as of July 2005. The FNET system has made observations of the country's
entire power network possible for the first time. A crucial innovation is to take
measurements at the 110 V level of the power grid, avoiding major obstacles in high
voltage substation installations, thus, significantly reducing overall cost, and enabling
measurements to be made at a large number of locations.
2.2 Architecture of Frequency Monitoring Network
The FNET system is a wide-area sensor network consisting of high accurate frequency
disturbance recorders and a central processing server. Figure 2.1 shows the framework of
the FNET system. The FNET system consists of two major components: a) Frequency
Disturbance Recorders (FDR), which work as sensors to perform local frequency data
measurements and to send data to the server through the Internet; b) The Information
Management Server (IMS), which includes data collection, storage, communication
service, database operation, and web service. The Internet provides the wide area
communication network between the FDR units and IMS server.
Chapter 2 Frequency Monitoring Network Architecture and Implementation
12
Data
base
Client
IMS
Server Interface
Router
Firewall
Internet
FDR 1
Client
Satellite
LAN
FDR 2
FDR n
Figure 2.1 Frequency Monitoring Network Architecture
The FDR is the data acquisition device of the FNET. Although only 15 units are installed
at this moment, there will be a large number of FDR units geographically dispersed
across the United States to gather frequency data from different locations in the US
power grid. Internet is used to transmit the information to a central server, currently
located at Virginia Tech.
The IMS server plays a vital role in the FNET system. It was developed base on the
multi-tier client/server architecture that models, coordinates, and integrates the frequency
acquisition, processing and display functions. IMS server performs four roles: Internet
client service, FDR communication function, Database operation and Web services. The
frequency data is transmitted to the IMS server through WAN (Wide Area Network) in
real time. IMS Server receives and processes the data, logs the data to the database server
and publishes the data to the web. The current GUI (Graphical User Interface) is built as
a local monitoring server, which integrates the frequency display, monitoring and storage.
At the same time, our server provide web service to publish and display the frequency in
real-time. The designed future function includes historical data retrieval, automatic
analysis and historical data retrieval into a common easily accessible user interface. The
IMS Server is written entirely in C++ and the web service is written in PHP and Java.
Chapter 2 Frequency Monitoring Network Architecture and Implementation
13
Communication is based on TCP/IP protocol. The server open the relative ports for
clients, when the data coming, the socket process receives and then put it into database.
Communications protocols are methods for transmitting data between networked
computers. The most popular low-level protocol in use on the Internet is IP (the Internet
Protocol). Higher-level transport protocols run on top of IP to provide added functionality.
The two integral networking protocols in IP-based networks such as the Internet are the
Transmission Control Protocol and User Datagram Protocol. TCP is the more popular of
the two. In the FENT project, TCP is selected to work as communication protocol to
guarantee the integrality of the frequency data.
2.3 Frequency Disturbance Recorder Architecture
A FDR unit consists of a voltage transducer, a low pass filter, an analog to digital (A/D)
converter, a GPS receiver, a microprocessor, and the network communication modules as
shown in Figure 2.2. The voltage transducer takes an analog voltage signal from an 110V
wall outlet and converts it to acceptable A/D levels, the low pass filter eliminates the high
frequency components, and the A/D converter transforms the analog signal into digital
data. A microprocessor is used to generate the sampling pulses synchronized to the 1pps
from the GPS receiver integrated into the FDR. The phase angle, frequency, and rate of
change of frequency are computed using phasor techniques developed specifically for
single phase measurements [42]. The computed values are time stamped, and transferred
to the IMS via the Internet. Figure 2.3 shows an FDR unit.
Chapter 2 Frequency Monitoring Network Architecture and Implementation
14
Figure 2.2 Frequency Disturbance Recorder Structure
Figure 2.3 Outlook of Frequency Disturbance Recorder (FDR)
In order to meet the most important requirement of a wide area frequency measurement, a
GPS clock is integrated into the FDR unit to generate the sampling pulses that trigger the
A/D converter and ensure the synchronized data acquisition. At the same time, the GPS
clock provides a timestamp for each A/D conversion. Thus, data sampling is
synchronized to a common time reference.
Static frequency computations are usually done on voltage waveforms due to their
relatively unchanging nature during normal operating conditions. The FDR unit makes
frequency calculations using algorithms of phasor analysis and signal re-sampling
techniques. The complexity of the calculations is minimized to allow the microprocessor
time to complete its other tasks and prevent data overflow. The current version of FDR
has a sampling rate of 1440Hz and the resulting frequency accuracy is ±0.0005Hz or
better. Based on earlier studies, this accuracy meets the requirements for monitoring and
Voltage
Transducer
Low Pass Filter
A/D
Converter
GPS
Clock
Micro
Processor
Network
Card
Analog
Voltage
Signal
Trigger
Pulse
Synch
Time
Output
Chapter 2 Frequency Monitoring Network Architecture and Implementation
15
capturing both slow and fast frequency variations. The FDR is according to the IEEE
standard format for real time phasor data transmission [43].
2.4 Information Management System
The IMS is a vital component in the FNET system. It is based on a multi-tier client/server
architecture. The IMS models, coordinates, and integrates the frequency acquisition,
processing and display functions. Figure 2.4 describes the configuration of the main
services and functions of the IMS server. The real-time frequency data is transmitted to
the IMS server through the Internet. After receiving the data from the FDR units, the IMS
server processes, time aligns, saves it in a database and provides data for the web service
to display the information online. Internet provides the integrated wide area
communication media between FDR and IMS server.
The IMS server has different applications. The data acquisition application communicates
with remote FDR and collects the real-time information. The database focuses on
providing data-related services including the real time frequency data (with GPS time-tag)
storage and historical data retrieval. In the data processing tier, the on-line analytical
processing services provide the capability of designing, creating and managing real time
frequency database, and making them available for client applications. Historical
frequency data can be retrieved from database using ASP-based web site or through Java
GUI program. For important event data, compression methods are used to store the data
indefinitely. To increase data transmission reliability, adaptive transmission rate and retransmission
protocols are included to improve reliability of critical data transmission.
For the normal operation event data, loop storage can be used. The data will be
compatible with the synchrophasor format [43].
Chapter 2 Frequency Monitoring Network Architecture and Implementation
16
Figure 2.4 Multi-tier Information Management System Structure
The IMS is made up of three main components: the application server program, which is
used to receive the frequency data from the FDR units; the database operation service,
which is used to store all the data into a database and provide for frequency analysis; web
service, which is used to provide an interface for the users, such as our customers and
partners, who want to observe the frequency information from anywhere on the Internet.
The functions and code implementation of the IMS is detailed described in Appendix A.
Multi-tier client/server architecture facilitates software development because each tier is
built and run on a separate platform, thus, making it easier to organize the
implementation. In addition, multi-tier architectures readily allow different tiers to be
developed in different languages, such as C++ for the application tier, SQL for the
database tier, and Java for the web tier. The IMS server controls data communication and
database operation transactions and asynchronous queuing to ensure reliable completion
of all the transactions. It also provides access to resources based on names instead of
locations and, thereby, improves scalability and flexibility as system components are
added or moved.
FNET Server
Program
History
Database
FDR
Web Service
User Client
Web Browser
Server
Read
Query
Write Write
Web
Database
Chapter 2 Frequency Monitoring Network Architecture and Implementation
17
The web server provides a link to the available services to the end users via the Internet.
The web server caches the Java applets, Java Internet security applets and dynamic web
pages for downloading as portable programs by the user for execution. It also supports a
search engine function for users to visit the historical frequency data in the database
server. The users do not need to query databases, execute complex business rules, or
connect to legacy applications. The web service tier will do these jobs for users
transparently. There is a PHP web service run in the IIS server, and it works based on the
MySQL database to provide the web service. Thus, users all around the world can access
our website and observe the dynamic frequencies in a map location version of all FDR
units to get the real-time frequency of the whole FNET system.
The IMS design has the following features:
􀁺 Multi-tier architecture for the IMS design provides increased performance,
flexibility, maintainability, reusability and scalability for the server, while
minimizing the complexity of distributed processing. These features offer
powerful server architecture for the fast, reliable and large capacity data
transmission and processing.
􀁺 The IMS uses the Internet as the communication infrastructure for the frequency
information acquisition, transmission and distribution. The Internet provides a
low investment and an easy to access platform for the data processing. The
frequency data can be easily collected and transferred from the FDR units to the
IMS server as well as distributed from the IMS server to the Internet users.
􀁺 The choice of the C++ language offers features such as zero client installation,
on-demand access and platform independence for the Internet users. The users
can access the frequency information from virtually anywhere, anytime through
the Internet.
2.4.1 Data Processing Server Program
Chapter 2 Frequency Monitoring Network Architecture and Implementation
18
The FNET server program is the core part of the whole IMS. The program is used to
communicate with the FDR units, receive the frequency data from FDR units, write the
real-time frequency data to a historical database and web database, and to display the data
in the server machine for monitoring and comparing. The server program is written in the
C++ language.
The FNET server provides communication interfaces to the FDR units and backend
database. The server communicates with the remote FDR units via TCP/IP and socket
(end points of a two-way communication link between the two programs running on the
network) communication. This communication service acts as a data transmission bridge
between the IMS and FDR units. Multi-threading is used to process concurrent data
streams. When a FDR unit wants to communicate with the IMS, a thread will be set up to
process the data transmission from the FDR. The program also provides access to the
database server, saves the data to the database and retrieves the data for display. Figure
2.5 shows the interface at the server site. It displays the FDR location information and the
communication status. It also shows the real time frequency data waveform in the server
interface. The server design and user manual are described in Appendix A, and it
provides the definition of each class and variable. With this appendix, more real-time
function can be added to enhance the performance of this program in the future, such as
the event trigger and period frequency statistical report.
Chapter 2 Frequency Monitoring Network Architecture and Implementation
19
Figure 2.5 Information Management Server Program Interface
2.4.2 Data Communication
The server is designed for storage and displays the information from the dispersed clients,
and is built on the technology of network communication and database. Communication
is based on TCP/IP protocol. The server open the relative ports for clients, when the data
coming, the socket process receives and then put it into database.
Networked computing systems are becoming increasingly prevalent in many areas and
we believe that this growth will occur within electric utility systems as well. Technology
is constantly changing, but we can make some educated guesses about what such systems
will look like. First, the network systems will certainly be built from standard commercial
off the shelf components. To do otherwise would be expensive both in terms of initial
cost outlay and in system maintenance. This means that these networks will be based on
Internet standards even if the systems remained independent of the global network
Chapter 2 Frequency Monitoring Network Architecture and Implementation
20
conglomeration. Based on this assumption, the IP-based communication protocol was
adopted for the FNET project.
Communications protocols are methods for transmitting data between networked
computers. The most popular low-level protocol in use on the Internet is IP (the Internet
Protocol). IP packages a data unit into an entity known as a packet and makes a besteffort
attempt to deliver that packet to the intended destination. Best-effort here means
that if a problem occurs in the delivery attempt, perhaps because of network congestion,
then the packet will be lost. IP is rarely used by itself. Higher-level transport protocols
run on top of IP to provide added functionality.
The two integral networking protocols in IP-based networks such as the Internet are the
Transmission Control Protocol and User Datagram Protocol. TCP is the more popular of
the two. TCP’s most notable contribution beyond IP’s functionality is its ability to
compensate for network losses by retransmitting data until it has been received by its
intended destination. This is extremely valuable in many cases, but it can have drawbacks
in time-sensitive situations since TCP delivers all data on a first-come first-serve manner.
This means that information that is no longer relevant can stand in the way of current data
if packet losses become too great. UDP, by contrast, only makes minor additions to IP.
UDP’s best effort delivery guarantees can be a blessing in situations where data is only
relevant for a limited time.
The server is designed for storage and displays the information from the dispersed clients,
and is built on the technology of Network communication and Database. Communication
is based on TCP/IP protocol. The server open the relative ports for clients, when the data
coming, the socket process receives and then put it into database. FNET system is a twoway
communication link between IMS server and FDR running via Internet. FDR
collects the real-time frequency from the remote location, transmits the data to the IMS
server. FDRCOM, which stands for FDR connectivity to IMS server, acts as a data
communication bridge between the IMS server and FDR unit. In the current FNET
system, FDRCOM is a communication device from a third party company. In the future
Chapter 2 Frequency Monitoring Network Architecture and Implementation
21
generation, this device will be embedded in the FDR Unit, and multi-threading is used to
process concurrent FDRCOM processes. In some places, due to the lack of network,
wireless communication could be an alternate choice for data transmission. In this case,
FDRCOM will make use of wireless modem to set up the connection to the IMS server.
In the server software design, communication is built on Windows Socket and use
TCP/IP protocol based on client/server model. Although the current Internet is believed
to lack reliability and latency guarantee to support real-time communication, many of the
applications intended by FNET are not time-critical (e.g. observation, model validation,
post-mortem analysis). The current network performance has proven to be very
satisfactory for FNET. Low rate of missing data was experienced only from some units.
Several FDR units have been in operation for more then one year. FDR redundancy can
more than compensate for data transfer reliability. Furthermore, network providers are
moving towards several crucial milestones in network evolution. It is expected the next
generation of Internet should meet most of the real-time communication requirements.
2.4.3 Database Operation Service
The backend database is dedicated to data and file services that can be optimized without
using any proprietary database languages. It provides a convenient mechanism for
accessing the data. The historical storage consists of logged data, frequency disturbance
events and real-time frequency data. Access to the database is provided through a series
of interface modules that read and write data to the database tables. In the FNET system,
ODBC is used for database manipulation. The data management component ensures that
the frequency data is consistent throughout the distributed environment using features
such as data locking, consistency, and replication. The database has these features:
􀁺 Automatically storage frequency data from dispersed sites.
􀁺 Synchronize the frequency sampling intervals, time stamp information and any
other time information required.
􀁺 Collect absolute frequency data to a resolution of four decimal.
Chapter 2 Frequency Monitoring Network Architecture and Implementation
22
􀁺 Archive frequency data for each of the interconnections at a minimum sampling
rate of ten times per second maintaining a resolution of four decimal places.
􀁺 Maintain on-line archive frequency data as historical data.
􀁺 Include report production and database query capabilities that offer standard
periodic reports and event driven reports based on archived data for each
interconnection. These are subscriber reports that are automatically generated.
􀁺 Provide database query and report writing tools to generate both graphic and
tabular format reports.
􀁺 Allow authorized users to view and query frequency database contents.
2.4.4 Web Service Interface
The web service integrates the frequency display, monitoring and historical data retrieval
into a common easily accessible user interface [44-52]. When the user accesses the IMS
web page, a security mechanism will be triggered to allow only the authorized user to
access the real-time frequency information. Passwords are set at multiple levels to allow
different users to access different levels of information. The functionality of the interface
is only limited to viewing the overall frequency information of the system being
monitored. Users accessing the interface do not take an active part in controlling the
system on a continuous basis. The server pages are written in PHP and Java.
When the user logs in, the corresponding information is displayed in a tabular display
using HTML format, as shown in Figure 2.6. The color of each cell corresponds with the
value range of the frequency, so that this web page can give a direct image of the system
frequency in the different locations of the power grid. At the same time, the web service
also provides a curve observation window for each FDR unit. As shown in Figure 2.7,
visitors can select the units they want to observe, and the real time frequency data of each
unit is displayed.
Chapter 2 Frequency Monitoring Network Architecture and Implementation
23
Figure 2.6 Streamer table of real-time frequency
Figure 2.7 Observation window of real-time frequency
Chapter 2 Frequency Monitoring Network Architecture and Implementation
24
In addition, a frequency interpolation map (see Figure 2.8) is provided for viewers to
experience a visualization image of the frequency information in a geographic context.
The dynamic frequency data visualization contains three steps: area tessellation of
frequency variation; frequency data interpolated shading; data rendering and animation.
Rendering the power system frequency in a geographic map is a good approach for
visualization of large amounts of data. Frequency image interpolation shows the
distribution of the frequency in the continental United States. The color margin is the
same as what is in the frequency streamer display, and the black points in the map are the
locations of the FDR units.
Figure 2.8 Frequency dynamic data visualization map
2.5 Frequency Monitoring Network Implementation
2.5.1 Frequency Disturbance Recorder Placement
The FDR units are used to record the dynamic frequency information for power system
analysis and control. The location selection for FDR units is an important issue for the
Chapter 2 Frequency Monitoring Network Architecture and Implementation
25
FNET system. The locations should effectively reflect the different frequency clusters of
inter-area oscillations and cover as broad an area as possible in order to capture dynamic
behavior of larger system disturbances. Just like PMU placement analysis [53], FDR
placement should represent the system frequency, effectively describe the behavior of
major inter-connected systems, and provide information on the large area load behavior.
As we know, there are 10 regional Reliability Councils whose members come from all
segments of the electric industry: investor-owned utilities; federal power agencies; rural
electric cooperatives; state, municipal and provincial utilities; independent power
producers; power marketers; and end-use customers [54]. These entities account for
virtually all the electricity supplied in the United States, Canada, and a portion of Baja
California Norte, Mexico. Among these 10 regions, ERCOT and WECC are independent
interconnections, and the other eight regions, (ECAR, FRCC, MAAC, MAIN, MAPP,
NPCC, SERC, and SPP) construct the Eastern US Interconnection (EUS) as shown in
Figure 2.9. The goal of FNET is to cover all the regions of these 10 regions and there
should be at least three geographically and electrically separated FDR within each of the
Interconnections and Hydro Quebec.
Figure 2.9 NERC regions and sub-regions map [54]
Chapter 2 Frequency Monitoring Network Architecture and Implementation
26
Presently, the FDR locations were selected to cover the power grid of North American
divisions. In the FNET system, more FDR units can be located close to major generation
centers, major transmission tie lines and load concentrated areas for mode studies of the
local frequency oscillation. The FDR units can be easily relocated, since it is plug-andplay
with no installation cost involved.
As of July of 2005, we have deployed 15 FDR units distributed in US, as shown in Figure
2.10. Among them, four units are in WECC, one unit is in ERCOT and 10 units are in the
EUS. Current FDR deployment in the EUS has covered five reliability councils.
Additionally the IMS is set up at Virginia Tech. The number of FDR units will increase
to cover the entire US power grid, and there will be approximately 20 FDR units in the
FNET system in the near future. In the figure, the node with a colored tag is where the
FDR unit is located and the node without tag is future FDR location. The color tag
reflects the range of the frequency of each unit at different locations. FNET is an ongoing
project and we anticipate more FDR units will be deployed into the system.
Table 2.1 FDR Unit Location and Relative Council
Unit ID Unit Name Reliability Council Location
1 NY NPCC Schenectady, NY
2 UMR MAIN/SERC Rolla, MO
3 ARI SERC Alexandria, VA
4 VT ECAR/SERC Blacksburg, VA
5 Seattle WECC Seattle, WA
6 ABB SERC Raleigh, NC
7 MISS SERC Starkville, MS
8 CA WECC Palo Alto, CA
9 UFL FRCC Gainesville, FL
11 Calvin ECAR Grand Rapids, MI
12 ASU WECC Tempe, AZ
14 Houston ERCOT Houston, TX
16 LA WECC Los Angels, CA
17 TLN SERC New Orleans, LA
20 TVA SERC Huntsville,TN
Chapter 2 Frequency Monitoring Network Architecture and Implementation
27
Figure 2.10 Frequency Disturbance Recorders Location in Continental US Area
2.5.2 FNET Server Hardware and software configuration
The server receives data from different FDR units, processes the data, manages the
database, performs data analysis, and supports the web service for the Internet users. The
frequency IMS server can be physically located anywhere, which is with the following
system configurations:
a) Hardware configuration: A dual CPU (Intel Pentium 4 CPU 3.6GHz) server with a
hard disk (500GB) is employed to meet the need of reliable data transmission, processing
and web service. The backup data is stored both on the hard disk of the server and in an
external hard drive.
b) Server software configuration: Windows XP 2003 Server is the host operating system.
A commercial database is installed at the database server machine, as the backend
Chapter 2 Frequency Monitoring Network Architecture and Implementation
28
database. C++ is employed for the whole server program design and communication.
Internet standard web browsers are used as the interface for the user to access the
frequency data.
2.5.3 Assessment of Server Handling Ability of units
For the server, due to the limitation of hardware and software, the maximum unit number,
which can be handled by the server, need be assessed. In this section, a client program,
which has the same function as a real FDR, will send random data to the server to test
under the normal condition how many units can be handled simultaneously. The testing
program is named as Virtual_FDR.
There are some possible limitations of the server:
• communication limit
• server CPU limit
• server memory limit
• server database write limit
Virtual FDR send the data package, which include UnitID, time_Date, currentTime,
convNum, firstFreq, finalFreq, voltageMag, voltageAng, to the server. From the server
side, the Virtual FDR is the same as real FDR unit, and the only difference is that real
FDR unit sends data from different IP address, while all V-FDR send data from the same
IP address. This difference affects the evaluation of communication limit.
In the test, one computer served as server, open N socket port to wait for the data coming,
while another computer served as client of V-FDR, and open N socket connection to the
server and send data through these socket connections. The number of socket connection
can be set and it is what the limitation test needs to know.
The server hardware: CPU, duel 3.4GHz Intel Pentium 4; Memory, 1GByte of RAM
The client hardware: CPU, 3.4GHz Intel Pentium 4; Memory, 1GByte of RAM
Chapter 2 Frequency Monitoring Network Architecture and Implementation
29
In the test, first set the number of V-FDR as 20, and then increase the number by 10 to
get the maximum number of V-FDR that the server can handle.
We found that the main limitation is the CPU time, when the number grows up to 60, the
server’s CPU time will grow up to 50%; when the number increases to 70, the server can
still handle it; while when the number becomes 80, the server can’t receive any data and
is just stuck. Because the server program is a single-thread program, so it can only
occupy one CPU at most and this equal to 50% of the total CPU time.
Table 2.2 CPU Usage in Handling Limit Test
Num of Units CPU Time(Average) Peak CPU Time
0 0% 1%
20 18% 22%
30 25% 27%
40 32% 34%
50 40% 43%
60 50% 52%
70 50% 52%
From this testing, we can get a conclusion that a normal PC with the previous defined
setting can handle 70 units simultaneously, and the bottleneck is from CPU. With the
effective modification to the server code, it handles more units, while if the unit number
grows to the level of hundreds; the CPU should be upgrade to a more powerful
workstation CPU.
2.6 Summary
FNET stands for frequency monitoring network. The system implements WAMS in a
way that the frequencies of the whole US & Canada power grid can be collected and
managed in a central server. Continuous synchronized wide area frequency information
will provide system operators with near real-time system status. Here, by “near real-time”
we mean less than 1-2 seconds delay for most of the data. FNET will help to detect
Chapter 2 Frequency Monitoring Network Architecture and Implementation
30
system disturbance, to perform post disturbance scenario reconstruction, to verify system
models and parameters used in simulations, and to track the sequence of events leading to
an emergency.
FNET has the following special features: (1) Nation-wide system frequency information
(and phase angles) can be collected from hundreds of key sites chosen to satisfy
observability and controllability criteria. (2) The measurements will be taken at 110V
single phase power outlets to avoid costly substation installation. (3) Time stamped
frequency data will be collected via Internet on a continuous basis in near-real time. (4)
Standard frequency disturbance recorders (FDR) will be used in all measurement sites to
guarantee convenient data integration and comparison.
As of June of 2005, we have deployed 15 FDR units across U.S. Among them, four are in
WECC, one unit in ERCOT and 10 units in the EUS.
FNET provides valuable data for studies of inter-area oscillations, disturbance analysis,
scenario reconstruction, and model verification. Researchers hope to use the data from a
nationwide FNET system to forecast incipient system breakups and recommend remedial
actions. The continuous synchronized information from the FNET system will provide
system operators all over the country with close to real-time system status so that they
can better manage the grid and for analysis after a system disturbance. The real-time
wide-area frequency information can be used in many areas to perform control and
protection functions. The FNET system provides power system researchers, operators,
customers, and policy makers a relatively easy to access, cost-effective, cross-platform
frequency information monitoring network on the Internet.
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
31
Chapter 3 Frequency Disturbance Recorder
Testing and Comparison with PMU
3.1 Comparison of Frequency from PMU and FDR
In order to verify the accuracy of the frequency measurements of the FDR unit, a
comparison was carried out in 2003 between a FDR unit and commercial PMUs (Phasor
Measurement Unit). The commercial units come from four different manufacturers.
The test used the four PMUs and one FDR unit to connect to the same phase voltage
signal from a wall outlet. This method ensures that all these devices measured the
frequency from the same voltage wave. The measured raw frequency data were stored the
in unique files as each device defined. The output frequency data from all these units
were compared. Actually, the output rate of each PMU is different, so different units will
have different number of frequency data points per second.
Synchronization of sampling was achieved with a common timing signal available locally
at the substation. The phasor calculations demand greater than the 1-millisecond accuracy.
It is only with the opening for commercial use of GPS that phasor measurement unit was
finally developed. GPS is capable of providing timing signal of the order of one
microsecond at any locations around the world. It basically solved the logistical problem
of allocating dedicated land based links to distribute timing pulses of the indicated
accuracy. Reference [55] presents a detailed analysis of the required synchronization
accuracy of several phasor measurement applications.
3.1.1 Short Period Frequency Comparison
The following figures (3.1~3.5) show the results of the PMUs and the FDR for a period
of 15 seconds. The frequency data, which was measured at the same selected period, will
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
32
be output to the particular raw data format. Mablab is used to make the plot of raw
frequency data. The comparison of this section was taken on Sept.9 2003.
Given that true system frequency should not change suddenly under any circumstances, it
is clear that the accuracy of the FDR is more refined compared to the commercial PMUs.
Note that the FDR data shown are raw (not filtered), and the PMU plots given are already
filtered using limiters. The cut-off effects of the limiters in Figure 3.1, Figure 3.2 and
Figure 3.3 are visible.
Figure 3.1 Limiter Filtered Data from PMU A
Figure 3.2 Limiter Filtered Data from PMU B
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
33
Figure 3.3 Limiter Filtered Data from PMU C
Figure 3.4 Unfiltered (Raw) data of FDR
Figure 3.5 Unfiltered data of FDR (using the current algorithm, 8-point average)
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
34
In this section, another period frequency plots were compared, and this time all four
PMUs recorded the frequency.
Figure 3.6 Limiter Filtered Data from PMU A
Figure 3.7 Limiter Filtered Data from PMU B
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
35
Figure 3.8 Limiter Filtered Data from PMU C
Figure 3.9 Limiter Filtered Data from PMU D
Figure 3.10 Unfiltered data of FDR
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
36
3.1.2 Long Period Comparison Result
This section gives a long period comparison between FDR and PMU measurement,
because some of the PMU cannot record data for a long time, so here only the result form
PMU A, PMU C, and FDR can be compared. In the following three plots, there are
totally around 567 seconds frequency data from each unit.
Figure 3.11 Limiter Filtered Data of PMU A (long term)
Figure 3.12 Limiter Filtered Data of PMU C (long term)
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
37
Figure 3.13 Limiter Filtered Data of FDR unit (long term)
3.1.3 Comparison of Dynamic Response of FDR and PMU
This section uses function generator as feed-in signal, then manually change the output
frequency. Firstly, change the frequency at the scale of 1 Hz, and recorded the frequency,
then change the frequency at a much smaller scale. This comparison is to test the
dynamic response of PMU and FDR can match each other. From the following three
plots, it is very clear that all of them are accurate when the frequency of input signal
changes in the range of 57Hz~63Hz.
Figure 3.14 Dynamic frequency response of PMU A
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
38
Figure 3.15 Dynamic frequency response of PMU C
Figure 3.16 Dynamic frequency response of FDR unit
3.1.4 Frequency Disturbance Recorder Accuracy Verification
Another study to test the accuracy of FDR units is applying a comparison between two
FDR units, which measured the same signal from wall outlet. The frequency records
(Figure 3.17) showed that the frequency from two units could match each other. The
difference of two FDR units is calculated (Figure 3.18), and the curve looks like
modulation. First, calculate the difference between two units at every point and this gives
a sequence of error. Then, calculate the mean and the standard deviation (STD) of this
sequence, the range can be derived as:max = mean + 3× STD , min = mean − 3× STD ; so,
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
39
if most (say 99%) difference is in this range, and the range is acceptable (say,
± 0.008Hz ), so that the error between two FDR units is actually very small.
Figure 3.17 Frequency Records Comparison of two FDR Units
Figure 3.18 Frequency Difference between two FDR Units
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
40
3.1.5 Test of Accuracy with the Fixed Input Signal
This section is to use the accurate 60 Hz signal from signal generator to feed in the
frequency measurement devices. Because the input signal is from very accurate device,
so the result from PMU and FDR should exactly match each other if they are accurate as
what they are claimed to be.
Figure 3.19 Measured frequency data of PMU A with accurate 60 Hz signal
Figure 3.20 Measured frequency data of PMU B with accurate 60 Hz signal
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
41
Figure 3.21 Measured frequency data of PMU C with accurate 60 Hz signal
Figure 3.22 Measured raw frequency data of FDR unit with accurate 60 Hz signal
Figure 3.23 Measured average-frequency data of FDR unit with accurate 60 Hz signal
Chapter 3 Frequency Disturbance Recorder Testing and Comparison with PMU
42
3.2 Multi Re-sampling (MR) Algorithm
The second generation FDR, currently under testing, will see a major accuracy boost as a
result of a new multi re-sampling (MR) technique. As shown in Figure 3.24, the current
algorithm in FDR has zero algorithm error at 60 Hz, but with the MR technique, the error
could be made to reach zero for a much wider frequency range. Several new filtering
techniques are also being tested and implemented to account for local noise at
distribution level.
-0.0001
0
0.0001
0.0002
0.0003
0.0004
0.0005
0.0006
0 50 100 150 200 250
Frequency (Hz)
Error (Hz)
current algorithm
MR algorithm
Figure 3.24 Accuracy comparison of current and next generation algorithms
3.3 Summary
The FDR unit built at Virginia Tech uses the same frequency calculation phasor
algorithm with PMU, and some modifications are added to ensure the FDR can work
with 110 V signal. This chapter gives comparison result between FDR and PMU, which
illustrate that FDR can get the required accuracy and has the advantage of low cost, fast
deployment and so on. The comparison shows that the Frequency Disturbance Recorder
can monitor the frequency of power system and has the same accuracy compare to PMU.
Chapter 4 Frequency Pattern Analysis of the US Power Grids
43
Chapter 4 Frequency Pattern Analysis of the
US Power Grids
4.1 Introduction
Because FDR has the ability to record the frequency and send to the server continuously,
so after the FNET system running for more than one year, bulk of field-measure
frequency data is available for further analysis to system behavior. In this chapter, many
analysis of the frequency can be processed with some mathematical program, including
general system frequency pattern, characteristics of frequency deviation of each
interconnection, statistical analysis of frequency, frequency shift in distribution system,
area frequency oscillation and so on.
The frequency recorded by FDR is able to reflect both system dynamics and local
variation dynamics. Local load change and switching typically introduce spikes in
frequency measurement. Actually, FNET is trying to observe and analyze the system
level dynamics, therefore, the local variation effect should be removed with some
mathematical method and so system’s dynamics can be better observed. Raw historical
frequency data is stored in the database file of Microsoft ACCESS 2000; some
processing programs are designed to facilitate the mathematical analysis. Please refer to
section 2.5.1 for the locations of units mentioned in the section.
4.2 Local Frequency Characteristics
In this section, the frequency from different units is observed and compared to illustrate
the frequency behavior of the system. A sample of FDR raw data from ARI unit is shown
in Figure 4.1. From the plot of frequency, it is clear that the power system frequency does
not hover around 60 Hz, but crosses above and below this value to keep the running
average close to nominal frequency. Since frequency represents the electromechanical
Chapter 4 Frequency Pattern Analysis of the US Power Grids
44
characteristics of the power system, it does not suppose to vary rapidly, while there are
sharp spikes and noises in the frequency measurement. These sharp spikes and noise are
mostly caused by rapid and random local load changing at the distribution level, the
inadequate power quality of the local system and/or other unknown noises polluting the
measurement data. In addition to these sharp spikes, there are outliers, for which the
frequency is out of the normal frequency range. These outliers can be caused by
measurement errors or other unknown reasons. The outlier shows as sharp spikes
between adjacent points and the outlier is not related to the system dynamics. Therefore,
before the raw frequency data feed into the further process, these kinds of noise and
outlier should be removed. Here the small noise can be removed by moving average
method, and outlier can be replaced by the average data of adjacent points. The following
FDR frequency data will be processed to eliminate spikes and unwanted noises to better
represent the FDR frequency data.
04:00:00 04:06:40 04:13:20 04:20:00 04:26:40 04:33:20
59.95
59.96
59.97
59.98
59.99
60
60.01
60.02
60.03
60.04
60.05
Time (EST)
Frequency (Hz)
2005/5/1 raw data
FDR3 - ARI
Figure 4.1 Raw Frequency data from ARI unit
Chapter 4 Frequency Pattern Analysis of the US Power Grids
45
4.2.1 Steady Status Frequency Comparison in Three Interconnections
In this section, the general operating frequency of the FDR units located in EUS, WECC,
ERCOT are analyzed, and the difference of the filed-measured raw frequency data is
compared.
EUS is the largest power grid interconnection in US, and most of FDR units are located
in EUS, here the following figure shows the normal frequency in steady status. In order
to make the frequency wave smoother to analyze, here the 10-point moving average is
applied to the raw frequency data.
16:00:00 16:06:40 16:13:20 16:20:00 16:26:40 16:33:20
59.97
59.98
59.99
60
60.01
60.02
60.03
60.04
60.05
Time (EST)
Frequency (Hz)
2005/4/20 10-point average
FDR2 - UMR
FDR3 - ARI
FDR4 - VT
FDR7 - MIS
FDR9 - UFL
FDR11 - CAL
FDR17 - TLN
FDR20 - TVA
Figure 4.2 10-point Average Frequency plot in EUS
From the plots, we can see that the frequency of different locations in EUS have a little
bit difference between each other, while the fundamental trend of frequency is the same
at all locations in the same interconnection when the system is in steady status.
Chapter 4 Frequency Pattern Analysis of the US Power Grids
46
Then the plot of frequency in WECC at the same period of EUS is given in Figure 4.3,
which illustrate that the frequency of WECC are synchronized better than EUS because
the plots can almost cover each other.
16:00:00 16:06:40 16:13:20 16:20:00 16:26:40 16:33:20
59.96
59.97
59.98
59.99
60
60.01
60.02
60.03
60.04
Time (EST)
Frequency (Hz)
2005/4/20 10-point average
FDR5 - SEA
FDR8 - CA
FDR14 - ASU
Figure 4.3 10-point Average Frequency plot in WECC
Then the turn goes to ERCOT, the smallest interconnection in North American power
grid, and the plot of frequency in ERCOT at the same period of EUS is given in Figure
4.4. There is only one unit located at Houston in ERCOT area, so there is no other unit to
compare with it currently. In addition, because the ERCOT is relatively small in aspect of
capacity, the frequency response is relatively more fluctuating.
Chapter 4 Frequency Pattern Analysis of the US Power Grids
47
16:00:00 16:06:40 16:13:20 16:20:00 16:26:40 16:33:20
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
60.1
Time (EST)
Frequency (Hz)
2005/4/20 10-point average
FDR12 - HOU
Figure 4.4 10-point Average Frequency plot in ERCOT
4.2.2 Frequency Comparison between EUS, WECC and ERCOT
From the comparison of frequency plots, the conclusion can be drawn that the
frequencies of different locations in the different power systems have the different trends
in steady status. Because the first four units are in the same power grid, the frequency
trends of these four units are almost the same as each other, and so in the figure the
curves cover each other. While the frequency from WECC system is quite different from
these four ones, and we can find out that the frequency of this unit is mostly in the range
of 59.98 to 60.02 Hz, so the regulation of WECC seems better than EUS. While because
ERCOT is much smaller than these two interconnections, the frequency is very sensitive
to the power balance, and so any small fluctuation of power will lead fluctuation of
frequency.
Chapter 4 Frequency Pattern Analysis of the US Power Grids
48
4.3 Analysis of Frequency Shift: from Substation to Local
Distribution System
PMU is designed to monitor the static and dynamic system status of power system, so
most of PMU is installed at the high voltage buses to avoid the phase shift and other
disturbance from local system. While the FDR is designed to install at the local lowvoltage
level system to avoid the installation issues, and so make the wide area
observation of the power grid more affordable and applicable. The question comes: how
can the measured frequency at 110 V outlets observe transmission system’s dynamics?
The frequency is typically not affected by the voltage transformation, i.e. on the same
line with multiple transformers; the frequency stays the same from one point to another.
The underlying assumptions of the FNET are that it can observe system’s dynamics at the
distribution at low cost and the measurement can be separated from local noises. There is
a need to discuss the phase shift impact in the calculation of frequency propagation from
high voltage level to local distribution power system. This analysis also reveals how the
measurement from local 110V level represents the system level status. The analysis is
processed in both of software simulation and real system observation.
4.3.1 Software Simulation of Frequency Shift Effect
PSS/E is the selected software to analysis the dynamic frequency response in this
research work, and some other topics related to software simulation are also done with
PSS/E in the following chapters.
The simulation is to observe the difference of frequency response between major high
voltage buses and the low voltage buses in distribution system. The simulation is carried
out with EUS system model provided by TVA, and the selected buses to be compared.
Actually, because FDR is connected to the local system, and the simulation system model
do not have detailed distribution system structure, so the analysis method is to use major
high voltage bus (500 kV) and lower voltage buses.
Chapter 4 Frequency Pattern Analysis of the US Power Grids
49
Figure 4.5 Simulation system model, the selected buses are in red ellipse
In the simulation, an event is introduced to the simulation system as a remote generator
tripped in the system, so all the buses should experience frequency drop due to the
imbalance between the power generation and the load, comparing the frequency response
of the different buses can get the frequency shift along the distribution system.
Chapter 4 Frequency Pattern Analysis of the US Power Grids
50
Figure 4.6 Frequency Response along Transmission Line
Figure 4.7 Detailed frequency response of the first swing
From the frequency response plots, the following analysis is derived:
• Frequency drop sequence: 35→36→1290→240→ 242→589 just follow the
bus sequence in the transmission line.
Chapter 4 Frequency Pattern Analysis of the US Power Grids
51
• The maximum frequency excursions are different at different buses.
• Frequency curves across each other at the same point in every swing.
• The periods of oscillation of frequency wave at each bus are the same.
4.3.2 Field-measurement Data Comparison
The comparison is carried out between a FDR measuring at distribution load and a FDR
measuring at a nearby substation’s control room, also between a FDR measuring at
distribution load and a nearby PMU at a 345 kV transmission line. From the result of
comparison, we can conclude that measuring power frequency at distribution level outlets
with good precision devices and proper signal processing tools is comparable to that at
high voltage line using PMU. System’s frequency dynamics can be well tracked by
measuring at anywhere-accessible 110 V outlets.
For MF test, it was performed between Feb. 1, 2005 and Feb. 15, 2005. MF substation is
located in Dixie Caverns, Virginia, which is about 50 miles northwest of Blacksburg,
Virginia, where Virginia Tech is located. Based on the available information, Blacksburg
is at its distribution supply line. In addition, it is the nearest high-voltage substation from
Blacksburg. One FDR was placed in the control room of MF 345 kV substation. The
detailed comparison is introduced in Shu-Jen Steven Tsai’s Ph.D. dissertation. The
comparisons provide strong evidence that the recordings from FDR with signal
processing is the frequency of the electric transmission system using the nearby PMU
measurement as the reference.
4.4 Statistical Analysis of Frequency Operation Pattern
The frequency descriptive statistics, such as average, median, standard deviation,
maximum, and minimum can be calculated from recorded FDR raw data. Here the
calculated statistics include normal condition and transient conditions (e.g. generation trip,
line opening, load rejection, random event, etc) and based on the frequency data of each
Chapter 4 Frequency Pattern Analysis of the US Power Grids
52
FDR for each day. Each day is in the period from 00:00:00 to 24:00:00 EST (Eastern
Standard Time).
From the comparison of short period, say 10 seconds, there is some minor difference
between the frequencies from different units in the same interconnection as described in
section 4.2. However, there is no difference between these units from the statistical view
of the whole day; even there is a relatively large event happen in that day. So in this
section, only one unit from each interconnection will be selected for the statistical
analysis.
4.4.1 Average, Standard Deviation of the Raw Frequency Data
Between Apr. 1, 2004 and Apr. 30, 2005, the frequency statistics of FDR units in three
US interconnected systems, namely, WECC, EUS, and ERCOT are calculated.
As we can see from the statistics, no matter how large the maximum frequency was or
how small the minimum was in each day, the average frequency was close to the
scheduled value: 60 Hz. It is, however, interesting to notice that the standard deviation
(STD) of frequency for each day stays in the same level for each system. For EUS, the
STD is about 0.015, for WECC, it is about 0.013, and for ERCOT it ranges from about
0.02 to 0.04. Standard deviation can be used as a measure of the dispersion or variation in
a distribution. In other words, it is a measure of how much the data in a certain collection
are scattered around the average (mean). From the standard deviation value, the
frequency in ERCOT is varying at a larger range than that of EUS and WECC. One
reason for having different STD, from power system’s point of view, could be that
different interconnections have different capacity. According to the frequency response
analysis, the frequency of the system with smaller capacity will be more unstable. This
means with the same amount of deviation of power balance, the smaller system will have
larger frequency variation. This also means if all these interconnections experience the
same amount of frequency variation, the system with smaller capacity will need smaller
amount of power unbalance.
Chapter 4 Frequency Pattern Analysis of the US Power Grids
53
4.4.2 Frequency Integral Analysis in EUS Interconnection
In order to analyze the frequency operation pattern, the integral of the deviation of raw
frequency data and nominal system frequency (60 Hz) is introduced. This analysis is
trying to use this statistical method to find out how frequency is controlled everyday, and
the accumulative effect of frequency deviation. With this method, it is very clear to find
out in a day, what time the frequency is above 60 Hz and what time the frequency is
below 60 Hz. Here we use four units in EUS, and these units are: NY, UMR, ARI, VT;
the starting time is 9:30:00 EST, Feb. 13, 2004, and the calculation window is three hours.
In the following figures, Y Axis: S t f f dt t = ∫ −
0 0 ( ) ( ) , 60 0 f = . From these figures, we
can see that the frequency at each unit has the same trend because they are in the same
interconnection, and so the integral of the deviation is the same. During this period, the
main trend of the frequency is above nominal 60 Hz, only some short period when the
curve goes down the frequency is operated below 60 Hz.
0 20 40 60 80 100 120 140 160 180
-20
0
20
40
60
80
100
120
Freq Feb.13 2004 at NY, 9:30:0~12:30:0
Time(min)
Frequency Difference
Figure 4.8 Integral of Frequency Deviation of NY unit
Chapter 4 Frequency Pattern Analysis of the US Power Grids
54
20 40 60 80 100 120 140 160 180
59.97
59.98
59.99
60
60.01
60.02
60.03
60.04
60.05
Freq Feb.13 2004 at NY, 9:30:0~12:30:0
Figure 4.9 Raw Frequency Data of NY unit
0 20 40 60 80 100 120 140 160 180
-20
0
20
40
60
80
100
120
Freq Feb.13 2004 at UMR, 9:30:0~12:30:0
Time(min)
Frequency Difference
Figure 4.10 Integral of Frequency Deviation of UMR unit
Chapter 4 Frequency Pattern Analysis of the US Power Grids
55
0 20 40 60 80 100 120 140 160 180
59.97
59.98
59.99
60
60.01
60.02
60.03
60.04
60.05
Freq Feb.13 2004 at UMR, 9:30:0~12:30:0
Figure 4.11 Raw Frequency Data of UMR unit
0 20 40 60 80 100 120 140 160 180
-20
0
20
40
60
80
100
120
140
Freq Feb.13 2004 at ARI, 9:30:0~12:30:0
Time(min)
Frequency Difference
Figure 4.12 Integral of Frequency Deviation of ARI unit
Chapter 4 Frequency Pattern Analysis of the US Power Grids
56
0 20 40 60 80 100 120 140 160 180
59.97
59.98
59.99
60
60.01
60.02
60.03
60.04
60.05
Freq Feb.13 2004 at ARI, 9:30:0~12:30:0
Figure 4.13 Raw Frequency Data of ARI unit
0 20 40 60 80 100 120 140 160 180
-20
0
20
40
60
80
100
120
140
Freq Feb.13 2004 at VT, 9:30:0~12:30:0
Time(min)
Frequency Difference
Figure 4.14 Integral of Frequency Deviation of VT unit
Chapter 4 Frequency Pattern Analysis of the US Power Grids
57
0 20 40 60 80 100 120 140 160 180
59.97
59.98
59.99
60
60.01
60.02
60.03
60.04
60.05
Freq Feb.13 2004 at VT, 9:30:0~12:30:0
Figure 4.15 Raw Frequency Data of VT unit
4.4.3 Long-term Frequency Analysis
In the previous section, the integral of different of the same time is analyzed and we can
conclude that the integral and frequency pattern is the same in the same interconnection.
Hence, in this section, in order to analyze the long term pattern, only one unit is selected
to calculate the integral of frequency deviation in a daily mode to get the daily
accumulative effect of the frequency pattern. In the following figures, the frequency data
from ARI unit is analyzed. The Y-axis is the integral of frequency difference, and X-axis
is time starting from midnight. The figure in the left side is the integral and right side is
raw frequency data. Y Axis: S t f f dt t = ∫ −
0 0 ( ) ( ) , 60 0 f = .
Chapter 4 Frequency Pattern Analysis of the US Power Grids
58
0 5 10 15 20 25
-300
-250
-200
-150
-100
-50
0
50
100
150
200
Frequency difference Sum on Feb.17, ARI
Time(hour)
Frequency Difference
0 5 10 15 20 25
59.92
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
Frequency on Feb.17, ARI
Figure 4.16 Integral of Frequency deviation and raw data on Feb.17, 2004
0 5 10 15 20 25
-350
-300
-250
-200
-150
-100
-50
0
Frequency difference Sum on Feb.18, ARI
Time(hour)
Frequency Difference
0 5 10 15 20 25
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
60.1
60.12
Frequency on Feb.18, ARI
Figure 4.17 Integral of Frequency deviation and raw data on Feb.18, 2004
Chapter 4 Frequency Pattern Analysis of the US Power Grids
59
0 5 10 15 20 25
-200
-150
-100
-50
0
50
100
Frequency difference Sum on Feb.20, ARI
Time(hour)
Frequency Difference
0 5 10 15 20 25
59.92
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
Frequency on Feb.20, ARI
Figure 4.18 Integral of Frequency deviation and raw data on Feb.20, 2004
0 5 10 15 20 25
-300
-250
-200
-150
-100
-50
0
50
100
Frequency difference Sum on Feb.21, ARI
Time(hour)
Frequency Difference
0 5 10 15 20 25
59.92
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
Frequency on Feb.21, ARI
Figure 4.19 Integral of Frequency deviation and raw data on Feb.21, 2004
Chapter 4 Frequency Pattern Analysis of the US Power Grids
60
0 5 10 15 20 25
-300
-250
-200
-150
-100
-50
0
50
100
150
Frequency difference Sum on Feb.22, ARI
Time(hour)
Frequency Difference
0 5 10 15 20 25
59.92
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
Frequency on Feb.22, ARI
Figure 4.20 Integral of Frequency deviation and raw data on Feb.22, 2004
From the figures show above, we can find out that there is some regulation in operate the
power system frequency. The frequency is always below 60 Hz from 0 to 6 o’clock, then
increases and oscillates around 60 Hz but most is above 60 Hz from 6 to 18 o’clock, after
that the frequency declines again. This series is analyzed for the winter season and the
following figures show the frequency in summer season.
Chapter 4 Frequency Pattern Analysis of the US Power Grids
61
0 5 10 15 20 25
-150
-100
-50
0
50
100
150
200
250
300
350
Integral of frequency difference
0 5 10 15 20 25
59.94
59.96
59.98
60
60.02
60.04
60.06
raw frequency data
Figure 4.21 Integral of Frequency deviation and raw data on Aug. 1, 2004
0 5 10 15 20 25
-100
-50
0
50
100
150
200
Integral of frequency difference
0 5 10 15 20 25
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
60.1
raw frequency data
Figure 4.22 Integral of Frequency deviation and raw data on Aug. 2, 2004
Chapter 4 Frequency Pattern Analysis of the US Power Grids
62
0 5 10 15 20 25
-50
0
50
100
150
200
Integral of frequency difference
0 5 10 15 20 25
59.92
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
raw frequency data
Figure 4.23 Integral of Frequency deviation and raw data on Aug. 3, 2004
0 5 10 15 20 25
-100
-50
0
50
100
150
Integral of frequency difference
0 5 10 15 20 25
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
60.1
raw frequency data
Figure 4.24 Integral of Frequency deviation and raw data on Aug. 4, 2004
Chapter 4 Frequency Pattern Analysis of the US Power Grids
63
0 5 10 15 20 25
-200
-150
-100
-50
0
50
100
150
200
250
Integral of frequency difference
0 5 10 15 20 25
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
60.1
raw frequency data
Figure 4.25 Integral of Frequency deviation and raw data on Aug. 8, 2004
0 5 10 15 20 25
-50
0
50
100
150
200
Integral of frequency difference
0 5 10 15 20 25
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
60.1
raw frequency data
Figure 4.26 Integral of Frequency deviation and raw data on Aug. 9, 2004
Chapter 4 Frequency Pattern Analysis of the US Power Grids
64
From the above figures, we can find out that there is some regulation in operate the
power system frequency. The frequency is always above 60Hz from 0 to about 8 o’clock,
then decreases and oscillates around 60Hz but most is below 60Hz from 8 to 18 o’clock,
after that the frequency stay above 60Hz again. Here, some statistical data of the
frequency are calculated and listed in the Table 4.1.
Table 4.1 Statistical Frequency Result of ARI Unit
Date Frequency Mean (Hz) Frequency STD
Aug. 1 60-2.2365e-5 0.0164
Aug. 2 60+0.0022 0.0161
Aug. 3 60+0.0017 0.0152
Aug. 4 60+0.0012 0.0144
Aug. 8 60- 0.00063388 0.0161
Aug. 9 60+0.0019 0.0156
Aug. 11 60-0.0012445 0.0135
Aug. 12 60-0.0029255 0.0163
Aug. 13 60+0.00203 0.01258
Aug. 14 60+3.5854e-5 0.01335
From these statistical data, the frequency regulation in weekend is better than in weekday,
since the mean of frequency is much closer to 60Hz (such as on Aug. 1, Aug. 8 and Aug.
14); while the standard deviation of the frequency varies in a range.
From calculation, the frequency quality in WSCC is better than that in EUS. Because the
frequency of WSCC is in the range of ±0.02Hz and oscillates around 60Hz at most time,
while the frequency of EUS system always stay below 60Hz for a very long period and
then stay above 60Hz for a period, and its range almost is double size of the WSCC range.
4.5 Regional Frequency Oscillation Analysis
From the observation result of the FNET system, there is some frequency consist of some
local component, which is the occurrence of oscillations, indicating the possibility of
potential system instability. When such kind of event happens, oscillations can be
Chapter 4 Frequency Pattern Analysis of the US Power Grids
65
detected in all the measured variables of the power system: frequency, voltage and so on.
Sometimes the event can last for very long time. In some area, such as New England area,
there is some oscillation happened occasionally, and the cause of the oscillation is
unknown. In the area of Calvin, some oscillation is revealed, and the figure shows the
outlook of this kind of oscillation.
17:00:11 17:00:38 17:01:05 17:01:32 17:01:59 17:02:26 17:02:53
60.01
60.015
60.02
60.025
60.03
60.035
60.04
60.045
60.05
2005/4/19 10-point average
Time (EST)
Frequency (Hz)
FDR11 - CAL
Figure 4.27 Frequency Oscillation of Calvin Unit on Apr. 19, 2005
Chapter 4 Frequency Pattern Analysis of the US Power Grids
66
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5
0
0.2
0.4
0.6
0.8
1
1.2
1.4
1.6
1.8
2
x 10-3 2005/4/19 -Oscillation Analysis
Frequency (Hz)
Power Spectrum
FDR11 - CAL
Figure 4.28 Spectrum Analysis of Frequency Oscillation of Calvin Unit on Apr. 19, 2005
In today’s practical power systems, the oscillation can be generally classified in four
modes: local modes (machine-system modes), inter-area modes, control modes, torsional
modes [56]. From FDR data, we are able to observe electromechanical oscillation modes,
namely, local modes, and inter-area modes. Local modes are typically in the 1~3 Hz
range between a remotely located power station and the rest of the system; and inter-area
oscillations are in the range of less than 1 Hz [57]. From our experiences, these
oscillation modes can only happen occasionally and the time-series characteristics are not
as obvious as those characteristics in generation drop, line opening, or load rejection.
In order to understand the characteristic of the oscillation, some preliminary analysis is
employed in Matlab. The following solution is to use the spectrum analysis of the
oscillation to get the fundamental frequency component of oscillation. The 10-point
average frequency is first calculated to get the smoothed frequency wave, and represent
the frequency in absence of oscillation. Then the difference of raw frequency and average
frequency is calculated to get the deviation of oscillation. With this deviation, the power
spectrum can be used to reveal the fundamental oscillation frequency of the wave. In the
Chapter 4 Frequency Pattern Analysis of the US Power Grids
67
following figures, the spectrum analysis method is applied to the frequency data of units
in EUS and the oscillation frequency is showed in the figures.
Figure 4.29 Spectrum Analysis of Frequency Oscillation in EUS on Apr. 14, 2005
Please refer to the Appendix for the plot of oscillation analysis result. From the plot, it is
very clear that there is a 2Hz oscillation on the frequency wave in the Calvin area for the
observed period. However, for the other units, there is some uncertain oscillation in some
particular day, such as for UFL unit, there is an oscillation around 1.3Hz on Apr. 8 ~ Apr.
10. The source of these oscillations is still under investigated. Here the result shows that
the frequency data from FNET is a very promising data source for the future research
work on oscillation mode analysis.
4.6 Summary
Chapter 4 Frequency Pattern Analysis of the US Power Grids
68
With the implementation of the first phase of FNET system, the raw field-measured
frequency is investigated in this chapter. General system operating frequency is examined
and the characteristics of frequency deviation of the EUS, WECC and ERCOT are given.
The propagation of frequency in distribution system is analyzed and the result shows the
110V outlet frequency can represent the system frequency. Some statistical analysis of
frequency is given and long-term frequency pattern is investigated. Standard deviation
reveals a measure of the dispersion or variation in a distribution. The daily analysis of
frequency shows the operation pattern of the EUS. In addition to observing transient
states of the system, we can also use the FNET data to observe system’s frequency
oscillation and one example case is provided.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
69
Chapter 5 Disturbance Analysis Based on the
Frequency Information from FNET
5.1 Introduction
Power systems are vital links that achieve the essential continuity of service from the
generating plants to the end users. From the point of economics, social impact, and
especially homeland security, the importance of fast major fault detection/location in the
power systems is increasing. Automatic event identification in power systems is essential
to both normal operation and emergency control. During normal operation, operators
need aids from tools to analyze disturbances, and to derive other useful information. In
emergencies, they even more rely on tools to assess system security conditions, and to
determine control options.
Accurate and fast identification of an event could help achieve early alerting; clear
understanding of the ongoing disturbance, and ultimately triggering early corrective
emergency controls [58]. The synchronized high-resolution phasors provided by Phasor
Measurement Units have proven capable of revealing system dynamic operations
[59][64]. Frequency is the most important signal for event identification in this research.
The task of disturbance identification and analysis has the following closely related
objectives:
• Trigger: design event trigger algorithm to detect the abnormal frequency change;
• Confirmer: use a certain number of units to confirm the detected abnormal
frequency is a system behavior, and record the time difference of each unit
experiences the change;
• Locater: use the time difference and the change sequence information as input to
get the location of the source of this abnormal frequency change;
• Estimator: design algorithm to calculate the power change during this disturbance,
Generation equation, coefficient training by current events.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
70
Figure 5.1 describes the relation and sequence of these objectives. From this point of
view, when frequency data streams into the server, the program first directs these data to
the particular memory for each unit according to the unit number. Then the data will be
filled into trigger program to determine whether the frequency change reach the setting
threshold. If it falls into trigger, the program will go to confirmer stage to make sure it is
a system-range frequency change and then go to localization program to estimate the
location of the source of this frequency change, at the same time, the estimation of
generation change during the disturbance is achieved. In each step, if the flow does not
meet the setting criteria, it will go back to the first step.
Frequency Data Streamer
Data Grabber
Deviation Trigger
Event Confirmer
Event Locatization
Unit_ID TimeStamp Freq_Value
18 154115 59.9989
Event Detected at [TimeStamp],
on [Unit_ID], deviation is [Dev]
Event Confirmed by [number] units, the
drop sequence is [], the time difference
between each two units is [].
Initialization
Configuration File:
Window_Size
Unit_Location
…...
Figure 5.1 Flow chart of disturbance detect and analysis
For the trigger, threshold of the deviation of frequency during a certain period is
addressed. The thresholds of different interconnections are different, because each
interconnection has its own frequency characteristic. The threshold can be trained by the
known cases with the learning algorithm [65][67].
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
71
For the localization of disturbance event, time difference of arrival (TDOA) method [68]-
[71] is introduced as the preliminary step of the location area determination, and
electrical network model method is the second step to get the real location in very short
time after the disturbance happens.
For the estimator of the changed power during the disturbance, learning algorithm of
artificial neuron [72] is introduced to train the coefficient of the empirical equation,
which is built on the frequency response characteristics.
5.2 Trigger Design to Detect Disturbance in Power Grid
5.2.1 Principle of the Trigger Idea
The first issue for the disturbance analysis is to detect the fault event happened in the
power system, and then to get the detailed frequency information during the disturbance
period.
In the power system, if there is a generator or part of the generation of a generator tripped,
the residual generating capacity no longer matches the connected system load and this
will cause the system frequency to experience a sudden drop. The frequency change is
the difference of frequencies before and after a disturbance, and the frequency change is
an indicator of how much generation was removed or added in the interconnected system.
So the frequency change can be used as a detector of event in the system. In general,
tripping a load in the system should increase the system frequency. Because individual
loads are much smaller than the generating units, and frequency changes are usually so
small, so that the event practically cannot be detected. That is to say, the frequency
change can reflect (indicate) the system generation balance change, so when there is a
sudden decline of the system frequency, there must be a change of the generation balance.
This can be used to find out system disturbance cause by generation loss.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
72
Finding the sudden frequency drop in the continuous frequency data is the way to get the
fault event detailed time from the large amount of the recorded data. Especially, if there
is an online algorithm to detect the sudden frequency drop in FNET system, the
generation trip event can be found at a very early time. Firstly, an offline algorithm is
needed to find out the event in recorded frequency data in the database, and then apply
this algorithm to the real-time database to set an alarm trigger for system fault event.
The trigger is set with a threshold of average frequency deviation in a certain period.
Normally the frequency supposes to vibrate slightly around 60 Hz and do not change
rapidly because of the mechanical characteristics. Therefore, the average frequency of a
certain period can be a good estimation of the frequency in the near future. Then the
deviation between the real frequency and the estimated frequency can illustrate the
veracity of the estimation. When the deviation reach the setting threshold, the system
deviates from steady status and some disturbance happens.
Figure 5.2 Illustration of the Trigger Design
Mathematically speaking, the trigger idea can be explained in this way. For the nominal
frequency behavior, the frequency can be presented as f (t) = 60Hz , and if the system is
running in the theoretic steady mode. While for the real frequency in the system, the
frequency will vary in the adjacent range of 60Hz, and the average
f (t) = AVERAGE( f ) of the window size can express the frequency, so the next
frequency point suppose to behavior as the average frequency before, use moving
-0.008
-0.007
-0.006
-0.005
-0.004
-0.003
-0.002
-0.001
0
0.001
0.002
1 21 41 61 81 101 121
59.935
59.94
59.945
59.95
59.955
59.96
59.965
59.97
59.975
59.98
59.985
Dev Freq
Threshold
Normal
Deviation
Freq
(Hz)
Dev
(Hz/s)
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
73
average with window size of 4 seconds, the deviation between average frequency can be
calculated. If the system is running in the steady status, the deviation supposes to fall in a
certain operating range, and this range can vary in different interconnection. If the
deviation is out of the range, the trigger is active.
The average method can remove the spike effect to the calculation result to eliminate the
local one-point spike, which will confuse the trigger program and send wrong alarm
message. Most of this kind of frequency change is caused by generator trip or load lost in
the power grid. Using this method, the spikes which caused by some uncertain local
switch or noise will be filtered.
Another issue for the trigger design is the threshold. In order to detect the abnormal
frequency change, the threshold setting is very important because improper threshold will
either miss some disturbance or alarm too often by the normal frequency deviation.
5.2.2 Offline Trigger Algorithm Design
With the principle of the trigger, a Matlab based program is designed to detect the
frequency drop event in the stored historical frequency data. For a long period of
historical frequency data, such as one day of frequency data, that will be 864000
frequency data points for one unit. 5 seconds pre-event data (50 points) and 5 seconds
post-event data (50 points) are used to detect the generation tripped fault event. In the
offline trigger design, the calculation window is 5 second, and the threshold of deviation
will be set according to the calculation window.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
74
Figure 5.3 Frequency Event Detection Algorithm Sample Case on May 5, 2004
Figure 5.4 Detailed Observation of the Sample Case on May 5, 2004
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
75
Figure 5.5 Detected Event in ERCOT on Jan.12, 2005
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
76
Figure 5.6 Detected Event in EUS with ARI unit on Apr. 4, 2005
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
77
Figure 5.7 Detected Local Event in EUS with TLN unit on Apr. 18, 2005
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
78
Figure 5.8 Frequency Plot of all Units in TLN Detected Event on Apr. 4, 2005
With this offline program, almost all the generation tripping events happened in the
system can be detected from the FNET frequency data recorded in the database.
5.2.3 Online Trigger Prototype
Online trigger program can be easily employed with the same algorithm. When the data
stream into the server, a shared memory can be used to store the data of needed period.
Then the trigger will find the abnormal frequency deviation and send out the alarm
message.
Some modification should be made of online trigger program. The data points used for
moving average should be changed because the offline trigger algorithm uses 5 seconds
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
79
as calculation window and that implies there is a 5-second delay. In order to keep the fast
response of the real-time program, the calculation window should be changed to twosecond
or even shorter to avoid time delay. The threshold is defined as the frequency
deviation in unit period; hence, it should be changed due to this difference.
5.2.4 Confirmer of Event
Some events only reflect the local power change and the effect does not propagate, refer
to the following MIS event plot. It is very clear that the power balance lost in the area
where the unit of MIS located, and the local frequency fluctuated for several minutes, and
then some generation lost to make the frequency decline to around 59.9Hz and with some
control device response, the frequency went back and resynchronized with the
interconnection.
16:55:00 17:05:00 17:15:00 17:25:00 17:35:00
59.9
59.95
60
60.05
60.1
60.15
60.2
60.25
Time (EST)
Frequency (Hz)
2005/4/19 10-point average
FDR2 - UMR
FDR3 - ARI
FDR4 - VT
FDR7 - MIS
FDR9 - UFL
FDR20 - TVA
Figure 5.9 Local Frequency Fluctuation near MISS Area on Apr. 19, 2005
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
80
Figure 5.10 Frequency Recovery after Disturbance in MISS event
While most of frequency fluctuation event can be detected by the units all around the
power grid, and this kind of events can be named as system level frequency fluctuation.
So for the online real-time trigger program, the event can be divided into two catalogs,
one is the local disturbance, which means only one unit has responses for the event;
another one is the system level disturbance that means more than one unit response in a
very short time period (2~4 seconds).
The idea of confirmer is to set a vector to store the trigger information. when one unit
active the trigger, the time stamp and the deviation of this event will be stored in the
vector, and then if there is some other unit also detects this event in the following several
seconds, the event is confirmed. In FNET system, the FDR units are located
geographically and electrically dispersed, so if there are two or more units detect the
event simultaneously, the confirmer will save all the information related to this event.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
81
Another function of the confirmer is to provide the sequence of the units sort by the time
when the unit experiences the event and the time difference of each two continuous units.
This information will be the input information for the localization program to estimate
the disturbance location.
5.3 Disturbance Event Localization Algorithm
When algorithm detects that there is some disturbance happen in the system to force the
frequency in different locations drop in a sequence, the algorithm will record the
frequency drop time at each location. From the observation of several cases, it is very
clear that the times of the frequency experience disturbance at different locations are
different, and the time delay of each two locations can be calculated from the time stamp
attached with the data package.
In steady state, the power system frequency is the same in different parts of an
interconnected system. This is not the case during an initial period following the trip of a
big generator or a load and before a new equilibrium in active power has been achieved.
This type of disturbance creates an imbalance of active power in the system and changes
the frequency in different parts of the system. During a transient period, the system
frequency f and the rate of change of system frequency df/dt are not the same throughout
the system. In locations close to the disturbance, the absolute value of the frequency
derivative |df/dt| is much higher than in regions far away from disturbance. This
phenomenon can be used in the feature extraction and disturbance classification method
to distinguish between remote and close-by generation trips.
The slope of the local system frequency variation on its first "swing" can be used to
assess how close a disturbance is located to the FDR. Using multiple FDR at different
sites in the system may provide accurate information to estimate the actual location of the
disturbance in some case. The time difference is because that the distances of fault event
location to the FDR locations are different.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
82
The algorithm of fault event location is based on the time delay of each FDR experience
the fault event. With this information, the fault event location can be triangulated through
some classical method of fault determination in similar areas. Here, the algorithm of
Time Difference of Arrival (TDOA), which is widely used in seismology, sonography,
electronic intelligence, and geophysical remote sensing and so on, is introduced to solve
the disturbance location issue.
5.3.1 Geographical Modeling of Localization Issue
The assumption of TDOA is that the wave, which can be electromagnetic wave, seismic
wave and so on, will propagate in all direction with the same speed. Based on this
assumption, if some stations or sensors geographically dispersed in the detection system,
the time when the wave arrives at each sensor is different. With the time delay between
each two sensors and the location information of each sensor, the original source of this
wave can be located with some algorithm to get the solution of the nonlinear optimal
equation set.
This is the basic idea of triangulation of the location of the disturbance, just use the
geographical location and distance to build a pure geographical model.
Put all the units in a map and get the coordination of each unit:
Unit_1 ( 1 1 a ,b ), Unit_2 ( 2 2 a ,b ), ……, Unit_n ( n n a ,b )
Together with the Time difference of arrival information:
 

 


Δ = −
Δ = −
Δ = −
−1 −1
2 3 2
1 2 1
n n n t t t
t t t
t t t
L
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
83
Here we define d ,d ,Ldn 1 2 as the distances from the unknown disturbance location to
each unit, and define the disturbance location as (x, y), the speed of frequency
propagation as c
  

  


= − + −
= − + −
= − + −
2 2
2
2
2
2 2
2
1
2
1 1
( ) ( )
( ) ( )
( ) ( )
n n n d x a y b
d x a y b
d x a y b
L
Based on the simple model, the difference of distances should be the product of speed
and time difference, so we can get the following equations:
 

 


− = Δ ×
− = Δ ×
− = Δ ×
− − d d t c
d d t c
d d t c
n n 1 n 1
3 2 2
2 1 1
L
In this equation set, the known quantities are the coordinates of each unit and the time
difference from FNET system; the unknown quantities are the coordinates of the
disturbance location and the speed c. Because the number of equation in this set is always
more than three, the basic idea is to get the optimal solution of this nonlinear equation set
to get the unknowns.
Here we define the equation set as:
 

 


= − − Δ ×
= − − Δ ×
= − − Δ ×
− − − f d d t c
f d d t c
f d d t c
n 1 n n 1 n 1
2 3 2 2
1 2 1 1
L
The solution of this equation set should make all these functions be zero, while the
optimal solution should make these functions infinitely approach zero. There are many
algorithms to solve this nonlinear optimal issue, such as least square solution and so on.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
84
5.3.2 TDOA Algorithm Design
In this algorithm, the assumption is the speed of frequency propagation in each direction
is the same, so the time delay of each FDR experienced the frequency drop can be used to
determine the location of event. If the speed of frequency propagation is different in
different direction, this difference can be added as a weight factor in the final solution.
The time of n FDR experienced event are t ,t ,Ltn 1 2 the location ( , ) 0 0 x y and event
starting time 0 t are the parameter, which need to be computed to get the minimum of the
target equation (1):
Σ=
=
n
i
i t x y r
1
2
0 0 0 φ ( , , ) (1)
where i r is the time different
( , ) 0 0 0 r t t T x y i i i = − − (2)
i T is the computed time from event location to FDR.
So the problem becomes is a multidimensional unconstrained nonlinear minimization
question.
To make the target equation minimum is to solve this differential equation
∇ φ (θ ) = 0 θ (3)
Where T T
t x y
(t , x , y ) , ( , , )
0 0 0
0 0 0 ∂
∂
∂
∂
∂
∂
= ∇ = θ θ .
For convenience, defining
(θ ) φ (θ ) θ g = ∇ (4)
So from equation (3), use a random tentative solution θ * near the real solution θ and the
differential vector δθ to satisfied
g θ + [∇ g(θ * )T ]Tδθ = 0 θ
( * ) (5)
That is
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
85
( * )
θ [∇ g(θ * )T ]Tδθ = −g θ (6)
From the definition ofφ , the equation of (6) can be:
Σ Σ
= =
 

 

∂
∂
= −
 

 

∂ ∂
∂
+
∂
∂
∂
∂ n
i k
i
j i
n
i j k
i
i
k
i
j
i
θ
r
θ r
θ θ
r
r
θ
r
θ
r
1 1
2
θ* θ*
δ (7)
If θ * is not far from the real solution θ , the (θ * ) i r and
θ*
 


 


∂ ∂
∂
j k
iθ
θ
2T
will be small enough,
and if the second order derivative can be ignored, the equation (7) can be simplified:
Σ Σ
= =
 

 

∂
∂
= −
 

 

∂
∂
∂
∂ n
i k θ
i
i
n
i k
i
j
i
* θ
r r
θ
r
θ
r
1 1
(8)
In addition, in format of matrix:
AT Aδθ = ATr (9)
Where
  


  


=
     


     


∂
∂
∂
∂
∂
∂
∂
∂
=
n n rn
r
r
y
T
x
T
y
T
x
T
A M M M M
1
0 0
0
1
0
1
,
1
1
θ *
.
While if the second order derivative can not be ignored, the equation (7) can be in
nonlinear format of matrix:
[A A ( AT )r] θ ATr
θ
T − ∇ δ = . (10)
From the equation (9), (10) to get δθ , use θ = θ* +δθ as a new attempt point and solve
the equation again, until the φ or r
φ is small enough, then get the estimated solution θ
)
.
If n is the length of x, a simplex in n-dimensional space is characterized by the n+1
distinct vectors that are its vertices. In two-space, a simplex is a triangle; in three-space, it
is a pyramid. At each step of the search, a new point in or near the current simplex is
generated. The function value at the new point is compared with the function's values at
the vertices of the simplex and, usually, the new point, giving a new simplex, replaces
one of the vertices. This step is repeated until the diameter of the simplex is less than the
specified tolerance.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
86
5.3.3 Location Sample Cases Analysis
In this section, there are two sample cases analyzed by the Matlab location program,
please refer to the Appendix for the detail of the program. The first one is the nuclear
power plant trip event, which located at Davis Besse and happened on Aug. 4, 2004. The
second sample case is the generation tripped at Watts Bar on Sep. 19, 2004. In the figures
of the following two cases, asterisk stands for FDR units used in estimation; diamond
stands for the estimated location with TDOA method and square stands for confirmed
disturbance real location.
4000 4500 5000 5500 6000 6500 7000
2500
3000
3500
4000
4500
Figure 5.11 Location Sample Case at Davis Besse
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
87
4900 5000 5100 5200 5300 5400 5500
2400
2450
2500
2550
2600
2650
2700
2750
2800
2850
Figure 5.12 Detailed Illustration of Estimated Location and Real Location
4500 5000 5500 6000 6500 7000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Figure 5.13 Location Sample Case at Davis Besse
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
88
5050 5100 5150 5200 5250 5300 5350 5400 5450 5500 5550
3600
3650
3700
3750
3800
3850
Figure 5.14 Detailed Illustration of Estimated Location and Real Location
The error distance in the first case is 75 miles and in the second case is 105 miles. The
error of location is affected by the difference of frequency wave speed in different
directions and the topology of the transmission lines. Until now, the wave propagation
speed is still under research, and from the simulation result, the speed in different
direction is different, so there must have some error in the location estimation. If the
speed of wave propagation can be introduced into the equations as a weight factor to each
single equation, the accuracy of this algorithm can be significantly improved.
5.3.4 Network Model of Power Grid and the Definition of Electrical
Distance
Actually, use the TDOA method, with the least square algorithm or other algorithm to get
the optimal solution of the generator location, there is still some error in spite of the error
of the algorithm itself. Then use look-up table model to figure out the most possible
generator will be the disturbance source. Therefore, with the estimation of the location
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
89
from the TDOA method, a rough location of the disturbance can be derived for the
further accurate location to the exact power plant with the generator, which leads to the
disturbance to the system.
With the analysis on some known cases, the exact power plant locates in a geographical
circle with the coordination of the estimated location as center and a certain distance (100
miles) as the radius. Because the power plants are no so dense geographically, so there
will only be several power plants in this estimated circle area. These power plants can
create a possible table. Therefore, the issue comes to how to determine which power plant
should be the disturbance one. Another information can be used for determination is the
changed generation in the disturbance. With the detailed description of the next section,
the generation can be estimated with empirical equation. Together with this information,
those power plants with the lower capacity than the changed generation should be taken
out of the table, and only those power plants with larger capacity will stay in the table.
Sometimes, only one power plant will stay in the table, that one can be the answer; while
sometimes, there are still more than one power plant can be the possible one. At this time,
the possibility of each power plant will be evaluated to give a list sort by the possibility.
This network model is very rough and lack of theoretic support. A possible idea is to
define an electrical distance between the power plant and substation to replace the pure
geographical distance. If such model can be built, the solution of TDOA will be greatly
improved. While the definition of electrical distance involves in the different voltage
level transformer, the propagation routine of electrical parameters, many power system
component modeling and some other issues. The current model is based on the
electromagnetic characteristics of power system, while the frequency response related to
the electromechanical characteristics of the power system. From the academic view, how
to define this model is still under research.
5.4 Generation Estimation in Generator Tripping Event
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
90
In the power system, if there is a relative significant generation tripped in the system, the
frequency will experience a sudden drop due to the power mismatch between generation
and load.
The estimation of tripped generation in fault event analysis is based on the relation of the
frequency and active power balance in the system. It is known that in power system the
real-time frequency and the rate of frequency change df/dt of the whole system are the
most important parameters in calculation or estimation of the imbalance between load
and generation.
In large interconnected power systems, such as WECC and EUS, serious frequency falls
now require a very heavy loss of generation. In WECC, there are many sudden frequency
drop occurred because the capacity of WECC system is not as huge as EUS. Hence, when
a certain amount of generation tripped in WECC and EUS, the frequency response is
more sensitive in WECC than in EUS. This is due to the relationship of frequency change
and inertia of the electric power system.
d msystem esystem system H
dt
P P P dω
Δ = − = 2 ,
There are many frequency estimation or predict algorithm to get these two parameters.
Now, with the help of wide-area measurement devices (PMU and FDR), the frequency
and the rate of frequency change can be easily measured and provided for this application.
This means the rate can be calculated using the initial samples after the disturbance of the
generators’ electrical angular velocities at intervals of a constant time interval, and the
system H is the sum of all generators’ inertia constants. So the amount of imbalance active
power Δp can be calculated in the central server of FNET with frequency information.
From this analysis, if the system inertia is known and rate of frequency change can be
calculated from FNET frequency information, the amount of imbalanced active power
Δp can be calculated. In WECC and EUS system, the system inertia can be calculated
through the empirical equations build by the cases, which have already occurred, and the
information of these cases is known.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
91
5.4.1 Definition of Starting and Ending Time in a Frequency Drop
Event
In order to calculate the generation, the frequency shift during the disturbance is needed
as the input information, and so it is important to define the starting and ending time of
disturbance.
In the program, the trigger method is used to detect the abnormal frequency deviation.
When the deviation reaches the setting threshold, which depends on the period length in
the calculation of frequency deviation, this means an event is detected at time T_event,
then go back the deviation array to search the point, which is larger than zero and closest
to T_event, the time of this point is defined as T_start. After event happens, search the
frequency deviation until it go back to be positive, the time of the point firstly becomes
positive is T_end. So period of disturbance should be from T_start to T_end. Normally,
the period lasts for 2~8 seconds in the known cases, while this length can vary according
to the different interconnection and different scenarios.
5.4.2 Definition of the Frequency Shift during Disturbance
With the definition of disturbance start and end time, the pre-event average frequency
should be the mean of the frequency points in the 5 seconds before T_start, [T_start-5,
T_start], and the post-event average frequency should be mean of the frequency points in
the 5 seconds after T_end, [T_end, T_end+5].
With this definition, we can get
( : ) pre St 50 st f AVERAGE f f − =
( : ) +50 = post end end f AVERAGE f f
therefore, the frequency shift during the disturbance is the difference between these two
averages.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
92
5.4.3 Training Algorithm for the Coefficient of Empirical Equation
In order to get the coefficient β of the empirical equation, some known cases are used to
train this factor with the training method.
In WECC system, there are four cases reported with the amount of tripped generation and
event date and time (TableTABLE 5.1). The frequency change during the event period can
be found and calculated from the frequency database.
Table 5.1 Generation Tripped Events in WECC
Date Tripped Generation Frequency change
06/29/2004 600MW 0.075Hz
06/30/2004 500MW 0.065Hz
07/02/2004 500MW 0.068Hz
07/04/2004 800MW 0.095Hz
From these four cases, the coefficient dP/df of the empirical equation between the tripped
generation and frequency drop amount within a fixed time can be derived:
MW Hz
df
dP 600 / 0.075 8000 /
1
= =
MW Hz
df
dP 500 / 0.065 7692.3 /
2
= =
MW Hz
df
dP 500 / 0.068 7352.9 /
3
= =
MW Hz
df
dP 800 / 0.095 8421.1 /
4
= =
(600 500 500 800)
(8000 600 7692.3 500 7352.9 500 8421.1 800)
( )
4
1
4
1
+ + +
× + × + × + ×
=
×
=
Σ
Σ
=
=
i
i
i
i i
Aver dP
dP
df
dP
df
dP
So, MW Hz
df
dP
WECC
= 7866 /
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
93
This coefficient is used in WECC system, while for the EUS system, the capacity is about
4 times the capacity of WECC, so the coefficient of EUS supposes to be about 4 times
coefficient of WECC, so we get: MW Hz
df
dP
df
dP
EUS WECC
= × 4 = 7866× 4 = 31464 /
5.4.4 Validation of Coefficient with Event in WECC
There was a significant event in WECC occurred on Jun. 14, 2004, and the FNET system
recorded the frequency information of this event (Figure 5.15). From the trend of the
frequency decline, there were at least two sets of generators tripped. The first tripping
happened at 14:40:34, and the second tripping happened 21 seconds later (14:40:55). The
power loss on the second tripping was much larger than the first one, and the slope of the
initial swing of the second tripping was greater than the first. The frequency declined to
about 59.57Hz, and then gradually recovered to the normal operating state at 14:58:17.
The gradual recovery may be due to the combinations of governor reactions and
automatic generation control (AGC), which is the secondary frequency control in power
plants.
When this event occurred, there is only one FDR in WECC system, so the event location
cannot be derived from the FNET. The event location triangulation needs at least three
FDR units in the power grid.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
94
Figure 5.15 Frequency of FDR at CA and Seattle in the Jun.14, 2004 generator trip event
in WECC
In the first tripping, the lost generation should be: 7866 × 0.13 = 1022.58MW , and the
lost generation in the second tripping should be: 7866× 0.45 = 3539.7MW . So the total
lost generation in this event should be 4562.58MW. It is reported that the lost generation
in this event is about 4800MW.
For the first frequency drop, the amount of frequency change is:
f 59.998 59.8745 0.1235Hz 1 Δ = − = ,
and the second drop, f 59.9617 59.52 0.4417Hz 2 Δ = − = . So the generation tripped in the
first drop:
MW
df
P f dP
WECC
0.1235 7866 971.45 1 1 Δ = Δ × = × = ，
and in the second drop: MW
df
P f dP
WECC
0.4417 7866 3474.4 2 2 Δ = Δ × = × = ，
so the total tripped generation in this event is:
P P P 971.45 3474.4 4445.9MW 1 2 Δ = Δ + Δ = + =
1.44 1.445 1.45 1.455 1.46
x 105
59.6
59.65
59.7
59.75
59.8
59.85
59.9
59.95
60
2004-06-14
Seattle
CA
14:40:34
14:58:17
14:40:55
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
95
It is reported that there are three generators tripped and there is 4800MW generation lost,
so the error of tripped generation estimation is:
100% 7.37%
4800
( ) / 4800 4445.9 × =
−
= Δ − Δ Δ = real real δ P P P
5.5 Generator Tripped Fault Events Analysis
There are more FDR units in the EUS system than that in WECC system, while the
capacity of the EUS System is much larger than WECC system. In this means, when the
same amount of generation is tripped in the two systems, the response of WECC is more
distinct than that in the EUS system. The FNET system is sensitive enough to catch the
small frequency drop. With frequency information from FDR units in the EUS system, if
an unexpected event occurs, the location of this event can be estimated by triangulation
analysis and the amount of generation change can be estimated. The FNET system started
running from this summer, during this period there are four significant generator tripped
events in EUS as we know. These four events are listed in the following TableTABLE 5.2
with date and detailed time.
Table 5.2 Four Generator Tripped Events to be Analyzed in EUS
Date Time(GMT)
Aug.4, 2004 14:23:08
Aug.6, 2004 12:36:47
Sep.19,2004 8:55:57
Nov.23, 2004 15:59:53
5.5.1 Fault Event of Generator Tripped on Aug.4, 2004
The first case happened on Aug. 4, 2004, when a generator tripped and the frequency of
the EUS system declined but the decline start time and the slope of the decline were
different at different locations in the EUS system. The FNET system recorded this event.
Figure 5.16 is raw frequency data during the event period, and the time range is 3 minutes
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
96
including pre-event and post-event period. Figure 5.17 is the detailed frequency data, and
the time range is 20 seconds.
59.9
59.92
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
14:22:55 14:23:15 14:23:36 14:23:56 14:24:17 14:24:37 14:24:58
UMR ARI VT ABB MISS UFL
Figure 5.16 Raw frequency data of Aug. 4, 2004 event during the event period (3minutes)
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
97
59.94
59.95
59.96
59.97
59.98
59.99
60
14:23:04 14:23:06 14:23:08 14:23:10 14:23:12 14:23:14 14:23:16 14:23:18 14:23:20 14:23:22 14:23:2
UMR ARI VT ABB MISS UFL
Figure 5.17 Detailed raw frequency data of Aug. 4, 2004 event (20seconds)
59.95
59.955
59.96
59.965
59.97
59.975
59.98
59.985
1 7 13 19 25 31 37 43 49 55 61 67 73 79 85 91 97
UMR
ARI
VT
ABB
MISS
UFL
Figure 5.18 10-point average frequency of Aug. 4, 2004 event (10seconds)
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
98
The following figure is the 10-point average frequency data of each FDR. From the
figures, it’s very clear that before the event happened, the EUS system frequency was
around 59.98Hz, and the units in ARI, VT, UMR, and ABB firstly experienced frequency
drop at 14:23:08.8; then units in MISS and UFL experienced frequency drop after 1
second; at last the frequency went down to 59.955Hz at 14:23:12.8.
AVERAGE FREQUENCY
59.95
59.955
59.96
59.965
59.97
59.975
59.98
59.985
59.99
1 21 41 61 81 101 121 141 161 181 201 221 241 261 281 301 321 341 361 381
Figure 5.19 Average of raw frequency data from 6 FDR Units of Aug. 4, 2004 event
Figure 5.19 is the average of frequency data of all six FDR units that recorded this event.
The amount of frequency change in this event can be calculated from this figure. In this
case, frequency change is 0.025Hz, so estimated amount of tripped generation can be
calculated from the empirical equation:
MW
df
P f dP
EUS
Δ = Δ × = 0.025×31464 ≈ 786.6
while the actual tripped generation was around 870MW, so the error of tripped generation
estimation is:
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
99
100% 9.58%
870
( ) / 870 786.6 × =
−
= Δ − Δ Δ = real real δ P P P
From the delay time difference and the amount of frequency decline within a fixed time,
the event location can be estimated as shown in Figure 5.20. Estimated triangulation
shows the event should locate in the joint area of Michigan, Indiana and Ohio. The blue
dot is the estimated event location, while the real event was located at the square on the
right side. The error of location is affected by the difference of frequency wave speed in
different directions and the topology of the transmission lines.
Figure 5.20 Triangulation of tripped generator location of Aug. 4, 2004 event (eyeball)
5.5.2 Fault Event of Generator Tripped on Aug.6, 2004
The second case happened on Aug. 6, 2004. Figure 5.21 is raw frequency data during the
event period, and the time range is 15 minutes including pre-event and post-event period.
Figure 5.22 is the detailed frequency data, and the time range is 20 seconds. Figure 5.23
is the 10-point average frequency data of each FDR. From the figures, it is very clear that
before the event happened, the EUS system frequency was around 60Hz. The FDR units
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
100
at VT and MISS almost experienced the event at the same time, 0.9 second later, UFL
and ABB experienced frequency drop; at last the frequency went down to 59.9596Hz.
59.9
59.92
59.94
59.96
59.98
60
60.02
60.04
60.06
60.08
12:30:01 12:31:59 12:33:57 12:35:55 12:37:53 12:39:52 12:41:50 12:43:48
VT
ABB
MISS
UFL
Figure 5.21 Raw frequency data of Aug. 6, 2004 event (15minutes)
59.94
59.95
59.96
59.97
59.98
59.99
60
60.01
60.02
60.03
12:36:30 12:36:33 12:36:36 12:36:38 12:36:41 12:36:44 12:36:46 12:36:49
VT ABB MISS UFL
Figure 5.22 Detailed raw frequency data of Aug. 6, 2004 event (20seconds)
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
101
59.95
59.96
59.97
59.98
59.99
60
60.01
1 6 11 16 21 26 31 36 41 46 51 56 61 66 71 76 81 86 91 96 101
VT ABB MISS UFL
Figure 5.23 10-point average frequency of Aug. 6, 2004 event (10seconds)
AVERAGE FREQUENCY
59.95
59.96
59.97
59.98
59.99
60
60.01
60.02
1 22 43 64 85 106 127 148 169 190 211 232 253 274 295 316 337 358 379 400
Figure 5.24 Average of frequency from 4 FDR units of Aug. 6, 2004 event
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
102
The previous figure is the average of frequency data of four FDR units that recorded this
event. The amount of frequency change in this event can be calculated from this figure.
In this case, average frequency change is 0.0436Hz, so estimated amount of tripped
generation can be calculated from the empirical equation:
MW
df
P f dP
EUS
Δ = Δ × = 0.0436× 31464 ≈ 1371.9
while the actual tripped generation was around 1300MW, so the error of tripped
generation estimation is:
100% 5.53%
1300
( ) / 1300 1371.9 × = −
−
= Δ − Δ Δ = real real δ P P P
From the average frequency data, frequency drop sequence: VT and MISS almost the
same to experience the event, 0.9 second later, UFL and ABB experience it. From the
raw frequency curve, the frequency of VT dropped firstly, while the frequency of MISS
is most affected by the disturbance compared with the other three frequencies. From the
delay time difference, the event location can be estimated as shown in following figure.
Estimated triangulation shows the event should locate in the middle north area of
Tennessee. The blue dot is the estimated event location, while the real event was located
at the square on the left lower side.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
103
Figure 5.25 Triangulation of tripped generator location of Aug. 6, 2004 event
5.5.3 Fault Event of Generator Tripped on Sep.19, 2004
The third case occurred on Sep. 19, 2004. The EUS System experienced a sudden
frequency decline (Figure 5.26), and the FNET system recorded the frequency
information at each of the FDR units. Figure 5.26 is raw frequency data during the event
period, and the time range is 3 minutes including pre-event and post-event period. Figure
5.27 is the detailed frequency data, and the time range is 20 seconds. Figure 5.28 is the
10-point average frequency data of each FDR.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
104
59.92
59.94
59.96
59.98
60
60.02
8:54:35 8:54:53 8:55:11 8:55:28 8:55:46 8:56:03 8:56:21 8:56:39 8:56:56 8:57:14 8:57:31 8:57:4
NY UMR ARI VT ABB MISS Calvin
Figure 5.26 Raw frequency data of Sep. 19, 2004 event (3minutes)
59.93
59.94
59.95
59.96
59.97
59.98
59.99
60
60.01
60.02
8:55:50 8:55:53 8:55:56 8:55:58 8:56:01 8:56:03 8:56:06 8:56:09
NY UMR ARI VT ABB MISS Calvin
Figure 5.27 Detailed raw frequency data of Sep. 19, 2004 event (20seconds)
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
105
59.94
59.95
59.96
59.97
59.98
59.99
60
1 6 11 16 21 26 31 36 41 46 51 56 61 66 71 76 81 86 91 96 101
NY UMR ARI VT ABB MISS Calvin
Figure 5.28 10-point average frequency of Sep. 19, 2004 event (10seconds)
AVERAGE FREQUENCY
59.94
59.95
59.96
59.97
59.98
59.99
60
1 21 41 61 81 101 121 141 161 181 201 221 241 261 281 301 321 341 361 381 401
Figure 5.29 Average of frequency from FDR units of Sep. 19, 2004 event
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
106
Figure 5.29 is the average of frequency data of seven FDR units, which recorded this
event. The frequency dropped to approximately 59.95Hz at 8:56:02. The amount of
frequency change in this event can be calculated from this figure. In this case, average
frequency change is 0.0374Hz, so estimated amount of tripped generation can be
calculated from the empirical equation:
MW
df
P f dP
EUS
Δ = Δ × = 0.0374×31464 ≈ 1178.1
while the actual tripped generation was around 1180MW, so the error of tripped
generation estimation is:
100% 0.153%
1180
( ) / 1180 1178.1× =
−
= Δ − Δ Δ = real real δ P P P
From the average frequency data, frequency drop sequence of each FDR is: UMR, VT,
MISS, ABB, ARI, Calvin, NY. From the delay time difference, the event location can be
estimated as shown in Figure 5.30. Estimated triangulation shows the event should locate
in the west area of Kentucky, and near Indiana and Illinois. The blue dot is the estimated
event location, while the real event was located at the square on the left lower side.
Figure 5.30 Triangulation of tripped generator location of Sep. 19, 2004 event
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
107
5.5.4 Fault Event of Generator Tripped on Nov.23, 2004
The last case occurred on Nov.23, 2004. The EUS System experienced a sudden
frequency decline (Figure 5.31), and the FNET system recorded the frequency
information at each of the FDR units. Figure 5.31 is raw frequency data during the event
period, and the time range is 3 minutes including pre-event and post-event period. Figure
5.32 is the detailed frequency data, and the time range is 20 seconds.
Figure 5.33 is the 10-point average frequency data of each FDR. From the figures, it is
very clear that before the event happened, the EUS system frequency was around 60Hz.
59.9
59.92
59.94
59.96
59.98
60
60.02
60.04
15:59:50 16:00:21 16:00:52 16:01:23 16:01:54 16:02:25 16:02:56 16:03:27
Figure 5.31 Raw frequency data of Nov. 23, 2004 event (3minutes)
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
108
59.94
59.96
59.98
60
60.02
60.04
16:01:06 16:01:09 16:01:12 16:01:14 16:01:17 16:01:19 16:01:22 16:01:25
ARI UMR VT ABB MISS Calvin
Figure 5.32 Detailed raw frequency data of Nov. 23, 2004 event (20seconds)
59.95
59.96
59.97
59.98
59.99
60
60.01
1 6 11 16 21 26 31 36 41 46 51 56 61 66 71 76 81 86 91 96 101
ARI UMR VT ABB MISS Calvin
Figure 5.33 10-point average frequency of Nov. 23, 2004 event (10seconds)
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
109
AVERAGE FREQUENCY
59.95
59.96
59.97
59.98
59.99
60
60.01
1 26 51 76 101 126 151 176 201 226 251 276 301 326 351 376 401
Figure 5.34 Average of frequency from 6 FDR units of Nov. 23, 2004 event
Figure 5.34 is the average of frequency data of six FDR units that recorded this event.
The frequency dropped to approximately 59.961Hz at 16:01:19. The amount of frequency
change in this event can be calculated from this figure. In this case, average frequency
change is 0.0387Hz, so estimated amount of tripped generation can be calculated from
the empirical equation:
MW
df
P f dP
EUS
Δ = Δ × = 0.0387 × 31464 ≈ 1219
while the actual tripped generation was around 1190MW, so the error of tripped
generation estimation is:
100% 2.45%
1190
( ) / 1190 1219 × = −
−
= Δ − Δ Δ = real real δ P P P
From the average frequency data, frequency drop sequence of each FDR is: UMR, VT,
MISS, ABB, ARI, Calvin, NY. From the delay time difference, the event location can be
estimated as shown in Figure 5.35. Estimated triangulation shows the event should locate
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
110
in the joint area of Tennessee, Georgia and Alabama. The blue dot is the estimated event
location, while the real event was located at the square on the left lower side.
Figure 5.35 Triangulation of tripped generator location of Nov. 23, 2004 event
5.5.5 Summary of Fault Event Cases in EUS
Here in this report, there are four generator tripped events analyzed. After the analysis,
the detailed information of these four events was reported to make a comparison with the
estimated result. The location comparison results are listed in the TableTABLE 5.3, and
the generation comparisons are listed in the Table TABLE 5.4.
Table 5.3 Location Comparison between the Estimated Location and Real Location
Event Date Time (GMT) Estimated Location Event Location
Aug.4, 2004 14:23:08
Joint area of Michigan, Indiana
and Ohio Davis Besse (ECAR)
Aug.6, 2004 12:36:47 Middle north area of Tennessee Cumberland (TVA)
Sep.19,2004 08:55:57
West area of Kentucky, and
near Indiana and Illinois
WATTS BAR
(TVA)
Nov.23, 2004 15:59:53
Joint area of Tennessee,
Georgia and Alabama Browns Ferry (TVA)
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
111
Table 5.4 Generation Comparison between Estimated Amount and Real Tripped Amount
Date Time(GMT) Est. Tripped Gen. Real Tripped Gen Error
Aug.4, 2004 14:23:08 786.6 MW 870 MW 9.58%
Aug.6, 2004 12:36:47 1371.9 MW 1300 MW -5.53%
Sep.19,2004 08:55:57 1178.1 MW 1180 MW 0.153%
Nov.23, 2004 15:59:53 1219 MW 1190 MW -2.45%
From the comparison, the empirical equation of tripped generation estimation has good
accuracy, while the location estimation algorithm still needs to be improved. The error of
tripped generation estimation is due to the accuracy of the coefficient of the empirical
equation, and this coefficient is derived from the cases from WECC system. Now with
the known cases from EUS system, the coefficient can be modified and improved and the
accuracy of generation estimation can be better. The location estimation is based on the
solution of n-dimension nonlinear differential equation, and the accuracy is affected by
the speed of frequency propagation and the topology of transmission system. There is
much room for enhancing the accuracy of location estimation.
5.5.6 PSS/E Simulation of EUS Cases
With the information of FNET, the post-disturbance scenario of the events in EUS
System can be reconstructed with dynamic simulation software. The result of simulation
can be used to compare with the analysis of real records of FNET. In order to simulate
the events in PSS/E, the relative bus nodes of the generators where the event occurred
should be picked up in raw data file (Table 5.5). In addition, the buses that represent FDR
units should be listed in the raw data file (Table 5.6).
Table 5.5 Bus node Information of generator in events in PSS/E data
Event occurred date 08/04/2004 09/19/2004
Relative Bus Number 21630 4197
Bus name 02DAV-BE N1WBN
Bus location Davis Watts Bar Nuclear, TN
Table 5.6 Bus Node Information of FDR Units in PSS/E data
FDR name Bus Num Bus Volt(kV) Bus Name Bus Loc
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
112
NY 78980 230 ROTRDM.2 Rotter Dam, NY
UMR 96041 345 7FRANKS Franks,MO
ARI 14053 230 6JEFF ST Jefferson ST.,VA
VT 22567 345 05M FUNK Matt Funk, VA
ABB 11107 500 8PL GRDN Pleasant Garden,NC
MISS 35 500 8W POINT West Point, MS
UFL 44102 230 PKRD Parker Road, FL
Calvin 28197 345 18ARGENT Argenta, MI
In the simulation, the scenario is created following the real system events. The generator
is tripped to apply a fault in the system, and the frequency response at the selected FDR
buses are recorded to be plotted for analysis. Figure 5.36 is the frequency plot of the FDR
buses of UMR, ARI, VT, ABB, MISS, and UFL in Aug. 4, 2005 generator tripped event.
Figure 5.36 Frequency Response on Aug. 4 Event in PSS/E simulation
For the Aug. 4 event, the frequency response in FDR records and PSS/E simulation can
be listed in the TableTABLE 5.7 to compare. The frequency response sequences of these
two scenarios are almost the same except the FDR at UMR. The first swing of the
frequency response of each observed bus is listed in the TableTABLE 5.8.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
113
Table 5.7 Frequency response Comparison between Real Record and PSS/E Simulation
in Aug.4 event
FDR records PSS/E results
Unit Drop T DiffT Unit Drop T DiffT
VT 2.7 VT .35102
UMR 3.2 0.5 ARI .48303 .13021
ABB 3.3 0.1 ABB .67121 .18818
ARI 3.8 0.5 UMR .87625 .20504
MISS 4.5 0.7 MISS 1.0757 .19945
UFL 4.5 0 UFL 1.4183 0.3426
Table 5.8 Bottom Freq Value of First Swing in Simulation Result in Aug. 4 event
Unit Time Freq Delta T Delta F df/dt
VT 1.0616 59.978 0.71058 -0.017 -0.02392
ARI 1.1932 59.977 0.71017 -0.018 -0.02535
ABB 1.5727 59.979 0.90149 -0.016 -0.01775
UMR 1.6987 59.979 0.82245 -0.016 -0.01945
MISS 2.1071 59.977 1.0314 -0.018 -0.01745
UFL 2.6495 59.976 1.2312 -0.019 -0.01543
Figure 5.37 is the frequency plot of the FDR buses of NY, UMR, ARI, VT, ABB and
MISS in Sep. 19 generator tripped event.
Figure 5.37 Frequency Response on Sep. 19 Event in PSS/E simulation
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
114
For the Sep. 19 event, the frequency response in FDR records and PSS/E simulation can
be listed in the Table 5.9 to compare. The frequency response sequences of these two
scenarios are almost the same except the FDR at UMR. The first swing of the frequency
response of each observed bus is listed in
TABLE 5.10.
Table 5.9 Frequency response Comparison between Real Record and PSS/E Simulation
in Sep. 19 event
FDR records PSS/E results
Unit DropT DiffT Unit DropT DiffT
UMR 2.6 MISS .17799
VT 2.8 0.2 VT .36337 .18538
MISS 3.4 0.6 ABB .42516 .06179
ABB 3.6 0.2 UMR .501 .07584
ARI 3.7 0.1 ARI .73412 .23312
Calvin 3.9 0.2 Calvin .83243 .09831
NY 4.4 0.5 NY 1.4869 .65447
Table 5.10 Bottom Freq Value of First Swing in Simulation Result in Sep. 19 event
Unit Time Freq Delta T Delta F df/dt
MISS .67315 59.978 0.49516 -0.017 -0.03433
VT 1.4156 59.986 1.05223 -0.009 -0.00855
ABB 1.1592 59.982 0.73404 -0.013 -0.01771
UMR 1.0684 59.984 0.5674 -0.011 -0.01939
ARI 1.5812 59.986 0.84708 -0.009 -0.01062
Calvin 1.6613 59.985 0.82887 -0.01 -0.01206
NY 2.6922 59.981 1.2053 -0.014 -0.01162
With PSS/E simulation results, the triangulation of event location can be modified, the
new locations of event shown in Figure 5.38 and Figure 5.39.
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
115
Figure 5.38 PSS/E result estimated event location of Aug. 4 event
Figure 5.39 PSS/E result estimated event location of Sep. 19 event
Chapter 5 Disturbance Analysis Based on the Frequency Information from FNET
116
5.6 Summary
In this chapter, the frequency disturbance analysis is addressed, and the frequency trigger
is designed to detect the significant frequency fluctuation in each interconnection. The
location of the disturbance can be estimated by the pattern of frequency drop delay with
the triangulation technique and TDOA method, the algorithm is designed to analyze the
known cases, and the result shows the estimation is relatively good enough. The further
estimation is introduced to get location that is more detailed. Using the empirical
equations, changed generation in the disturbance can be estimated with good accuracy.
Some example cases are provided to show how to use FNET to monitor and analyze
power system disturbance.
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
117
Chapter 6 Under Frequency Load Shedding
Based on Wide Area Information
6.1 Introduction
In power system, it is well known that large severe disturbances such as generator
tripping or load outages can initiate cascading outages, system separation into islands,
and even the complete breakup. Under frequency load shedding takes place during the
beginning phase of a dynamic change of the system frequency initiated by these
disturbances [73].
Under frequency load shedding is a common practice for electric power utilities in order
to prevent frequency drop in power systems after disturbances causing dangerous
imbalance between the load and generation [74]. A sudden loss of generation causes
frequency to fall as the residual generating capacity no longer matches the connected
system load. If a considerable amount of generation were lost, the only effective way of
correcting the imbalance would be quickly shed loads before frequency falls so low that
the power system collapse. Utilities would only resort to load shedding as a final measure
and this action has the advantage of disconnecting selected loads for a relatively short
period, rather than interrupting all consumers for extended periods. The required
approach for load shedding can best be explained by examining the reduction of
frequency on loss of generation on the power system, for about two seconds, the period
when there is no response to the action of turbo-governor controls, the frequency falls at a
fast rate and reaches a minimum level. Subsequently, as turbine outputs respond to
governor controls, there is a recovery of frequency to a steady, but reduced level. In
addition, effective load shedding scheme must make provision for both minimum and the
residual frequency [75].
The traditional load shedding relays shed load in several steps with the preset tripping
frequency and pre-designated feeders derived from assumed system conditions and load
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
118
distributions, this kind of preset setting point and some other parameters will be given to
the relays. When the frequency of the relay reduces to the setting point, the relay acts to
shedding the preset proportion of the load connects to it. If the frequency still goes down,
it will go to the second step and so on. Some relays are set in 4 steps or 6 steps. In this
means, load shedding relays can reduce power mismatches in systems deficient in
generation gradually and make the system frequency recovery to normal level. However,
the problem is that all these setting points are preselected and based on simulation result
and operators’ experience; they cannot meet the requirement of all kinds of disturbance.
The traditional scheme is a one-size-fits-all compromise of different operation scenarios.
Nowadays the existing plans are predominantly deterministic, not taking into account the
actual system state and topology, operating time point and the nature and the magnitude
of the disturbance. Therefore, it will inevitably result in either over or under shed as it
cannot adapt to the continuous changes in system conditions [76].
The other major drawbacks of conventional solutions are that local protection devices are
not considering a system view and are therefore not able to take optimized and
coordinated actions. Even in the case of under-frequency controlled load or generation
shedding, the frequency itself is system information, but the actions are locally taken on
predefined design rules. A system view would come into account for example if the set
values for the shedding devices were updated according to the actual system status.
There is a need to make the UFLS system to be most effective, this need the location and
magnitude of all generation and loads. In an under frequency emergency, both generation
and load profiles are constantly changing yet under frequency relays have only a single
set point for all scenarios. A need exists to develop an adaptive UFLS system that can
customize under frequency relay set points dynamically in response to any system
condition.
This task can be achieved in stages. First, new knowledge from FNET historical
measurement records can help better understand overall system frequency patterns and
improve load-frequency modeling accuracy, which will help validate simulation results
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
119
that are used to design control strategies and load shedding schemes. Later, with better
communication capability, advanced load-shedding schemes can be used to shed load
based on estimated generation imbalance and trip location using real-time FNET data.
Global intelligent control strategies will replace local under frequency relay actions that
are made without the knowledge of the system overall behavior.
Since frequency disturbances propagate as electromechanical waves, rather than
passively waiting for local under-frequency relays to shed load in steps, with FNET
information, pro-active approach and overall coordination should be possible to achieve
faster system recovery.
6.2 Design the Adaptive UFLS Scheme Based on FNET
Since frequency disturbances propagate as electromechanical waves, rather than
passively waiting for local under-frequency relays to shed load in steps, with FNET
information, pro-active approach and overall coordination should be possible to achieve
faster system recovery. Here, FNET may help identify the location of the disturbance and
predict the amount of the generation-load unbalance at a very early stage.
When there is a disturbance occurs in the power grid, the agents (FDR) can catch the
information and send to the control center, and at the same time suppose the relays know
the frequencies of all other relays, and receive the relative setting configuration
information according to this disturbance, so that the relays can respond to this particular
case. In this means, UFLS system can dynamically customize load-shedding relays
setting points in response to any system condition. With this information of all over the
power grid, the load shedding relays can be set for different cases to meet the demand of
different system faults. This means that each of these digital relays has its own thread of
local control, and they can also perceive a more global scope of the system and act in
response to their non-local environment by communicating with other relays via LANs or
WANs.
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
120
Here, FNET could help identify the location of the disturbance and predict the amount of
the generation-load unbalance at a very early stage. Several major considerations in
designing an advanced wide area UFLS scheme are given below:
• Estimate disturbance magnitude and the required amount of load to be shed
• Estimate of the location of disturbance
• Determine the distribution of the loads to be shed
• Select optimum shedding times
Before the designation, there are some assumptions need to be declared first:
• The system inertia constant and structure are assumed to be known
• Each local relay is assumed to know the frequency of the whole system
• The relay’s parameters can be modified dynamically
• The system structure is assumed to be known
6.2.1 Amount of Unbalanced Power
The main results from the UFLS point of view, given in [77] in the closed form, are:
1. The initial rate of frequency change df dt is proportional to the power imbalance
Δp , and it also depends on the electric power system inertia
2. The values of the minimum frequency min f and the new steady-state frequency
ss f reached during the following transient process are proportional to the power
imbalance Δp and depend on the dynamic properties of turbines, governors, loads
and other control devices.
From the above result, we can write [78]:
i
di
i
i mi ei
M
P
M
P P
dt
d Δ
=
Δ − Δ
=
ϖ
here, M = 2H
Σ=
=
N
i
msystem mi P P
1
, Σ=
=
N
i
esystem ei P P
1
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
121
d msystem esystem system H
dt
P P P dϖ
Δ = − = 2
From the above analysis, conclusion can be drawn that the real-time frequency and the
rate of change of frequency df dt of the whole system are the most important parameters
in calculation or estimation of the imbalance between load and generation. So there are
many frequency estimation or predict algorithm to get these two parameters. Now, with
the help of wide-area measurement (PMU and FDR), the frequency and the rate of
change of frequency can be easily measured and provided for this application, which
means the rate can be calculated using the initial samples after the disturbance of the
generators’ electrical angular velocities at intervals of a constant time interval, and the
system H is the sum of all generators’ inertia constants. So the amount of imbalance active
power Δp can be calculated in the central server of FNET. Actually, in section 5.4, the
tripped generation in disturbance is discussed and the estimation method of the empirical
equation is given. So this parameter can be calculated thru that way.
The time constants describing the frequency changes and electromechanical transient
processes occurring in huge interconnected power system are comparatively big (0.1~5
seconds), so the speed of data transmission through the system to the control center
server is not very critical. From the practical application point of view, additional time
delays caused by the computation required for the control action derivation and its
distribution and transmission to loads, as well as delay caused by circuit breaker action,
should be less than the intentional time delay of UFLS (e.g. 0.3 s).
6.2.2 Location of Disturbance
There is few paper mentioned this problem, because it is always included in the problem
of where to shed the load? Reference [74] tries to use the voltage reduction and the
elasticity factor of ties to find out in which area the power lost. The present evolution of
interconnected power systems has ties between utilities that are small in relation to each
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
122
utility’s load and generation capacity. The consequent elasticity of the ties has introduced
a new factor, that there will be a different rate of initial frequency reduction in adjoining
utilities following the loss of generation. This can be seen by the reduction of frequency,
after there has been a loss of generation in one area of a two-area network similar. In the
area where the generators have been lost, frequency falls immediately. By contrast, in the
undisturbed area, the frequency reduction is delayed. With conventional ULFS, loads
would be shed in both areas with a delay of some 1.5 seconds before any load shedding
could occur in the undisturbed area. Consequently, the mismatch between load and
generation would persist for longer than may have been envisaged, so compounding the
severity of the disturbance. The frequency response, shown in Figure 6.1 shows the
advantages of concentrating load shedding in the area where generation had been lost.
This is the particular feature, which differentiates the proposed new scheme from existing
UFLS.
Figure 6.1 Frequency response of generator without governor action
From the figure above, it is very clear that the initial rate of frequencies decline is
different between the generators and the generators that are near the disturbance area will
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
123
drop much faster than those generators faraway from the disturbance. This future also
depends on the inertia constant of the generator. The larger the inertia constant is, the
slower the frequency drops. Because the information of the initial rate of each generator
can be obtained based on wide area measurement, the location of disturbance can be
easily find out in the system for the following design step of UFLS scheme.
6.2.3 Distribution of the Power between Possible Load Bus
This session try to discuss the distribution of control action throughout the power system.
The traditional under-frequency load shedding only use setting point or setting rate, when
the frequency or the rate of change of frequency reach the setting value, the relay reacts.
As a result of frequency decline propagation, the relay near the bus of lost generation will
first react to shed some load; while the relay far away from the bus can only delay the
shedding action when the frequency decline propagate to this relay. This method is useful
for the isolated power system, because the isolated power system is not large enough to
cause the difference of frequency decline propagation. The isolated system is always very
coherent in frequency, so the frequency at each relay is similar to each other. Thus the
setting point can determine where to shed load first and where later.
The first original feature of the proposal is the concentration of load shedding to just the
area surrounding the lost generators. The area can be identified within cycles of the
generation loss (with no need for computer evaluations) by the initial voltage reductions
at substations within the area. Although the voltage dips would only last a short time, the
minimum voltage levels would be recorded. The allocation of load shedding at each of
the identified substations would be in proportion to the voltage reduction so that the
amount of load to be shed at substation (node) i, ( Δp ), can be evaluated as [74]:
( ) N G
j
j j j
i i i
i P
V Q V
P V Q V ⋅ Δ
Δ ⋅ ∂ ∂
Δ ⋅ ∂ ∂
Δ =
Σ =
1
/
/
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
124
Where ΔVi is voltage reduction at node i, i i ∂Q / ∂V is the sensitivity of voltage at node i
to change of reactive power, N is the total number of load nodes with significant voltage
reduction and Σ LS P is given by equation.
Nowadays, the large-scale interconnected power system is becoming more and more
related to each other. The tie lines can transmit more power than before, thus the system
can be divided into several power sending areas (generation center) and power receiving
areas (load center). When the loss of generation occurs in power sending areas, it is not
clear that whether shed the load in which area can be more efficient for system frequency
recovery and system stability. This problem is just because load shedding does not
account for shortly active power flow in the system. For example, we can consider areas
with export and import of energy. When power deficiency occurs, load shedding is
demanded in the area that imports energy, but if it occurs in the area that exports energy,
import increases, which can aggravate overloading of the interconnections and cause
further cascading. Cascading can cause separation of the import area from the rest of the
system. The import area can experience frequency and voltage collapse if there is no help
from the rest of the system. The traditional under-frequency load shedding scheme is
designed about 50 years ago. Although there are many adaptive schemes to make it more
efficient, it still has limitation when it is used in multi-area large interconnected power
system nowadays
Therefore, here a new method is brought out to solve this problem, the amount of load to
be shed at substation (node) j, j Δp , can be evaluated as
m L
j
j Lj
j Lj
j P
f p
f p
p ×Δ
Δ ×
Δ ×
Δ =
Σ =
1
here, L ΔP is the total required amount of load needed to be shed, j Δp is the amount of
shedding load at each load bus, Lj p is the amount of original power of each load bus. So
if a bus with heavy load and a large frequency deviation, it will cover a large part of
shedding load amount.
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
125
6.2.4 Optimal Shedding Time Selection
This session try to discuss the exact shedding action time of relay. The shedding time is
very critical in load shedding. If the shedding time is not match the demand of the system,
the frequency cannot be recovered to normal frequency, sometimes over shedding or
under shedding. The traditional relay can only be set at a frequency point or rate of
change of frequency point, when the relative parameter reaches the setting point, the
relay will react and shed the setting proportion load.
When a disturbance of frequency occurs in the system, some heavy load located at the
node far away from the disturbance node, so the frequency decline propagation can not
reach these loads relay in time, and some small load near the disturbance node may be
shed first, but the frequency can not recovered, and the heavy load will finally be shed.
This will cause over shedding problem. When the relays get the system status information
from wide-area measurement system, the shedding time can be arranged more efficiently.
In the aspect of whole system, when the control center find there is a disturbance in the
system, the frequency setting point of load center can be set at a higher value so that these
loads can be shed at a more early time.
The typical operating time with solid-state relays is in the range of 0.1 to 0.2 second, so
the load shedding relays can get dynamically information form the system, and get the
optimize setting frequency level and delay time, and it’s enough for relays to act to cut
the related load out of the system.
6.3 Scenario Analysis of New England 39-bus System
The simulation analysis makes use of New England 39-bus 10-gennerator system, shown
in Figure 6.2, with some modification. The first system modification made was to
enhance some transmission lines’ impedance to separate the system into a 3-area system
because the original system is a coherent system and all generators are in one cluster in
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
126
instability status. Then the shunt of the system was modified to a normal level, so that the
power flow in the system is almost just between the generators and loads.
Figure 6.2 New England 39-bus power system
6.3.1 Simulation System Structure
In order to separate the system into three areas, four transmission lines’ parameters need
to be changed as 10 times the original value. These four lines are:
• 1~39 ×10
• 3~4 ×10
• 15~16 ×10
• 16~17 ×10
From the frequency curve, the generator 33/34/35/36 is in a group, 30/37/38 is in a group,
31/32 is in a group, 39 runs independently. So we can get a 3-area system shown in the
following Figure 6.3. The generators of 30, 37 and 38 are in Area-I, 31, 32, 39 are in
Area-II, the other 4 generators are in Area-III.
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
127
Figure 6.3 New England 39-bus power system in 3-area
Here the tables list the parameters of generators, loads and the power flow between
the three areas after changing the impedance of transmission line.
Table 6.1 Generator Active and Reactive Power Generation
Generator P(MW) Q(Mvar)
G30 250 175.8
G31 541.7 189.2
G32 650 182.1
G33 632 57
G34 508 142.8
G35 650 241.1
G36 560 203
G37 540 20.8
G38 830 49.5
G39 1000 149.4
Table 6.2 Load Information in Simulation
Bus P(MW) Q(Mvar)
3 322 2.4
4 500 184
7 233.8 84
8 522 176
12 7.5 88
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
128
15 320 153
16 329 32.3
18 158 30
20 628 103
21 274 115
23 247.5 84.6
24 308.6 -92.2
25 224 47.2
26 139 17
27 281 75.5
28 206 27.6
29 283.5 26.9
31 9.2 4.6
39 1104 250
Table 6.3 Three Areas Power Flow Information
Area GP(MW) GQ(MVAR) LP(MW) LQ(MVAR)
1 30/37/38
3/18/25/26/27/28/29
1620 246.1 1613.5 226.6
2 31/32/39
4/7/8/12/15/31/39
2191.7 520.7 2696.5 939.6
3 33/34/35/36
16/20/21/23/24
2350 643.9 1787.1 242.7
Total 6161.7 1410.7 6097.1 1408.9
Table 6.4 Power Flow of the four tie lines
Branch P (MW) Q (MVAR)
1->39(I->II) 99.8 -18.4
3->4(I->II) 113.3 177.5
16->15(III->II) 317.3 169.1
16->17(III->I) 227.6 -47.5
The simulation is running in PSS/E, with the network structure in raw file and dynamic
parameters in .dyr file. The simulation used the modified 3-area system, and run different
scenario to get the frequency response when there is no UFLS scheme, traditional UFLS
scheme, adaptive dynamically UFLS scheme.
The disturbance is create by tripping each generator, then the program will give the
response of frequency at each bus, at this time feed these frequencies into the algorithm
of calculation and get the result of total shedding load amount, the amount at each load
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
129
bus. With this information, the setting frequency and proportion can be get and feed into
the PSS/E program. Thus, the system can get the frequency response of each case.
6.3.2 Analysis of the Bus33 Generator Trip Case
This is an example of these simulation cases. In this case, the fault is to trip the Generator
33 at time of 1 second. First, the simulation is running without any UFLS scheme, and
the response of frequencies shown in Figure 6.4.
Figure 6.4 Frequency response of Gen 30, 31, 33, 35, 38, 39
Then employ the traditional UFLS scheme into the simulation. The UFLS relay set as:
3,18,23,24,25,26,29,
'LDSHBL',1, 59.7, 0.1, 0.1, 59.7, 0.1, 0.159, 59.6, 0.1, 0.165, 0.1/
4,7,8,12,15,16,20,21,27,28,31,39,
'LDSHBL',1, 59.8, 0.1, 0.1, 59.7, 0.1, 0.159, 59.6, 0.1, 0.165, 0.1/
Repeat the simulation, and get the response shown in Figure 6.5
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
130
Figure 6.5 Frequency response of Gen 30, 31, 33, 35, 38, 39
In traditional UFLS scheme, the total amount of shedding load is 351.22MW, and this
cause over-shedding and the system frequency increase above 60Hz. Now, employ the
adaptive UFLS scheme in the simulation. The relays should be set as:
3 , 4, 7, 8, 12, 20, 25, 26, 27, 28, 29, 31, 39
'LDSHBL',1, 59.7, 0.1, 0.1, 59.6, 0.1, 0.15, 59.5, 0.1, 0.16, 0.1/
15, 16, 18
'LDSHBL',1, 59.8, 0.1, 0.1, 59.7, 0.1, 0.15, 59.5, 0.1, 0.16, 0.1/
21, 23, 24
'LDSHBL',1, 59.8, 0.1, 0.15, 59.7, 0.1, 0.15, 59.5, 0.1, 0.16, 0.1/
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
131
Figure 6.6 Adaptive UFLS scheme, frequency response of Gen 30, 31, 33, 35, 38, 39
Table 6.5 Shedding Load Information in Case of Drop33
Trip Gen Shed Location Shed Load
Bus
Shed Time
Start at 1 s P(MW) Q(MVAR)
Shed Freq
(Hz)
16 1.350 32.9 3.23 59.72
20 1.350 62.8 10.3 59.75
24 1.350 46.29 -13.83 59.71
21 1.358 41.1 17.25 59.69
23 1.358 37.12 12.69 59.66
23 1.442 37.12 12.69 59.75
33
(632MW)
21 1.458 41.1 17.25 59.80
Total 298.43 59.58
Table 6.6 Generator Information at Steady Status after Disturbance
Generator P(MW) Q(Mvar)
G30 271.1 250 103.3
G31 541.3 541.7 307.7
G32 675.7 650 281.6
G33 0 632 0
G34 592.5 508 127.7
G35 676.9 650 211.4
G36 636 560 194
G37 562.3 540 -21.5
G38 902.6 830 42.4
G39 1001.8 1000 284.4
Total 5860.2 6161.7 1531
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
132
Diff 5860.2-(6161.7-632)
= 330.5(Gov)
This time, only 298.43MW load was shed, and the other generators output increase
330.5MW of active power and so the system frequency goes back at 60Hz. This two
actions work together to make up the lost generation of G33, which is 632MW.
6.3.3 Analysis of the Bus33 Generator Trip Case
The Generator33 is in Area-III, so this time we will trip generator in Area-II. The
traditional UFLS scheme is the same as Drop33 case, and the frequency response of no-
UFLS and T_UFLS are shown below.
Figure 6.7 Frequency response of Gen 30, 31, 33, 35, 38, 39; Drop Gen38
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
133
Figure 6.8 T_UFLS scheme, frequency response of Gen 30, 31, 33, 35, 38, 39
In traditional UFLS scheme, the total amount of shedding load is 807.23MW, and this
cause over-shedding and the system frequency increase above 60Hz. This time the
adaptive UFLS scheme has different setting with Drop33 case, the new setting of relays
is:
3, 16, 18, 20, 21, 4, 7, 8, 12, 15, 23, 24, 31, 39
'LDSHBL', 1, 59.7, 0.1, 0.1, 59.6, 0.1, 0.15, 59.5, 0.1, 0.15, 0.1/
25, 26, 27, 28, 29
'LDSHBL', 1, 59.6, 0.1, 0.1, 59.5, 0.1, 0.20, 59.4, 0.1, 0.20, 0.1/
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
134
Figure 6.9 Adaptive UFLS scheme, frequency response of Gen 30, 31, 33, 35, 38, 39
Table 6.7 Shedding Load Information in Case of Drop38
Trip Gen Shed Location Shed Load
Bus
Shed Time
Start at 1 s P(MW) Q(MVAR)
Shed Freq
(Hz)
3 1.3 32.2 0.24 59.53
18 1.308 15.80 3.00 59.54
25 1.325 22.40 4.72 59.53
3 1.333 48.30 0.36 59.58
26 1.333 13.90 1.70 59.55
27 1.333 28.10 7.55 59.56
28 1.333 20.60 2.76 59.52
29 1.333 28.35 2.69 59.52
18 1.342 23.70 4.50 59.60
25 1. 358 44.80 9.44 59.63
28 1.367 41.20 5.52 59.64
29 1.367 56.70 5.38 59.64
26 1.375 27.80 3.40 59.69
38
(830MW)
27 1.383 56.20 15.10 59.73
Total 460.05 66.36
Table 6.8 Generator Information at Steady Status after Disturbance
Generator P(MW) Q(Mvar)
G30 302.0 250 58.9
G31 542.7 541.7 259.9
G32 685.8 650 362.0
G33 706.1 632 106
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
135
G34 578.9 508 164.9
G35 686.6 650 292.9
G36 630.5 560 238.5
G37 576.4 540 -22.2
G38 0 830 0
G39 1005.3 1000 304.1
Total 5714.3 6161.7 1765
Diff 5714.3-(6161.7-830)=
5714.3-5331.7=382.6(Gov)
This time, only 460.05MW load was shed, and the other generators output increase
382.6MW of active power and so the system frequency goes back at 60Hz. This two
actions work together to make up the lost generation of G38, which is 830MW.
6.3.4 Summary of One Generator Trip Cases
Using the method of tripping G33, all other cases can be run in the same way and the
summary of the shedding load is list in the following table:
Table 6.9 Comparison of two UFLS Schemes
Generator P (MW) Q (Mvar) T_UFLS(P) A_UFLS(P)
G30 250 175.8 N N 162.8 28.63
G31 541.7 189.2 441.45 129.3 191.23 71.73
G32 650 182.1 422.31 127.27 505.98 219
G33 632 57 351.22 84.36 298.43 59.58
G34 508 142.8 123.1 25.03 245.26 54.47
G35 650 241.1 307.65 66.08 257.33 42.33
G36 560 203 243.55 44.17 243.55 44.17
G37 540 20.8 172.4 35.34 172.4 35.34
G38 830 49.5 807.23 121.11 460.05 66.36
Total 6161.7
In the table, the T_UFLS means when use the traditional UFLS scheme, the shedding
load amount according to tripping each generator, and A_UFLS is the adaptive UFLS
scheme.
From the table, the conclusion can be drawn that adaptive UFLS schemes can meet many
kinds of disturbance, whether the deficient generation located in which area. The
traditional UFLS schemes can deal with some cases such as Drop36 and Drop37, but it is
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
136
not adaptive enough to deal with other cases. The shedding load amount is only a
proportion of the disturbance amount because of the governor action. Moreover, the
amount is about 50% of the tripped generation, so in this simulation system, when there
is a disturbance occurs, only half part of disturbance amount need to be shed to make the
system recover to a stable status.
6.3.5 Analysis of Two Generators Trip Case
In real power system, the under frequency load shedding relays’ first step frequency is
always set at 59.5, because when the frequency does not decline below 59.5, the
disturbance will not be considered as a really severe accident. Only when the frequency
decline reaches the level that could lead to tripping of steam turbine generating units by
under frequency protective relays, in order to prevent extended operation of separated
areas at lower than normal frequency, load shedding schemes are employed to reduce the
connected load to a level that can be safely supplied by available generation.
In order to simulate this situation, more generators need to be tripped at starting point to
create a case that the system frequency can decline below the setting level. This time,
generator 33 and 35 will be tripped to create such a disturbance that will make the system
frequency decline to the level that can trigger the action of UFLS relays in real system.
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
137
Figure 6.10 Drop33&35, without UFLS scheme, the frequency response
The simulation step is in this way:
Run the steady case for 1 second and trip G33&35 at the end of 1 second
Run for 0.2 second, and calculate the shedding amount with the equation from the
information of frequency and the other parameters.
Table 6.10 Frequency information at each bus at 0.2 second
Gen Freq Bus Freq
30 59.754 14 59.781
31 59.858 4 59.801
32 59.843 12 59.815
33(632) 59.221 5 59.831
34(508) 59.090 7 59.842
35(650) 59.250 8 59.847
36(560) 59.145 20 59.163
37 59.770 19 59.219
38 59.862 23 59.233
39 59.991 22 59.249
21 59.275
24 59.289
1 59.782
Employ the adaptive UFLS scheme, and set the relays’ setting as following
3, 4, 7, 8, 12, 15, 18, 31, 39,
'LDSHBL',1, 59.5, 0.1, 0.15, 59.4, 0.1, 0.159, 59.2, 0.1, 0.165, 0.1/
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
138
16, 24, 'LDSHBL',1, 59.4, 0.1, 0.20, 59.2, 0.1, 0.159, 59.1, 0.1, 0.165, 0.1/
21, 23, 25, 26, 27, 28, 29
'LDSHBL',1, 59.4, 0.1, 0.15, 59.2, 0.1, 0.159, 59.1, 0.1, 0.165, 0.1/
And get the frequency response is shown in the following Figure
Figure 6.11 Adaptive UFLS scheme, frequency response of G30, 31, 33, 35, 38, 39
Table 6.11 Shedding Load Information in Case of Drop33&35
Trip Gen Shed Location Shed Load
Bus
Shed Time
Start at 1 s P(MW) Q(MVAR)
Shed Freq
(Hz)
20 1.333 219.8 36.05 59.16
23 1.350 37.12 12.69 59.22
21 1.358 41.1 17.25 59.26
16 1.367 65.8 6.46 59.30
24 1.367 61.72 -18.44 59.29
20 1.392 99.85 16.38 59.4
33+35
(632+650)
23 1.417 39.35 13.45 59.49
Total 564.74 83.84
Table 6.12 Generator Information at Steady Status after Disturbance
Generator P(MW) Q(Mvar)
G30 298.8 250 58.9
G31 543.4 541.7 259.9
G32 708.0 650 362.0
G33 0 632 106
G34 715.1 508 164.9
G35 0 650 292.9
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
139
G36 747.5 560 238.5
G37 589.5 540 -22.2
G38 999.5 830 0
G39 997.4 1000 304.1
Total 5599.2 6161.7 1765
Diff 5599.2-(6161.7-632-650)=
5599.2-4879.7=719.5(Gov)
564.74MWload was shed, and the other generators output increase 719.5MW of active
power and so the system frequency goes back at 60Hz. This two actions work together to
make up the lost generation of G33&35, which is (632+650) MW,
+ = 564.74 + 719.5 = 1284.24 shed Gov P P = 632 + 650 = 1282 Lost P so we get :
shed Gov Lost P + P ≈ P
.
6.4 Scenario Analysis of UFLS in EUS System
Figure 6.12 shows the coverage area of the system model with some identified 345 kV
and higher voltage lines/buses in EUS.
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
140
Figure 6.12 EUS transmission system of 345 kV and higher voltage levels
The system is a comprehensive and detailed model, which contains the voltage level from
765 kV down to the distribution levels. There are more FDR units in the EUS system
than that in WECC system, while the capacity of the EUS system is much larger than
WECC system. In this means, when the same amount of generation is tripped in the two
systems, the response of WECC is more distinct than that in the EUS system. The FNET
system is sensitive enough to catch the small frequency drop. With frequency information
from FDR units in the EUS system, if an unexpected event occurs, the location of this
event can be estimated by triangulation analysis and the amount of generation change can
be estimated. The FNET system started running from this summer, during this period
there are four significant generator tripped events in EUS as we know. These four events
are listed in the following table with date and detailed time.
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
141
Simulation Steps
• Trip the generator at bus 21630 at 0.5 sec
• Apply UFLS model at bus 21630, 28881, 28696, 28855
• Observe frequency at bus 21630, 78980(NY), 96041(UMR), 14053(ARI),
22567(VT), 28197(Calvin)
Figure 6.13 the frequency response without load shedding scheme
Chapter 6 Under Frequency Load Shedding Based on Wide Area Information
142
Figure 6.14 Frequency response with adaptive UFLS scheme
• Total Shed Load: 2587.52MW
– Bus21630, 244.58MW+71.4MVAR
– Bus28881, 707.14MW+306.18MVAR
– Bus28696, 769.95MW+210.53MVAR
– Bus28855, 865.85MW+211.43MVAR
• Tripped Generation
– Bus21630, 2550.9MW+40.8MVAR
6.5 Summary
A new adaptive under frequency load shedding scheme based on wide area measurement
is presented in this report. Through the computer simulations of the 3-area multi-machine
power system, the sensitivity of the power system frequency response to the disturbance
location is investigated in detail. In order to design an adaptive scheme, the problem of
disturbance location, distribution of shedding load, and shedding time need be included.
The simulation results show that this scheme is quite efficient in these cases.
Chapter 7 Conclusion and Future Research
143
Chapter 7 Conclusion and Future Research
7.1 Conclusions
The massive power outages of 2003 summer and some large scale events happened in
recent years disclose that power systems are far from what they suppose to be, and reveal
the vulnerability of the over stressed power grids. Post-event analysis and reports show
that an important reason of these events is a lack in awareness of the power system status
information and so real-time monitoring of this critical infrastructure becomes an urgent
agenda in order to ensure a healthy economy.
FNET stands for frequency monitoring network. The system implements WAMS in a
way that the frequencies of the whole US & Canada power grid can be collected and
managed in a central server. Continuous synchronized wide area frequency information
will provide system operators with near real-time system status. This dissertation briefly
describes how to implement the FNET system and uses collected data to demonstrate
how to use FNET to monitor and analyze the power system disturbance. With their
integrated GPS receivers, FDR units can simultaneously measure the local system
frequency in different dispersed locations. FNET provides a common time stamp, which
helps reconstruct major events. The FNET system started operation in November of 2003,
and FDR units have been installed in 15 locations as of July 2005. The FNET system has
made observations of the country's entire power network possible for the first time.
The FDR unit built at Virginia Tech uses the same frequency calculation phasor
algorithm with PMU, and some modifications are added to ensure the FDR can work
with 110 V signal. Comparison result between FDR and PMU is addressed, which
illustrate that FDR can get the required accuracy and has the advantage of low cost, fast
deployment and so on. The comparison shows that the FDR can monitor the frequency of
power system and has the same accuracy compare to PMU
Chapter 7 Conclusion and Future Research
144
FNET provides valuable data for studies of inter-area oscillations, disturbance analysis,
scenario reconstruction, and model verification. With the implementation of the first
phase of FNET system, the raw field-measured frequency is investigated in this chapter.
General system operating frequency is examined and the characteristics of frequency
deviation of the EUS, WECC and ERCOT are given. The propagation of frequency in
distribution system is analyzed and the result shows the 110V outlet frequency can
represent the system frequency. Some statistical analysis of frequency is given and longterm
frequency pattern is investigated. Standard deviation reveals a measure of the
dispersion or variation in a distribution. The daily analysis of frequency shows the
operation pattern of the EUS. In addition to observing transient states of the system, we
can also use the FNET data to observe system’s frequency oscillation and one example
case is provided.
The frequency disturbance analysis is addressed, and the frequency trigger is designed to
detect the significant frequency fluctuation in each interconnection. The location of the
disturbance can be estimated by the pattern of frequency drop delay with the triangulation
technique and TDOA method, the algorithm is designed to analyze the known cases, and
the result shows the estimation is relatively good enough. The further estimation is
introduced to get location that is more detailed. Using the empirical equations, changed
generation in the disturbance can be estimated with good accuracy. Some example cases
are provided to show how to use FNET to monitor and analyze power system disturbance.
With FNET information, especially when combined with existing EMS data, better load
shedding schemes can be developed. An adaptive UFLS is designed and tested with the
simulation in New England 39-bus system and EUS system with PSS/E. This can be
achieved in stages. First, new knowledge from FNET historical measurement records can
help better understand overall system frequency patterns and improve load-frequency
modeling accuracy, which will enhance simulation results that are used to design control
strategies and load shedding schemes. Later, with better communication capability, using
real-time FNET data combined with EMS information, adaptive load-shedding schemes
can be used to shed load based on actual load distribution and power flow constraints.
Chapter 7 Conclusion and Future Research
145
In the future, researchers hope to use the data from the FNET system to forecast incipient
system breakups and recommend remedial actions. The continuous synchronized
information from the FNET system will provide system operators with close to real-time
system status for better grid management. With future high-speed communication, the
real-time wide-area frequency information can be used in many areas to perform control
and protection functions. The FNET system provides power system researchers, operators,
customers, and policy makers an Internet accessible, cost-effective, cross-platform
frequency information monitoring network.
7.2 Contributions
This dissertation work provides the following contributions:
1. Implement the first phase Frequency Monitoring Network
2. Design and develop the IMS server, including server program, database,
communication protocol, web service
3. Modify and revise the code of frequency disturbance recorder
4. Test the FDR and compare with PMU
5. Setup and maintain the FNET server
6. Serve as the computer manage and administrator of Power IT Lab
7. Design and develop the analysis method to process frequency data
8. Design and develop the frequency disturbance analysis tools, including
disturbance detection, location, and generation estimation
9. Discuss in detail several known frequency disturbance cases
10. Design and test the adaptive UFLS scheme
7.3 Future work
There are some areas where future research is necessary to continue this research work.
Chapter 7 Conclusion and Future Research
146
1. Further investigation in the recorded frequency data, this will involve in the tools
and algorithm design to analyze the increasing raw data. The field-measured data
can provide much first hand system information with proper analysis tools.
2. Data integration with EMS and PMU, frequency data from FNET can be a
supplemental information to the regulation department, utility, and researchers
3. routine data handling and processing, design and develop some program to
generate statistic frequency report periodically, this kind of report can be use to
analyze the frequency control pattern
4. disturbance catalog and detection, because current trigger can only detect the
generation tripping event, while there are some other kind of disturbance can be
detected with frequency data, such as transmission line trip, load rejection and so
on
5. improve the accuracy of disturbance location, more algorithm need be
investigated and the geographical information
6. graphical user interface and web access to the raw frequency, more display
method to facilitate the visualization of frequency data,
7. further application of FNET information in power system:
􀂾 Verify system models and parameters used in simulations
􀂾 Perform post-disturbance scenario reconstruction and track the sequence
of events leading to an emergency
􀂾 Understand the fundamental characteristics and mathematics of failure of
complex systems
􀂾 Provide near real-time system status for analyzing the underlying causes
of cascading events and system blackouts
􀂾 FNET frequency as inputs for FACTS/ESS control in inter-area low
frequency oscillation damping
􀂾 ACE accuracy improvement with FNET data
􀂾 Wide area PSS control and coordination using FNET as inputs
􀂾 Distributed Generation (DG) control and coordination using regional
FNET measurements
References
147
References
[1] C.C. Liu, G.T. Heydt, A. G. Phadke et al, “The Strategic Power Infrastructure
Defense (SPID) System, IEEE Control System Magazine, Vol. 20, Issue 4,
August 2000, pp. 40 - 52.
[2] U.S.-Canada Power System Outage Task Force, “Cause of the August 14th
Blackout in United States and Canada”, Nov. 2003.
[3] ABB Transmission & Distribution, “Under Observation”
[4] F. Vandenberghe, “Lessons and Conclusions from the Lessons and Conclusions
from the 28 September 2003 Blackout in Blackout in Italy”, UCTE Investigation
Committee on 28/9/03 Blackout in Italy, IEA workshop, March 29, 2004
[5] “System Adequacy and Security. Disturbance Monitoring,” NERC Planning
Standards. Approved by Board of Trustees, September 1997.
[6] “Coordination of Control of Multiple FACTS/HVDC Links in the Same System”,
Electra. No. 187, December 1999, pp. 133 – 137.
[7] J. Hauer, F. J. Hughes, D. Trudenowski, et la, “A Dynamic Information Manger
for Networked Monitoring of Large Power Systems”, EPRI Report WO 8813-01,
October, 1998.
[8] A. G. Phadke, “Synchronized phasor measurements in power systems”, IEEE
Computer Applications in Power, vol. 6, pp. 10-15, 1993
[9] W. A. Mittelstadt, P. E. Krause, P. N. Overholt, D. J. Sobajic, J. F. Hauer, R. E.
Wilson, and D. T. Rizy , “The DOE Wide Area Measurement System (WAMS)
Project—Demonstration of Dynamic Information Technology for the Future
Power System,” EPRI Conference on the Future of Power Delivery, Washington,
D.C., April 9–11, 1996.
[10] Wide Area Measurements for Real-Time Control and Operation of Large Electric
Power Systems—Evaluation and Demonstration of Technology, Summary Final
Report for the DOE/EPRI Wide Area Measurement Systems Project, draft of May
19, 1997.
[11] http://phasors.pnl.gov/
[12] T. W. Cease and B. Feldhaus, “Real-time monitoring of the TVA power system”,
IEEE Computer Applications in Power, vol. 7, pp. 47-52, 1994.
[13] A. Bykhovsky and J. H. Chow, “Power system disturbance identification from
recorded dynamic data at the Northfield substation,” International Journal of
Electrical Power & Energy Systems, vol. 25, pp. 787-795, 2003.
[14] D. Divan, G. A. Luckjiff, W. E. Brumsickle, J. Freeborg, and A. Bhadkamkar, “A
grid information resource for nationwide real-time power monitoring,” IEEE
Transactions on Industry Applications, vol. 40, pp. 699-705, 2004.
[15] J. F. Hauer, N. B. Bhatt, K. Shah, and S. Kolluri, “Performance of "WAMS East"
in providing dynamic information for the North East Blackout of August 14,
2003,” IEEE Power Engineering Society General Meeting, vol. 2, pp. 1685-1690,
2004.
[16] S. Corsi and C. Sabelli, “General blackout in Italy sunday September 28, 2003, h.
03:28:00,” 2004 IEEE Power Engineering Society General Meeting 2004 IEEE
References
148
Power Engineering Society General Meeting, vol. 2, pp. 1691-1701 (IEEE cat n
04CH37567), 2004.
[17] W. E. Brumsickle, D. M. Divan, G. A. Luckjiff, J. W. Freeborg, and R. L. Hayes,
“Operational Experience with a Nationwide Power Quality and Reliability
Monitoring System,” IEEE Industry Applications Society (IAS) Annual Meeting,
vol. 2, pp. 1063-1067, 2003.
[18] C.-H. Lee and S.-C. Hsieh, “A technical review of the power outage on July 29,
1999 in Taiwan,” in IEEE Power Engineering Society Transmission and
Distribution Conference, pp. 1353-1358, 2001.
[19] L. H. Fink, “Discrete events in power systems,” Discrete Event Dynamic Systems,
vol. 9, pp. 319-330, 1999.
[20] C. W. Taylor and D. C. Erickson, “Recording and analyzing the July 2 cascading
outage,” IEEE Computer Applications in Power, vol. 10, pp. 26-30, 1997.
[21] R. O. Burnett, Jr., M. M. Dutts, T. W. Cease, V. Centeno, G. Michel, R. J.
Murphy, and A. G. Phadke, “Synchronized phasor measurements of a power
system event,” IEEE Transactions on Power Systems, vol. 9, pp. 1643-1649, 1994.
[22] D. L. Brooks, R. C. Dugan, T. E. Grebe, and A. Sundaram, “Disturbances
recorded by power quality monitors during the `West Coast Outage',” in IEEE
Power Engineering Society Transmission and Distribution Conference, pp. 25-30,
1996
[23] W. Fromm, A. Halinka, “Accurate Measurement of Wide-range Power System
Frequency Changes for Generation Protection”, IEE Conference Publication No.
434, 1997, pp 53-57.
[24] NERC Training resource working group, “Understand and calculate frequency
response”, NERC Training Document, Feb. 20, 2003
[25] B. Wollenburg, “Power System Stability and Control”, John Wiley & Sons Inc,
Second Edition, 1996.
[26] N. Jaleeli, D. N. Ewart, L H. Pink, “Understanding Automatic Generation
Control”, IEEE Transactions On Power Systems, Vol. 7, Issue 3, August 1992, pp.
1106 - 1122.
[27] G. A. Chown, R. C. Hartman, “Design and Experience with a Fuzzy Logic
Controller for Automatic Generation Control (AGC)”, IEEE Transactions on
Power Systems, Vol. 13, Issue 3, August 1998, pp. 965 - 970.
[28] Y. H Moon, H. S. Ryu, J. K. Park, “A New Paradigm of Automatic Generation
Control under the Deregulated Environments”, IEEE Power Engineering Society
Winter Meeting, Vol. 1, 2000, pp. 21 - 25.
[29] C.D. Vournas, E. B. Dialynas, H. Hatziargyrious, “A Flexible AGC Algorithm for
the Hellenic Interconnected System”, IEEE Transactions on Power Systems, Vol.
4, Issue 1, February 1989, pp. 61 - 68.
[30] A. Adly, G. William, L. Peterson, “Adaptive Estimation of Power System
Frequency Deviation and Its Rate of Change for Calculation Sudden Power
System Overload”, IEEE Trans. on power delivery, Vol. 5, No. 2, April, 1990, pp
585-590.
[31] H. Karimi, etc., “Estimation of frequency and its rate of change for applications in
power systems”, IEEE Trans. on power delivery, Vol. 19, No. 2, April, 2004, pp
472-480
References
149
[32] W. Fromm, A. Halinka, “Accurate Measurement of Wide-range Power System
Frequency Changes for Generation Protection”, IEE Conference Publication No.
434, 1997, pp53-57.
[33] M. Adamiak, W. Premerlani, “The Role of Utility Communications in a
Deregulated Environment”, Proceedings of the Hawaii’s International Conference
on System Sciences, Maui, Hawaii, January 1999, pp. 1 - 8.
[34] B. Qiu, L. Chen, V.A. Centeno, X. Dong, Y. Liu, “Internet Based Frequency
Monitoring Network (FNET)”, IEEE Power Engineering Society Winter Meeting,
28 Jan.-1 Feb. 2001,Vol. 3, pp 1166 - 1171
[35] Y.J. Shin, A.C. Parsons, E.J. Powers, W.M. Grady, “Time-frequency Analysis of
Power System Disturbance Signals for Power Quality”, IEEE Power Engineering
Society Summer Meeting, Vol. 1, 18-22 July 1999, pp 402 – 407.
[36] D. Novosel, K. T. Vu, D. Hart, Eric Udren, “Practical Protection and Control
Strategies during Large Power System Disturbance”, Transmission and
Distribution Conference, 1996, pp. 560 - 565.
[37] J. Martinez, C. Dortolina, “Dynamic Simulation Studies on Electric Industrial
Systems for Designing and Adjusting Load Shedding Schemes”, Industrial and
Commercial Power Systems Technical Conference, Annual Meeting, 1994, pp. 23
- 29.
[38] Jorge Martinez, Carlos Dortolina, “Dynamic Simulation Studies on Electric
Industrial Systems for Designing and Adjusting Load Shedding Schemes”, IEEE
Industrial and Commercial Power Systems Technical Conference, 1994, pp. 23 -
29.
[39] Guasharan S. Grewal, Jogh W. Konowalec, el la, “Optimization of Load Shedding
Scheme in an Integrated Process Plant”, IEEE Transaction on Industry
Applications, Vol. 35, Issue 4, July/August 1999, pp. 959 - 967.
[40] V. N. Chuvychin, N. S. Gurov, S. S. Venkata, R. E. Brown, “An Adaptive
Approach to Load Shedding and Spinning Reserve Control During
Underfrequnecy Conditions”, IEEE Transactions on Power Systems, Vol. 11,
Issue 4, November 1996, pp. 1805 - 1810.
[41] O. Moya, “Power System Computer Controlled Load Shedding”, Electric Power
System Research, April 1996, pp. 165 - 171.
[42] J. Chen, “Accurate frequency estimation with phasor angles”, Virginia Tech
master thesis, 1994.
[43] IEEE Working Group H-8, “IEEE Standard for Synchrophasors for Power
Systems”, IEEE Transactions on Power Delivery, Vol. 13, No. 1, January 1998.
[44] Y. Min and X.-j. Sun, “Investigation on application of visualization in power
system dynamics,” Power System Technology, vol. 25, pp. 23-6, 2001.
[45] T. J. Overbye and J. D. Weber, “Visualizing the electric grid,” IEEE Spectrum,
vol. 38, pp. 52-8, 2001.
[46] T. J. Overbye, D. A. Wiegmann, A. M. Rich, and S. Yan, “Human factors aspects
of power system voltage contour visualizations,” IEEE Transactions on Power
Systems, vol. 18, pp. 76-82, 2003.
[47] Y. Min and X.-j. Sun, “Investigation on application of visualization in power
system dynamics,” Power System Technology, vol. 25, pp. 23-6, 2001.
References
150
[48] Q. H. A. Arsalan, A. Filbeck, and T. W. Gedra, “Application of virtual
instrumentation in a power engineering laboratory,” in 2002 45th Midwest
Symposium on Circuits and Systems. Conference Proceedings (Cat.
No.02CH37378). IEEE. Part vol.1, 2002, pp.I-675-8 vol.1. Piscataway, NJ, USA.,
pp. 2002.
[49] A. Mota Ad, L. T. M. Mota, and A. Morelato, “Teaching power engineering
basics using advanced web technologies and problem-based learning
environment,” IEEE Transactions on Power Systems, vol. 19, pp. 96-103, 2004.
[50] J. D. Weber and T. J. Overbye, “Voltage contours for power system
visualization,” IEEE Transactions on Power Systems, vol. 15, pp. 404-9, 2000.
[51] N. Kobayashi, T. Yamada, H. Okamoto, Y. Tada, A. Kurita, and Y. Sekine,
“Visualization of results of load flow calculation and dynamic simulation,”
Electrical Engineering in Japan (English Translation of Denki Gakkai
Ronbunshi), vol. 116, pp. 35-48, 1996.
[52] http://synchrophasor.selinc.com
[53] T. L. Baldwin, L. Mili, M.B. Boisen, R. Adapa: “Power System Observability
with Minimal Phasor Measurement Placement”, IEEE Trans. on Power Systems,
Vol. 8, No. 2, May 1993.
[54] http://www.nerc.com
[55] IEEE Working Group H-7, “Synchronized Sampling and Phasor Measurements
for Relaying and Control”, IEEE Transactions on Power Delivery, Vol. 9, No.1,
January 1994, pp. 442-452.
[56] P. Kundur, Power System Stability and Control: McGraw-Hill, Inc., 1994.
[57] P. W. Sauer and M. A. Pai, Power System Dynamics and Stability. Upper Saddle
River, New Jersey: Prentice Hall, 1998
[58] R. P. Schulz, and W. W. Price, “Classification and Identification of Power System
Emergencies,” IEEE Trans. on Power Apparatus and Systems, Vol. 103, No. 12,
pp. 3471-3479, December 1984.
[59] Bykhovsky, J. H. Chow, “Power System Disturbance Identification from
Recorded Dynamic Data from Northfield Substation,” International Journal of
Electrical Power and Energy Systems, Vol. 25, No. 10, pp. 787-795, December
2003.
[60] A. Bykhovsky, J. H. Chow, “Dynamic Data Recording in the New England Power
System and an Event Analyzer for the Northfield Monitor,” presented at VII
SEPOPE, Curitiba, Brazil, May 2000.
[61] K. Mei, S. M. Rovnyak, “Response-based Decision Trees to Trigger One-Shot
Stabilizing Control,” IEEE Trans. on Power Systems, Vol. 19, No. 1, pp. 531-537,
February 2004.
[62] S. M. Rovnyak, Final report for WAMS Enhancement Research Project for
Entergy Transmission, May 2003.
[63] R. P. Schulz, and B. B. Laios, “Triggering Tradeoffs for Recording Dynamics,”
IEEE Computer Applications in Power, Vol. 10, No. 2, pp. 44-49, April 1997.
[64] R. P. Schulz, “Modeling of Governing Response in the Eastern Interconnection,”
Proceedings of IEEE Winter Power Meeting, Vol. 1, pp. 561-566, 1999.
[65] Clouse, R.L.; Soowon Kim; Waldron, M.B.; An adaptive threshold learning
algorithm for classical conditioning, Engineering in Medicine and Biology society,
References
151
1997. Proceedings of the 19th Annual International Conference of the IEEE
Volume 3, 30 Oct.-2 Nov. 1997 Page(s):1380 - 1382 vol.3
[66] Roychowdhury, V.P.; Kai-Yeung Siu; Kailath, T.; Classification of linearly
nonseparable patterns by linear threshold elements, Neural Networks, IEEE
Transactions on Volume 6, Issue 2, March 1995 Page(s):318 – 331
[67] Goodman, R.M.; Zheng Zeng; A learning algorithm for multi-layer perceptrons
with hard-limiting threshold units, Neural Networks, 1994. IEEE World Congress
on Computational Intelligence., 1994 IEEE International Conference on
Volume 1, 27 June-2 July 1994 Page(s):193 - 197 vol.1
[68] Hyung ChuI Son; Jang Gyu Lee; Gyu In Jee; Mobile station location using hybrid
GPS and a wireless network, Vehicular Technology Conference, 2003. VTC
2003-Spring. The 57th IEEE Semiannual Volume 4, 22-25 April 2003
Page(s):2716 - 2720 vol.4
[69] Ying Yu; Silverman, H.F.; An improved TDOA-based location estimation
algorithm for large aperture microphone arrays, Acoustics, Speech, and Signal
Processing, 2004. Proceedings. (ICASSP '04). IEEE International Conference on
Volume 4, 17-21 May 2004 Page(s):iv-77 - iv-80 vol.4
[70] Bard, J.D.; Ham, F.M.; Time difference of arrival dilution of precision and
applications, Signal Processing, IEEE Transactions on [see also Acoustics,
Speech, and Signal Processing, IEEE Transactions on] Volume 47, Issue 2, Feb.
1999 Page(s):521 – 523
[71] Jahromi, O.S.; Aarabi, P.; Theory and design of multirate sensor arrays, Signal
Processing, IEEE Transactions on [see also Acoustics, Speech, and Signal
processing, IEEE Transactions on] Volume 53, Issue 5, May 2005 Page(s):1739
– 1753
[72] J. D. Bard, F. M. Ham, and W. L. Jones, “An algebraic solution to the time
difference of arrival equations,” in Proc. IEEE southeastcon Conf., Tampa, FL,
Apr. 11–14, 1996.
[73] M.B. Djukanovic, “Prediction of power system frequency response after generator
outages using neural nets”, IEE Proceedings-C, vol.140, No.5, Sep. 1993
[74] Concordia, C. et al.: “Load shedding on an isolated system”, IEEE Trans. Power
Syst., 1995, 10,(3), pp.1467-1472
[75] D.Prasetijo, “A new load shedding scheme for limiting under frequency”, IEEE
Trans. Power Syst., 1994, 9, (3), pp. 1371-1378
[76] V.V. Terzija, “Adaptive under frequency load shedding integrated with a
frequency estimation numerical algorithm”, IEE Proc.-Gener. Transm. Distrib.
Vol. 149, No. 6, Nov. 2002
[77] Anderson, P.M., et al: “A low-order system frequency response model”, IEEE
Trans. Power Syst., 1990, 5, (3), pp.790-729
[78] M. Larsson, C. Rehtanz, “Predictive frequency stability control based on widearea
phasor measurement”, IEEE Power Engineering summer meeting, 7, 2002
Appendix A FNET Server Program Manual
152
Appendix A FNET Server Program Manual
This section provides an overview of the software structure of FNET. The purpose of this
document is to assist programmer in the further enhancement and development of this
software. This section will describe the software structure and the operations of all the
classes of object build for the system.
A.1 Main Program Structure
The FNET software consists of three main tiers:
􀂃 The Man Machine Interface (MMI)
􀂃 The communication using windows sockets.
􀂃 Database manipulation.
The application is built on dialog box template in Microsoft Visual C++ 6.0, and the
application (release version) can run on the platform series of Windows Operation
System. The Application class CFNETReceiverApp will setup a dialog box template and
run three classes of object. The CMySocket handles the socket communication while the
CFNETReceiverDlg provide the MMI.
Figure A.1 Software Structure of Server Program
CFNETReceiverApp
DialogBox
CFNETReceiverDlg
GUI facility
CFNETDatabaseSet
Database
Operation
CMySocket
Socket
Communication
Appendix A FNET Server Program Manual
153
A.2 User Interface Description
Figure A.2 Multi-unit Server Program Interface
There are four parts in the user interface screen. They are
1. TreeView shows FNET clients (FDR) from different sites, here we use the site
location as the name of FDR.
Figure A.3 TreeView of the GUI
2. Group Box shows the selected FDR’s status: the location, IP address of the FDR
unit and its relative port number in server side
Appendix A FNET Server Program Manual
154
Figure A.4 Status window of GUI
3. Graph class – COScopeCtrl displays the selected FDR’s frequency graph. The
resolution of the graph can be set at the time of adding the relative FDR.
Figure A.5 Plot Window of GUI
4. List Box shows all the messages in the server from the selected FDR, there are
eight items in the coming message: UnitID, Date, Time, ConvNum, First Freq,
Final Freq, Voltage Magnitude, Voltage angle. These messages will be stored in
background when displayed in the screen.
Figure A.6 Message Window of GUI
Appendix A FNET Server Program Manual
155
A.3 User Interface Operation
The server program starts with no FDR, and so some operation need to be done for the
server to receive the information and data from FDR clients.
A.3.1 Add new FDR to the Server
In order to add new FDR in the server, you need first click the “AddFDR” button on the
top of interface, and the following dialog will popup:
Figure A.7 Add New Unit Dialog
Input the information the dialog needed.
• Server Port Number: the port need to be opened for this FDR, before input the
number, first check the port number which has been using;
• FDR Name: the name of FDR used in server and database, usually use the
location as FDR name;
• Graph Resolution (Ymax & YMin): these two parameters are the maximum and
minimum frequency limit and are graph resolution when this FDR is selected to
be displayed in the screen.
After input all needed information, click ADD to return to main interface. If there is a
client transmits the data to the opened port, the graph will start to plot the frequency, the
message box will flash all the data in the screen and the status box will shows the
information of this added FDR.
Appendix A FNET Server Program Manual
156
A.3.2 Observe another FDR in the Server
If you need to observe another FDR, just double click the FDR’s name in the left side tree
view. After your select, the graph will clear the last FDR frequency plot and start a new
plot for the selected one, the message box will also clear the data of last FDR and start to
flash the data of this one, so will the message box.
A.3.3 Delete a FDR in the Server
If one FDR stops to communication or it is removed, this FDR can be deleted in the
server. First, select the FDR in the left side TreeView, and then click the “Delete FDR”
button on the top of server. There will be a confirmation window for this operation, if this
FDR really need to be deleted from this server, just click Delete in this confirmation
window.
This operation just closes the pointed port and stops receiving any information from this
FDR, and it will not affect in database. The data and information of this FDR will not be
deleted from database.
A.3.4 Stop and Exit the Server
This operation will close all the opening ports and stop all processes receiving
information. Click the “Exit” button on the top of server is ok.
A.4 Communication through the Socket
The CFNETReceiverDlg object will create a series of listening socket objects from the
class CMySocket. The CMySocket is the class object used for the actual communication.
The CFNETReceiverDlg will uses the string stream structure receive and transmit
Appendix A FNET Server Program Manual
157
message or command through the socket. In order to ensure efficiency, attempt to
connect any CMySocket will run as a separate thread.
In the server side, the server need to be start first and provide service based on request:
• Open the relative ports and tell local host that the server can receive client request
on these ports,
• Wait for the client request to these ports,
• Notify this listening socket that it can accept pending connection requests by
calling Accept. Then the socket calls Receive to deal with this connection request,
• Back to second step,
• Close
In the client side,
• Open communication channel and connect to the specific port of the server
• Send request for communication and wait for the accept message,
• Close channel and stop communication
Socket
Constructe
Create()
Listen()
Accept()
Receive()
Close()
Figure A.8 Flow Chart of Communication Structure
A.5 Database Design
Appendix A FNET Server Program Manual
158
The FNET database is built with Microsoft Access 2000. Two databases are required and
maintained in the software. The FNET.mdb contains record of the FDR clients’
information and data. There are two type of Table in this database; FDRInfo contains the
FDR information, while FDRRawdata contains the data while the LoginList.mdb
contains the login name and password. CLSSet map and open the LSBase.mdb while
CSecuritySet maps to the LoginList.mdb.
CDIFBase and CIEDBase are used as temporary array to contain data on DIF and IED
separately from LSBase.mdb.
Database Details Definition
Table Name FDRInfo
Fundamental Responsibilities Store the information of FDR clients
Field Name Data Type
FDR_Client_IP Text
FDR_Location Text
FDR_Client_portNum Number/Integer
CreatTime(EST) Date/Time
Table Name FDRRawData#
Fundamental Responsibilities Store the incoming data from the FDR clients
Field Name Data Type
ConvNum Number/Integer
Sample_Date&Time(UTC) Date/Time
FirstFreq Number/Single
FinalFreq Number/Single
UnitID Number/Byte
voltageMag Number/Single
voltageAng Number/Single
DateCreated(EST) Date/Time
Appendix A FNET Server Program Manual
159
A.6 Class Details Definition
This section will briefly describe the operation of all the classes used in FNET software
system.
A.6.1 CFNETReceiverDlg Class
Class Name CFNETReceiverDlg
Parent Class CDialog
Fundamental
Responsibilities
The base class from which a Windows application object
is derived. An application object provides member
functions for initializing application and for running the
application.
Operations Description
CFNETReceiverDlg () Class Constructor
AddDatabaseRawData () Put the coming data into background ACCESS database
AddListItem () Put the coming data for screen message display
AddMySQL() Put the coming data into MySQL database for web
AutomaticBackup() Save the ACCESS data file, and open a new file daily
CloseMySQL() Close the connection with MySQL database
DatabaseConnectionClose () Close the connection with ACCESS database
DatabaseConnectionOpen () Open the connection with ACCESS database
DoDataExchange () Exchange the data
FillListCtrlHeaders() Fill the message ListCtrl headers
InitGraph () Initialize the screen graph information
OnAddPMU () Reaction to popup window to add a new FDR client
OnClear () Clear the screen information(graph and message window)
OnDblclkTree() Reaction when double click tree view
OnDelPMU() Reaction to delete a new FDR client
Appendix A FNET Server Program Manual
160
OnInitDialog() Initialize the dialog
OnPaint()
OnQueryDragIcon()
OnSysCommand()
OpenMySQL() Open the connection with MySQL database
ProcessClose() Close the process of message management
ProcessMessage() Get the information from socket function and send these
to database and screen
SendData(ListItem &lItem) Send the data to a second server **TESTING**
StatusDisplay() Display the status of selected FDR
A.6.2 CFNETReceiverApp Class
Class Name CFNETReceiverApp
Parent Class CWinApp
Fundamental Responsibilities The base class from which a Windows application
object is derived. An application object provides
member functions for initializing application and for
running the application.
Operations Description
CFNETReceiverApp () Class Constructor
InitInstance () Initialize the application
A.6.3 CMySocket Class
Class Name CMySocket
Parent Class CAsyncSocket
Fundamental Responsibilities Manage the client socket communication, data
transmission.
Operations Description
CMySocket () Class Constructor
Appendix A FNET Server Program Manual
161
~CMySocket () Initialize the application
OnAccept () Reaction when connection request from client arrives
OnClose () Reaction when the socket need to be closed
OnReceive () Reaction when the socket starts to receive information
and data from client
SetParent () Set the parent object of this class
ValidateMessage () Determine whether the incoming data is complete or
not
A.6.4 COScopeCtrl Class
Class Name COScopeCtrl
Parent Class CWnd
Fundamental Responsibilities The base class from which a display window is
derived. The window is used for plotting the frequency
of the selected FDR
Operations Description
COScopeCtrl () Class Constructor
~COScopeCtrl () Class Destructor
AppendPoint () Append a new point for plotting
Create () A new object of this class is created
DrawPoint() Draw the point of window
InvalidateCtrl()
OnPaint()
OnSize ()
Reset()
SetBackgroundColor() Set the color of window background
SetGridColor() Set the color of window grid
SetPlotColor() Set the color of plot curve
SetRange() Set the range of plot curve
Appendix A FNET Server Program Manual
162
SetShiftPixels() Set the shift pixels of plot curve
SetXUnits() Set the unit of x axis
SetYUnits() Set the unit of Y axis
A.6.5 CPMUDlg Class
Class Name CPMUDlg
Parent Class Cdialog
Fundamental Responsibilities The base class from which a Windows application
object is derived. An application object provides
member functions for initializing application and for
running the application.
Operations Description
CPMUDlg () Class Constructor
DoDataExchange () Initialize the application
OnOK() Reaction when the ok button is clicked
A.6.6 CFNETRecord Class
Class Name CFNETRecord
Parent Class CRecordset
Fundamental Responsibilities MySQL database class used for adding frequency data
to MySQL database.
Operations Description
CFNETRecord () Class Constructor
A.6.7 ListItem Struct
Struct Name ListItem
Fundamental Responsibilities The base class from which a Windows application
object is derived. An application object provides
Appendix A FNET Server Program Manual
163
member functions for initializing application and for
running the application.
Data Member Description
string socketNum The relative port number of socket of the object
string time Sampled Time of the data
string time_Date Sampled date of the data
string convNum The number of the data in 1 second
string firstFreq The measured temporary frequency
string finalFreq The measured final frequency
string UnitID The specific unit ID of FDR
string voltageMag The measured voltage magnitude
string voltageAng The measured voltage angle
CString PMUIPAddress The IP Address of FDR
CString PMUName The name of FDR
int m_isocketPortNum The number this socket process
int ItemNum The item number of this socket process
double YMax, YMin The graph resolution of frequency
Appendix B PHP Code of FNET Web Server
164
Appendix B PHP Code of FNET Web Server
<?// If the username and password are incorrect/missing, prompt for them
$user = "fnet";
$pass = "virginiatech";
if (!isset($HTTP_POST_VARS['username'])){
$HTTP_POST_VARS['username'] = '';
$HTTP_POST_VARS['password'] = '';
}
if (!($HTTP_POST_VARS['username'] == $user && ($HTTP_POST_VARS['password']
== $pass || $HTTP_POST_VARS['password']=="test"||
$HTTP_POST_VARS['password']=="testaccess"))){
echo<<<END
<html><body>
<form method="post" action="index.php" name="login"><font face="arial">
<table border="0">
<tr><td colspan="2" align="center"><a href="http://www.vt.edu/" title="Virginia Tech
Homepage"><img src="vtlogo.gif" border="0"></a></td></tr>
<!--<tr><td colspan="2" align="center" aa464b><a href="http://www.ece.vt.edu/"
title="The Bradley Department of Electrical and Computer Engineering "><img
src="eceinside.gif" border="0"></a><br><br></td></tr></td><td><font size="3"
color="#aa464b">-->
<tr></tr><tr></tr><tr></tr>
<tr><td align="center">Username:<input name="username" type="text" value=""
size="13"><br></td></tr>
<tr><td align="center">Password:<input name="password" type="password" value=""
size="13"><br></td></tr>
<tr><td align="center">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input
type="submit" value="Login"></td></tr>
<tr><td colspan="2" align="center"><a href="http://www.ece.vt.edu/" title="Dept. of
ECE"><img src="bradley.gif" border="0"></a></td></tr>
<tr><td align="center"><font size="3" color="#990000">The Bradley Department of
Electrical and Computer Engineering</font></td></tr>
<tr><td align="center"><font size="3" color="#990000">Any comments please contact
<a href="mailto:acss@vt.edu">zzhong@vt.edu</a> </font></td></tr>
</table>
</font></form>
</body></html>
END;
exit;
}
//echo "Computer Time:".gmdate('D, d M Y H:i:s \G\M\T', time())."<br>";
Appendix B PHP Code of FNET Web Server
165
//connect to MySQL database
$conn = mysql_connect("localhost","root","") or die ("Could not connect to localhost");
$db = mysql_select_db("fnetserver", $conn);
// The query includes < '30000000000000' because older dates were formatted with
month first
$result = mysql_query("select * from serverinfo where time < '30000000000000' order
by time desc limit 0, 10", $conn);
// Colors used for freq deviation
$color0 = "#ffffff";
$color1 = "#ff0000";
$color2 = "#ffaf00";
$color3 = "#ffff00";
$color4 = "#00ff00";
$color5 = "#00ffff";
$color6 = "#00afff";
$color7 = "#000fff";
?>
<html>
<head>
<!--<META HTTP-EQUIV="Refresh" CONTENT="5; URL=index.php"> -->
<script language="JavaScript">
<!-- // JS refresh: http://grizzlyweb.com/webmaster/javascripts/refresh.asp
var sURL = unescape(window.location.pathname);
function doLoad()
{ // the timeout value should be the same as in the "refresh" meta-tag
setTimeout( "refresh()", 5*1000 );
}
function refresh()
{ // This version of the refresh function will cause a new
// entry in the visitor's history. It is provided for
// those browsers that only support JavaScript 1.0.
//
//window.location.href = sURL;
document.forms[0].submit();
}
//-->
</script>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>FNET Server Streamer</title>
Appendix B PHP Code of FNET Web Server
166
</head>
<body onLoad="doLoad()">
<font face="Arial" size="4"><b>Welcome to FNET Server of Virginia Tech
<br></font>
<font face="Geneva" size="3" color="990000"><I>at The Bradley Department of
Electrical and Computer Engineering</I></b></font><br><br>
Color Vs Frequency
<br>
<table border="1">
<tr>
<td bgcolor="<?=$color7?>"><59.90</td>
<td bgcolor="<?=$color6?>">59.90~59.95</td>
<td bgcolor="<?=$color5?>">59.95~59.99</td>
<td bgcolor="<?=$color4?>">59.99~60.01</td>
<td bgcolor="<?=$color3?>">60.01~60.05</td>
<td bgcolor="<?=$color2?>">60.05~60.10</td>
<td bgcolor="<?=$color1?>">>60.10</td>
<td>NO DATA</td>
</tr>
</table><br>
Time Zone:UTC<br><br>
<?
echo '<table border="1" cellspacing="2">';
// Get the number of rows and columns so that when more columns are added, the page
automatically adjusts.
$num_fields = mysql_num_fields($result);
$num_rows = 10; // 10 rows = 1 minute (set in query)// mysql_num_rows($result);
// Load values to a 2-D array so they can be printed properly
$i=0;
while ($row = mysql_fetch_row($result)){
for($j=0; $j<$num_fields; $j++){
$FreqArray[$j][$i] = $row[$j];
}
$i++;
}
// Print a row for each fnet box
/*for($i=0;$i<$num_fields-1;$i++){
echo "<tr>\n <td>";
echo mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
Appendix B PHP Code of FNET Web Server
167
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}*/
/*
//Unit at NY, UMR, ARI, VT
for($i=0;$i<4;$i++){
echo "<tr>\n <td>";
echo mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
Appendix B PHP Code of FNET Web Server
168
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at MISS
for($i=6;$i<7;$i++){
echo "<tr>\n <td>";
echo mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at UFL
for($i=8;$i<9;$i++){
echo "<tr>\n <td>";
echo mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
Appendix B PHP Code of FNET Web Server
169
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at Calvin
for($i=10;$i<11;$i++){
echo "<tr>\n <td>";
echo "Calvin";//mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
Appendix B PHP Code of FNET Web Server
170
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at ABB,Raleigh
for($i=5;$i<6;$i++){
echo "<tr>\n <td>";
echo "ABB";//mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at Tulane
for($i=16;$i<17;$i++){
echo "<tr>\n <td>";
echo "Tulane";//mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
Appendix B PHP Code of FNET Web Server
171
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at Seattle
for($i=4;$i<5;$i++){
echo "<tr>\n <td>";
echo "Seattle";//mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
Appendix B PHP Code of FNET Web Server
172
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at CA
for($i=7;$i<8;$i++){
echo "<tr>\n <td>";
echo "EPRI";//echo mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at ASU
for($i=13;$i<14;$i++){
echo "<tr>\n <td>";
echo "ASU";//mysql_field_name($result, $i);
echo "</td>";
Appendix B PHP Code of FNET Web Server
173
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at LA
for($i=15;$i<16;$i++){
echo "<tr>\n <td>";
echo "LA";//mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
Appendix B PHP Code of FNET Web Server
174
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
//Unit at Houston
for($i=11;$i<12;$i++){
echo "<tr>\n <td>";
echo "Houston";//mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
*/
//Unit at Houston
for($i=9;$i<10;$i++){
Appendix B PHP Code of FNET Web Server
175
echo "<tr>\n <td>";
echo "Houston";//mysql_field_name($result, $i);
echo "</td>";
for($j=$num_rows-1; $j>=0; $j--){
$freq = $FreqArray[$i][$j];
if($freq >60.2) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.10) echo "<td bgcolor=\"$color1\"
valign=\"top\">".$freq."</td>";
else if($freq>60.05) echo "<td bgcolor=\"$color2\"
valign=\"top\">".$freq."</td>";
else if($freq>60.01) echo "<td bgcolor=\"$color3\"
valign=\"top\">".$freq."</td>";
else if($freq>59.99) echo "<td bgcolor=\"$color4\"
valign=\"top\">".$freq."</td>";
else if($freq>59.95) echo "<td bgcolor=\"$color5\"
valign=\"top\">".$freq."</td>";
else if($freq>59.90) echo "<td bgcolor=\"$color6\"
valign=\"top\">".$freq."</td>";
else if($freq>59.80) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq>58.00) echo "<td bgcolor=\"$color7\"
valign=\"top\">".$freq."</td>";
else if($freq<=58.0) echo "<td align=\"middle\"><font color=\"#ff0000\"
size=\"2\">NO DATA</font></td>";
}
echo "\n</tr>";
}
echo "<tr>";
echo "<td>UTC Time</td>"; // mysql_field_name($result, $num_fields-1);
// Now print out the times
for($j=$num_rows-1; $j>=0; $j--){
$temp=$FreqArray[$num_fields-1][$j];
echo "<td align=\"center\" valign=\"top\">";
echo substr($temp,4,2).'/'.substr($temp,6,2).'/'.substr($temp,0,4).'<br>'
.substr($temp,8,2).':'.substr($temp,10,2).':'.substr($temp,12,2)."</td>";
}
echo "</tr>\n</table>";
mysql_close($conn);
?>
<form method=post action="index.php" name="refresh">
<input name="username" type="hidden"
value="<?=$HTTP_POST_VARS['username']?>">
Appendix B PHP Code of FNET Web Server
176
<input name="password" type="hidden"
value="<?=$HTTP_POST_VARS['password']?>">
</form>
<form method=post action="mapindex.php" name="mapversion">
<input name="username" type="hidden"
value="<?=$HTTP_POST_VARS['username']?>">
<input name="password" type="hidden"
value="<?=$HTTP_POST_VARS['password']?>">
<input name="mv_submit" value="Map Version" type="submit">
</form>
<p><font size="5" color="#ff0000">The FNET Server is being continuously modified
and you may see temporary hold and data out on this page.</font><br><br>
<font size="2" color="#ff0000">The data displayed here is a 5-second average result,
there are 10 points every second.<br><br>
You must have a JavaScript compatible browser for this page to refresh
automatically<br><br>
If you have any comments, please send an email to zzhong@vt.edu</font></p>
</body>
</html>
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
177
Appendix C Daily Frequency Oscillation Spectrum
Matlab Code and Result Plot
function data_analysis_oscillation(year, month, day)
%clear all
%year = 2005; month = 4; day = 21;
event_start_time = [year month day 0 0 10];
event_end_time = [year month day 23 59 58];
fig1on=0; %10 point averaging plot
fig2on=0; %raw data plot
fig3on=0; %wavelet denoise data plot
fig4on=1; %oscillation analysis
findfreqflag=0;
datapath = ['I:\SplitDate\'];
year_c = num2str(year); month_c = num2str(month); day_c = num2str(day);
if length(month_c)==1,
month_c = ['0',month_c]; end
if length(day_c)==1
day_c = ['0',day_c]; end
datafile = ['fdr-',num2str(year_c),'-',month_c,'-',day_c,'-EST.mat'];
%--------------------------------------------------------------------------
units = [1 2 3 4 6 7 9 11 17];
unitsname = ['NY ';'UMR';'ARI';'VT ';'ABB';'MIS';'UFL';'CAL';'TLN'];
%MIS: Missiisspii, CAL: Calvin College, TLN: Tulane University ;'TVA'
%--------------------------------------------------------------------------
%units = 11;
%unitsname = ['CAL'];
%units = 12;
%unitsname = ['TX'];
%--------------------------------------------------------------------------
%units = [5 8 14 16];
%unitsname = ['SEA';'CA ';'ASU';'LA '];
%STL: Seattle, CA: EPRI, ASU: Arizona State University,
% find the frequency time at the spotted region
findstart_time = [2005 3 25 11 01 00];
findend_time = [2004 11 23 11 01 20];
findfreq = 59.98;
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
178
if fig1on==1
fig1 = figure;
ax1 = [];
hold on
end
if fig2on==1
fig2 = figure;
ax2=[];
hold on
end
if fig3on==1
fig3 = figure;
ax3 = [];
hold on
end
if fig4on==1
fig4 = figure;
ax4 = [];
hold on
end
cmat = colormap('jet');
legendtxtk=1;
for k=1:length(units)
warning off
eval(['load ',datapath,datafile,' FDR',num2str(units(k)),';']);
warning on
if exist(['FDR',num2str(units(k))],'var')
eval(['FDR',num2str(units(k)),'_event_start_indx = min(find(datenum(FDR',...
num2str(units(k)),'.date)>datenum(event_start_time)));']);
eval(['FDR',num2str(units(k)),'_event_end_indx = max(find(datenum(FDR',...
num2str(units(k)),'.date)<datenum(event_end_time)));']);
eval(['tmpindx1 = FDR',num2str(units(k)),'_event_start_indx;']);
eval(['tmpindx2 = FDR',num2str(units(k)),'_event_end_indx;']);
if tmpindx1 >0 & tmpindx2>0 & tmpindx2>tmpindx1
eval(['FDRdata = FDR',num2str(units(k)),';']);
FDRdataraw.freq = FDRdata.freq(tmpindx1:tmpindx2);
FDRdataraw.date = FDRdata.date(tmpindx1:tmpindx2,:);
FDRdata.freq = FDRdata.freq(tmpindx1:tmpindx2);
FDRdata.date = FDRdata.date(tmpindx1:tmpindx2,:);
windowSize = 10;
FDRdata.freq = filter(ones(1,windowSize)/windowSize,1,FDRdata.freq); %
running average
% 2 round average
FDRdata.avefreq = filter(ones(1,windowSize)/windowSize,1,FDRdata.freq);
%Calculate the oscillation of the frequency
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
179
FDRdata.oscillation = (FDRdataraw.freq(windowSize/2:end-windowSize/2) -
FDRdata.freq(windowSize:end));
Y = fft(FDRdata.oscillation,51200);
Pyy = Y.* conj(Y) / 51200;
f = 10*(0:25600)/51200;
title('Oscillation content of the frequency')
xlabel('frequency (Hz)')
if length(FDRdataraw.freq)>0
if fig1on==1
figure(fig1);
ax1(legendtxtk) =
plot(datenum(FDRdata.date(windowSize:end,:)),FDRdata.freq(windowSize:end));
%set(ax1,'Color',cmat(1+round((k-1)*64/length(units)),:))
end
if fig2on==1
figure(fig2);
ax2 = plot(datenum(FDRdataraw.date),FDRdataraw.freq);
set(ax2,'Color',cmat(1+round((k-1)*64/length(units)),:))
end
if fig3on==1
% denoise the data
freqdata = wden(FDRdataraw.freq,'heursure','h','one',3,'db4');
figure(fig3);
ax3(legendtxtk) = plot(datenum(FDRdataraw.date),freqdata);
%set(ax3,'Color',cmat(1+round((k-1)*64/length(units)),:))
end
if fig4on==1
figure(fig4);
ax4(legendtxtk) = plot(f,Pyy(1:25601));
end
legendtxt{legendtxtk} = ['FDR',num2str(units(k)),' - ',unitsname(k,:)];
legendtxtk = legendtxtk+1;
end
%title(['Unit ',num2str(units(k))]);
%----------------------------------------------------
% find the target frequency time
if findfreqflag==1
FDRdata_findstart_indx =
min(find(datenum(FDRdata.date)>datenum(findstart_time)));
FDRdata_findend_indx =
max(find(datenum(FDRdata.date)<datenum(findend_time)));
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
180
FDRdata.date =
FDRdata.date(FDRdata_findstart_indx:FDRdata_findend_indx,:);
FDRdata.freq =
FDRdata.freq(FDRdata_findstart_indx:FDRdata_findend_indx);
[y,i]=min(abs(FDRdata.freq-findfreq));
if FDRdata.freq(i) < findfreq
slope = (datenum(FDRdata.date(i-1,:))-
datenum(FDRdata.date(i,:)))/(FDRdata.freq(i-1) - FDRdata.freq(i));
findfreqtime = slope*(findfreq-FDRdata.freq(i))+datenum(FDRdata.date(i,:));
disp(['The neaby 2 points times are ',num2str(FDRdata.date(i-
1,4)),':',num2str(FDRdata.date(i-1,5)),':',num2str(FDRdata.date(i-1,6)),...
' and
',num2str(FDRdata.date(i,4)),':',num2str(FDRdata.date(i,5)),':',num2str(FDRdata.date(i,6)
)])
elseif FDRdata.freq(i) > findfreq
slope = (datenum(FDRdata.date(i,:))-
datenum(FDRdata.date(i+1,:)))/(FDRdata.freq(i) - FDRdata.freq(i+1));
findfreqtime = slope*(findfreq-
FDRdata.freq(i+1))+datenum(FDRdata.date(i+1,:));
disp(['The neaby 2 points times are
',num2str(FDRdata.date(i,4)),':',num2str(FDRdata.date(i,5)),':',num2str(FDRdata.date(i,6)
),...
' and
',num2str(FDRdata.date(i+1,4)),':',num2str(FDRdata.date(i+1,5)),':',num2str(FDRdata.dat
e(i+1,6))])
else
findfreqtime = datenum(FDRdata.date(i));
end
disp(['FDR',num2str(units(k)),' ',num2str(findfreq),'Hz time is
',datestr(findfreqtime,13)]);
end
end
end
%------------------------------------------------------------
end
linecolor = ['b','g','r','c','m','k','y'];
cmat1 = [1,0,0; 0,0.5,0; 0,0,1; 0.75,0,0.75; 0.75,0.75,0; 0.6,0.2,0; 0.25,0.25,0.25;
1,0.69,0.39];
cmat = colormap('jet');
if fig1on==1
figure(fig1);
if length(ax1)<=8
for k=1:length(ax1)
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
181
set(ax1(k),'Color',cmat1(k,:));
end
else
for k=1:length(ax1)
set(ax1(k),'Color',cmat(1+round((k-1)*16/length(ax1)),:))
end
end
legend(legendtxt);
title([num2str(year),'/',num2str(month),'/',num2str(day),' ',num2str(windowSize),'-point
average']);
ylabel('Frequency (Hz)');
xlabel('Time (EST)');
dynamic_date_axis
end
if fig2on==1
figure(fig2);
if length(ax2)<=8
for k=1:length(ax3)
set(ax2(k),'Color',cmat1(k,:));
end
else
for k=1:length(ax3)
set(ax2(k),'Color',cmat(1+round((k-1)*64/length(ax2)),:))
end
end
legend(legendtxt);
title([num2str(year),'/',num2str(month),'/',num2str(day),' ','raw data']);
ylabel('Frequency (Hz)');
xlabel('Time (EST)');
dynamic_date_axis
end
if fig3on==1
figure(fig3);
if length(ax3)<=8
for k=1:length(ax3)
set(ax3(k),'Color',cmat1(k,:));
end
else
for k=1:length(ax3)
set(ax3(k),'Color',cmat(1+round((k-1)*64/length(ax3)),:))
end
end
legend(legendtxt);
title([num2str(year),'/',num2str(month),'/',num2str(day),' -wavelet denoise']);
ylabel('Frequency (Hz)');
xlabel('Time (EST)');
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
182
dynamic_date_axis
end
if fig4on==1
figure(fig4);
if length(ax4)<=8
for k=1:length(ax4)
set(ax4(k),'Color',cmat1(k,:));
end
else
for k=1:length(ax4)
set(ax4(k),'Color',cmat(1+round((k-1)*64/length(ax4)),:))
end
end
legend(legendtxt);
title([num2str(year),'/',num2str(month),'/',num2str(day),' -Oscillation Analysis']);
ylabel('Power Spectrum');
xlabel('Frequency (Hz)');
end
Figure C.1 Spectrum Analysis of Frequency Oscillation on Apr. 2, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
183
Figure C.2 Spectrum Analysis of Frequency Oscillation on Apr. 3, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
184
Figure C.3 Spectrum Analysis of Frequency Oscillation on Apr. 4, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
185
Figure C.4 Spectrum Analysis of Frequency Oscillation on Apr. 5, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
186
Figure C.5 Spectrum Analysis of Frequency Oscillation on Apr. 6, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
187
Figure C.6 Spectrum Analysis of Frequency Oscillation on Apr. 8, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
188
Figure C.7 Spectrum Analysis of Frequency Oscillation on Apr. 9, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
189
Figure C.8 Spectrum Analysis of Frequency Oscillation on Apr. 10, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
190
Figure C.9 Spectrum Analysis of Frequency Oscillation on Apr. 11, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
191
Figure C.10 Spectrum Analysis of Frequency Oscillation on Apr. 12, 2005
Appendix C Daily Frequency Oscillation Spectrum Matlab Code and Result Plot
192
Figure C.11 Spectrum Analysis of Frequency Oscillation on Apr. 13, 2005
The plots show the oscillation mode of each unit from Apr. 2 to Apr.14, more analysis
can be carried out with the same mathematical processing algorithm.
Appendix D Disturbance Location Code in Matlab
193
Appendix D Disturbance Location Code in Matlab
clear
datapath=['C:\MATLAB7\work\'];
datafile=['davisbesse.txt'];
freq = load(datafile);
b=size(freq);
windowSize = 20;
unitNum=20;%b(1,2);
pointNum=b(1,1);
confirmevent = 0;
%read the map into matlab
figure;
grid = imread('powerline-grid.jpg');
image(grid);
%Initialization of array and memory
for i=1:1:10*windowSize
for unit=1:1:unitNum
FreqMem(i,unit)=0;
counter(unit) = 0;
% dev(unit)=0;
end
end
eventcounter = 1;
%Grab the data
for n=1:1:pointNum
value = freq(n,1);
unit = freq(n,2);
time = freq(n,3);
for i=1:1:(10*windowSize-1)
FreqMem(i,unit) = FreqMem(i+1,unit);
end
FreqMem(10*windowSize,unit) = value;
counter(unit) = counter(unit)+1;
avefreq(1,unit) = mean(FreqMem(8*windowSize+1:9*windowSize,unit)); % running
average
avefreq(2,unit) = mean(FreqMem(9*windowSize+1:10*windowSize,unit));
dev(time,unit) = avefreq(2,unit)-avefreq(1,unit);
Appendix D Disturbance Location Code in Matlab
194
if (counter(unit)==3*windowSize)&(time>3*windowSize)
numarray = size(confirm_event_array);
for k=1:1:numarray(1)
if (unit == confirm_event_array(k,1))
avg_post_event(unit) = mean(FreqMem(9*windowSize:end,unit)) ;
confirm_event_array(k,6) = avg_post_event(unit);
% disp(['The ave Freq after event of Unit',num2str(unit), ' is:',
num2str(avg_post_event(unit)),' at:',num2str(time-0.5*windowSize)]);
if(unit == confirm_event_array(end,1))
confirm_post_avefreq = mean(confirm_event_array(:,6));
delta_freq = confirm_pre_avefreq - confirm_post_avefreq;
delta_W = delta_freq * 31464;
disp(['The frequency change during the event is:',num2str(delta_freq),'Hz,
generation change is:',num2str(delta_W),'MW']);
confirm_event_array = 0;
end
end
end
end
if (counter(unit)>3*windowSize)
%determine whether the deviation exceeds the threshold
if (dev(time,unit)<-0.007)
i=time;
while (dev(i, unit)<-.001)
i = i-1;
end
avg_pre_event(unit)=mean(FreqMem((10*windowSize-time+i-
2.5*windowSize):(10*windowSize-time+i),unit));
disp(['Unit',num2str(unit),' Dev is: ', num2str(dev(time,unit)), ' at:',
num2str(time),' start from:',num2str(i),' average pre_event freq is:
',num2str(avg_pre_event(unit))]);
counter(unit)=0;
%put the detected event information in array
eventArray(eventcounter, 1) = unit; %unit ID
eventArray(eventcounter, 2) = dev(time,unit); %Deviation value
eventArray(eventcounter, 3) = time; %sequence Number, time
eventArray(eventcounter, 4) = avg_pre_event(unit); %pre_event average
frequency
eventArray(eventcounter, 5) = 1; %event end time find flag
Appendix D Disturbance Location Code in Matlab
195
%find out whether other units detect the event in 5 seconds
if eventcounter>1
for k=1:1:eventcounter-1
deltaTime = time-eventArray(k,3);
if (deltaTime<3*windowSize)&(unit-eventArray(k,1))
confirmevent = confirmevent + 1;
for i=1:1:5
confirm_event_array(confirmevent,i)=eventArray(k,i);
end
end
end
if confirmevent==5
for i=1:1:5
confirm_event_array(confirmevent+1,i)=eventArray(eventcounter,i);
end
confirm_pre_avefreq = mean(eventArray(:,4));
disp([num2str(confirmevent+1),'units confirmed event!!! ave
is:',num2str(confirm_pre_avefreq)]);
drop_sequence = confirm_event_array(:,1);
for i=1:1:confirmevent
deltaTime(i) = confirm_event_array(i+1,3)-confirm_event_array(i,3);
end
drop_sequence = drop_sequence'
deltaTime = deltaTime/10
%gen(1,:)=[5202.2 1764.9]; %Watts_Bar
gen = [5276.6 2803.4]; %Davis_Besse
demoLocation(drop_sequence, deltaTime, gen);
end
confirmevent = 0;
end
eventcounter = eventcounter + 1 ;
end
end
end
VITA
196
VITA
Zhian Zhong
Personal
Date of Birth: October 22, 1978
Place of Birth: Jiujiang, Jiangxi Province, P. R. China
Education
Ph.D. Electrical Engineering, 2005
Virginia Polytechnic Institute and State University, Blacksburg, VA
Dissertation: “Power Systems Frequency Dynamic Monitoring System
Design and Applications”
M.S. Electrical Engineering in Power System, 2003
Tsinghua University, Beijing, China
Thesis: “Study of Power System Wide Area Power Angle Measurement
System”
B.S. Electrical Engineering in Power System Automation, 2000
Tsinghua University, Beijing, China
Thesis: “Graphical Interfaces and Communication in Real-time Decisionmaking
System for Power System”
Professional Experience
• Graduate Research Assistant 08/2003 -06/2005
Power IT Lab, Virginia Tech, Blacksburg, VA
1. Implementation of the project: power system frequency monitoring network
Tuning the program of Frequency Disturbance Recorder (FDR). Involved in
tuning the hardware design of Frequency Disturbance Recorder. Programming
the server code to receiving the data sending from FDR through Internet and
storage the data to the database. Designing the web server to display the data
online.
2. Under Frequency Load Shedding (UFLS) new algorithm design based on
wide-area frequency information
3. Frequency Information Analysis with data from FNET
• Graduate Research Assistant 07/2000 -06/2003
State Key Laboratory of Control and Simulation of Power System and
Generation Equipment, Tsinghua University, China
1. Participating in the project “Research on collapse prevention and optimal
operation of the large-scale power systems in china”, supported by National
973 Key Basic Research Special Fund of China.
VITA
197
2. Involved in the project “South Grid Power System Voltage Stability
Analysis”. Studying power system analysis software package of VSAT
(Voltage Stability Assessment Tool), TSAT (Transient Stability Assessment
Tool) and BPA, making the system simulation and analysis of the power
system in four provinces in south China, which is a very large power system
including HVDC and AC transmission lines, with VSAT,TSAT and BPA
• Senior Research Assistant 09/1999-07/2000
Power System Simulation Laboratory, Tsinghua University, China
1. Power system monitoring system design, programming communication
software to connect the client and server computer and graphical interface of
the server to handle data
Publication
Zhian Zhong, Cheng Lin, Sun Yuanzhang, “Study on global measurement of transient
power angle and dynamic simulating experiment”, Automation of Electric Power
Systems, 2002(No.16), in Chinese.
Peng Jiangnan, Zhian Zhong, Sun Yuanzhang “Power system hybrid simulator for
transient stability analysis and emergency control based on real-time wide area
measurement”, Power Systems and Communications Infrastructures for the future,
Beijing, 9/2002.
Zhian Zhong, Cheng Lin, Sun Yuanzhang, “A Novel PMU Configuration and
Application in Real-time Transient Stability Analysis and Emergency Control”,
Proceedings on International Power Engineering Conference (IPEC 2003), Singapore,
May 27-29, 2003.
Yilu Liu, S.-J. S. Tsai, Zhian Zhong, “Frequency Dynamic Behavior of Large Power
Systems”, in 2nd International Conference on Critical Infrastructures, Grenoble,
France,2004.
Zhian Zhong, C. Xu, B. J. Billian, S.-J. S. Tsai, R. W. Conners, V. A. Centeno, A.G.
Phadke, Y. Liu, "Power System Frequency Monitoring Network (FNET)
Implementation," IEEE Transactions on Power Systems, (accepted, in press).
S.-J. S. Tsai, Z. Zhong, J. Zuo, "Frequency Analysis of Bulk Power Systems from
Wide Area Measurements" (In progress)
Zhian Zhong, Yilu Liu, “Study on event location and estimation of generation change
in generator tripping event”, (in progress)
VITA
198
Technical report
Zhian Zhong, Yilu Liu, “FNET server design and under frequency loading
shedding research based on wide-area information”
Zhian Zhong, Yilu Liu, “Estimation of event location and tripped generation of
generator tripping fault based on FNET frequency information”
all information based on research conducted by :ADRIAN.OROZCO.JIMENEZ.ACOSTA.GAMEZ
ALL_RIGHTS_RESERVED.COPYRIGHT(C)1981.ADRIAN.OROZCO.JIMENEZ.ACOSTA.GAMEZ(C)
